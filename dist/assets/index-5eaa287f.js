var e2=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var n5=e2(_v=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function l1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function t2(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){if(this instanceof i){var r=[null];r.push.apply(r,arguments);var o=Function.bind.apply(t,r);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}),n}var c1={exports:{}},Kd={},u1={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wu=Symbol.for("react.element"),n2=Symbol.for("react.portal"),i2=Symbol.for("react.fragment"),r2=Symbol.for("react.strict_mode"),o2=Symbol.for("react.profiler"),s2=Symbol.for("react.provider"),a2=Symbol.for("react.context"),l2=Symbol.for("react.forward_ref"),c2=Symbol.for("react.suspense"),u2=Symbol.for("react.memo"),f2=Symbol.for("react.lazy"),tx=Symbol.iterator;function h2(e){return e===null||typeof e!="object"?null:(e=tx&&e[tx]||e["@@iterator"],typeof e=="function"?e:null)}var f1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h1=Object.assign,d1={};function Za(e,t,n){this.props=e,this.context=t,this.refs=d1,this.updater=n||f1}Za.prototype.isReactComponent={};Za.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Za.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function p1(){}p1.prototype=Za.prototype;function bv(e,t,n){this.props=e,this.context=t,this.refs=d1,this.updater=n||f1}var Mv=bv.prototype=new p1;Mv.constructor=bv;h1(Mv,Za.prototype);Mv.isPureReactComponent=!0;var nx=Array.isArray,m1=Object.prototype.hasOwnProperty,Ev={current:null},g1={key:!0,ref:!0,__self:!0,__source:!0};function y1(e,t,n){var i,r={},o=null,s=null;if(t!=null)for(i in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)m1.call(t,i)&&!g1.hasOwnProperty(i)&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:wu,type:e,key:o,ref:s,props:r,_owner:Ev.current}}function d2(e,t){return{$$typeof:wu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sv(e){return typeof e=="object"&&e!==null&&e.$$typeof===wu}function p2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ix=/\/+/g;function zp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?p2(""+e.key):t.toString(36)}function ah(e,t,n,i,r){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case wu:case n2:s=!0}}if(s)return s=e,r=r(s),e=i===""?"."+zp(s,0):i,nx(r)?(n="",e!=null&&(n=e.replace(ix,"$&/")+"/"),ah(r,t,n,"",function(c){return c})):r!=null&&(Sv(r)&&(r=d2(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(ix,"$&/")+"/")+e)),t.push(r)),1;if(s=0,i=i===""?".":i+":",nx(e))for(var a=0;a<e.length;a++){o=e[a];var l=i+zp(o,a);s+=ah(o,t,n,l,r)}else if(l=h2(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=i+zp(o,a++),s+=ah(o,t,n,l,r);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Gu(e,t,n){if(e==null)return e;var i=[],r=0;return ah(e,i,"","",function(o){return t.call(n,o,r++)}),i}function m2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var fn={current:null},lh={transition:null},g2={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:lh,ReactCurrentOwner:Ev};qe.Children={map:Gu,forEach:function(e,t,n){Gu(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gu(e,function(){t++}),t},toArray:function(e){return Gu(e,function(t){return t})||[]},only:function(e){if(!Sv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qe.Component=Za;qe.Fragment=i2;qe.Profiler=o2;qe.PureComponent=bv;qe.StrictMode=r2;qe.Suspense=c2;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g2;qe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=h1({},e.props),r=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Ev.current),t.key!==void 0&&(r=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)m1.call(t,l)&&!g1.hasOwnProperty(l)&&(i[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:wu,type:e.type,key:r,ref:o,props:i,_owner:s}};qe.createContext=function(e){return e={$$typeof:a2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:s2,_context:e},e.Consumer=e};qe.createElement=y1;qe.createFactory=function(e){var t=y1.bind(null,e);return t.type=e,t};qe.createRef=function(){return{current:null}};qe.forwardRef=function(e){return{$$typeof:l2,render:e}};qe.isValidElement=Sv;qe.lazy=function(e){return{$$typeof:f2,_payload:{_status:-1,_result:e},_init:m2}};qe.memo=function(e,t){return{$$typeof:u2,type:e,compare:t===void 0?null:t}};qe.startTransition=function(e){var t=lh.transition;lh.transition={};try{e()}finally{lh.transition=t}};qe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};qe.useCallback=function(e,t){return fn.current.useCallback(e,t)};qe.useContext=function(e){return fn.current.useContext(e)};qe.useDebugValue=function(){};qe.useDeferredValue=function(e){return fn.current.useDeferredValue(e)};qe.useEffect=function(e,t){return fn.current.useEffect(e,t)};qe.useId=function(){return fn.current.useId()};qe.useImperativeHandle=function(e,t,n){return fn.current.useImperativeHandle(e,t,n)};qe.useInsertionEffect=function(e,t){return fn.current.useInsertionEffect(e,t)};qe.useLayoutEffect=function(e,t){return fn.current.useLayoutEffect(e,t)};qe.useMemo=function(e,t){return fn.current.useMemo(e,t)};qe.useReducer=function(e,t,n){return fn.current.useReducer(e,t,n)};qe.useRef=function(e){return fn.current.useRef(e)};qe.useState=function(e){return fn.current.useState(e)};qe.useSyncExternalStore=function(e,t,n){return fn.current.useSyncExternalStore(e,t,n)};qe.useTransition=function(){return fn.current.useTransition()};qe.version="18.2.0";u1.exports=qe;var j=u1.exports;const tt=l1(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y2=j,v2=Symbol.for("react.element"),x2=Symbol.for("react.fragment"),w2=Object.prototype.hasOwnProperty,_2=y2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b2={key:!0,ref:!0,__self:!0,__source:!0};function v1(e,t,n){var i,r={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(i in t)w2.call(t,i)&&!b2.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)r[i]===void 0&&(r[i]=t[i]);return{$$typeof:v2,type:e,key:o,ref:s,props:r,_owner:_2.current}}Kd.Fragment=x2;Kd.jsx=v1;Kd.jsxs=v1;c1.exports=Kd;var V=c1.exports,ag={},x1={exports:{}},kn={},w1={exports:{}},_1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,H){var W=I.length;I.push(H);e:for(;0<W;){var ee=W-1>>>1,ce=I[ee];if(0<r(ce,H))I[ee]=H,I[W]=ce,W=ee;else break e}}function n(I){return I.length===0?null:I[0]}function i(I){if(I.length===0)return null;var H=I[0],W=I.pop();if(W!==H){I[0]=W;e:for(var ee=0,ce=I.length,ge=ce>>>1;ee<ge;){var Re=2*(ee+1)-1,Se=I[Re],Y=Re+1,We=I[Y];if(0>r(Se,W))Y<ce&&0>r(We,Se)?(I[ee]=We,I[Y]=W,ee=Y):(I[ee]=Se,I[Re]=W,ee=Re);else if(Y<ce&&0>r(We,W))I[ee]=We,I[Y]=W,ee=Y;else break e}}return H}function r(I,H){var W=I.sortIndex-H.sortIndex;return W!==0?W:I.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,d=!1,m=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var H=n(c);H!==null;){if(H.callback===null)i(c);else if(H.startTime<=I)i(c),H.sortIndex=H.expirationTime,t(l,H);else break;H=n(c)}}function y(I){if(v=!1,w(I),!m)if(n(l)!==null)m=!0,B(_);else{var H=n(c);H!==null&&L(y,H.startTime-I)}}function _(I,H){m=!1,v&&(v=!1,p(N),N=-1),d=!0;var W=h;try{for(w(H),f=n(l);f!==null&&(!(f.expirationTime>H)||I&&!R());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var ce=ee(f.expirationTime<=H);H=e.unstable_now(),typeof ce=="function"?f.callback=ce:f===n(l)&&i(l),w(H)}else i(l);f=n(l)}if(f!==null)var ge=!0;else{var Re=n(c);Re!==null&&L(y,Re.startTime-H),ge=!1}return ge}finally{f=null,h=W,d=!1}}var b=!1,M=null,N=-1,S=5,U=-1;function R(){return!(e.unstable_now()-U<S)}function F(){if(M!==null){var I=e.unstable_now();U=I;var H=!0;try{H=M(!0,I)}finally{H?k():(b=!1,M=null)}}else b=!1}var k;if(typeof g=="function")k=function(){g(F)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,C=P.port2;P.port1.onmessage=F,k=function(){C.postMessage(null)}}else k=function(){x(F,0)};function B(I){M=I,b||(b=!0,k())}function L(I,H){N=x(function(){I(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,B(_))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var W=h;h=H;try{return I()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,H){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var W=h;h=I;try{return H()}finally{h=W}},e.unstable_scheduleCallback=function(I,H,W){var ee=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,I){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=W+ce,I={id:u++,callback:H,priorityLevel:I,startTime:W,expirationTime:ce,sortIndex:-1},W>ee?(I.sortIndex=W,t(c,I),n(l)===null&&I===n(c)&&(v?(p(N),N=-1):v=!0,L(y,W-ee))):(I.sortIndex=ce,t(l,I),m||d||(m=!0,B(_))),I},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(I){var H=h;return function(){var W=h;h=H;try{return I.apply(this,arguments)}finally{h=W}}}})(_1);w1.exports=_1;var M2=w1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b1=j,Ln=M2;function ie(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var M1=new Set,cc={};function hs(e,t){ga(e,t),ga(e+"Capture",t)}function ga(e,t){for(cc[e]=t,e=0;e<t.length;e++)M1.add(t[e])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lg=Object.prototype.hasOwnProperty,E2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rx={},ox={};function S2(e){return lg.call(ox,e)?!0:lg.call(rx,e)?!1:E2.test(e)?ox[e]=!0:(rx[e]=!0,!1)}function T2(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A2(e,t,n,i){if(t===null||typeof t>"u"||T2(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function hn(e,t,n,i,r,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$t[e]=new hn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$t[t]=new hn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$t[e]=new hn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$t[e]=new hn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$t[e]=new hn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$t[e]=new hn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$t[e]=new hn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$t[e]=new hn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$t[e]=new hn(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tv=/[\-:]([a-z])/g;function Av(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tv,Av);$t[t]=new hn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tv,Av);$t[t]=new hn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tv,Av);$t[t]=new hn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$t[e]=new hn(e,1,!1,e.toLowerCase(),null,!1,!1)});$t.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$t[e]=new hn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pv(e,t,n,i){var r=$t.hasOwnProperty(t)?$t[t]:null;(r!==null?r.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A2(t,n,r,i)&&(n=null),i||r===null?S2(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=n===null?r.type===3?!1:"":n:(t=r.attributeName,i=r.attributeNamespace,n===null?e.removeAttribute(t):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var Er=b1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vu=Symbol.for("react.element"),Bs=Symbol.for("react.portal"),zs=Symbol.for("react.fragment"),Cv=Symbol.for("react.strict_mode"),cg=Symbol.for("react.profiler"),E1=Symbol.for("react.provider"),S1=Symbol.for("react.context"),Lv=Symbol.for("react.forward_ref"),ug=Symbol.for("react.suspense"),fg=Symbol.for("react.suspense_list"),Rv=Symbol.for("react.memo"),Br=Symbol.for("react.lazy"),T1=Symbol.for("react.offscreen"),sx=Symbol.iterator;function fl(e){return e===null||typeof e!="object"?null:(e=sx&&e[sx]||e["@@iterator"],typeof e=="function"?e:null)}var vt=Object.assign,Up;function Rl(e){if(Up===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Up=t&&t[1]||""}return`
`+Up+e}var Hp=!1;function Gp(e,t){if(!e||Hp)return"";Hp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),o=i.stack.split(`
`),s=r.length-1,a=o.length-1;1<=s&&0<=a&&r[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(r[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||r[s]!==o[a]){var l=`
`+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Hp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Rl(e):""}function P2(e){switch(e.tag){case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return e=Gp(e.type,!1),e;case 11:return e=Gp(e.type.render,!1),e;case 1:return e=Gp(e.type,!0),e;default:return""}}function hg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zs:return"Fragment";case Bs:return"Portal";case cg:return"Profiler";case Cv:return"StrictMode";case ug:return"Suspense";case fg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case S1:return(e.displayName||"Context")+".Consumer";case E1:return(e._context.displayName||"Context")+".Provider";case Lv:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rv:return t=e.displayName||null,t!==null?t:hg(e.type)||"Memo";case Br:t=e._payload,e=e._init;try{return hg(e(t))}catch{}}return null}function C2(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hg(t);case 8:return t===Cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function uo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function A1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function L2(e){var t=A1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wu(e){e._valueTracker||(e._valueTracker=L2(e))}function P1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=A1(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Ch(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dg(e,t){var n=t.checked;return vt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ax(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=uo(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function C1(e,t){t=t.checked,t!=null&&Pv(e,"checked",t,!1)}function pg(e,t){C1(e,t);var n=uo(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mg(e,t.type,n):t.hasOwnProperty("defaultValue")&&mg(e,t.type,uo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function lx(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function mg(e,t,n){(t!=="number"||Ch(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ol=Array.isArray;function ra(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+uo(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function gg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ie(91));return vt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ie(92));if(Ol(n)){if(1<n.length)throw Error(ie(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:uo(n)}}function L1(e,t){var n=uo(t.value),i=uo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function ux(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function R1(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?R1(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ju,O1=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ju.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function uc(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ul={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R2=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(e){R2.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ul[t]=Ul[e]})});function D1(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ul.hasOwnProperty(e)&&Ul[e]?(""+t).trim():t+"px"}function N1(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=D1(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}var O2=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vg(e,t){if(t){if(O2[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ie(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ie(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ie(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ie(62))}}function xg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wg=null;function Ov(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _g=null,oa=null,sa=null;function fx(e){if(e=Mu(e)){if(typeof _g!="function")throw Error(ie(280));var t=e.stateNode;t&&(t=ip(t),_g(e.stateNode,e.type,t))}}function I1(e){oa?sa?sa.push(e):sa=[e]:oa=e}function k1(){if(oa){var e=oa,t=sa;if(sa=oa=null,fx(e),t)for(e=0;e<t.length;e++)fx(t[e])}}function F1(e,t){return e(t)}function B1(){}var Vp=!1;function z1(e,t,n){if(Vp)return e(t,n);Vp=!0;try{return F1(e,t,n)}finally{Vp=!1,(oa!==null||sa!==null)&&(B1(),k1())}}function fc(e,t){var n=e.stateNode;if(n===null)return null;var i=ip(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ie(231,t,typeof n));return n}var bg=!1;if(dr)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){bg=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{bg=!1}function D2(e,t,n,i,r,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Hl=!1,Lh=null,Rh=!1,Mg=null,N2={onError:function(e){Hl=!0,Lh=e}};function I2(e,t,n,i,r,o,s,a,l){Hl=!1,Lh=null,D2.apply(N2,arguments)}function k2(e,t,n,i,r,o,s,a,l){if(I2.apply(this,arguments),Hl){if(Hl){var c=Lh;Hl=!1,Lh=null}else throw Error(ie(198));Rh||(Rh=!0,Mg=c)}}function ds(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function U1(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hx(e){if(ds(e)!==e)throw Error(ie(188))}function F2(e){var t=e.alternate;if(!t){if(t=ds(e),t===null)throw Error(ie(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var o=r.alternate;if(o===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return hx(r),e;if(o===i)return hx(r),t;o=o.sibling}throw Error(ie(188))}if(n.return!==i.return)n=r,i=o;else{for(var s=!1,a=r.child;a;){if(a===n){s=!0,n=r,i=o;break}if(a===i){s=!0,i=r,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,i=r;break}if(a===i){s=!0,i=o,n=r;break}a=a.sibling}if(!s)throw Error(ie(189))}}if(n.alternate!==i)throw Error(ie(190))}if(n.tag!==3)throw Error(ie(188));return n.stateNode.current===n?e:t}function H1(e){return e=F2(e),e!==null?G1(e):null}function G1(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=G1(e);if(t!==null)return t;e=e.sibling}return null}var V1=Ln.unstable_scheduleCallback,dx=Ln.unstable_cancelCallback,B2=Ln.unstable_shouldYield,z2=Ln.unstable_requestPaint,St=Ln.unstable_now,U2=Ln.unstable_getCurrentPriorityLevel,Dv=Ln.unstable_ImmediatePriority,W1=Ln.unstable_UserBlockingPriority,Oh=Ln.unstable_NormalPriority,H2=Ln.unstable_LowPriority,j1=Ln.unstable_IdlePriority,Qd=null,Ui=null;function G2(e){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(Qd,e,void 0,(e.current.flags&128)===128)}catch{}}var vi=Math.clz32?Math.clz32:j2,V2=Math.log,W2=Math.LN2;function j2(e){return e>>>=0,e===0?32:31-(V2(e)/W2|0)|0}var qu=64,$u=4194304;function Dl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dh(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~r;a!==0?i=Dl(a):(o&=s,o!==0&&(i=Dl(o)))}else s=n&~r,s!==0?i=Dl(s):o!==0&&(i=Dl(o));if(i===0)return 0;if(t!==0&&t!==i&&!(t&r)&&(r=i&-i,o=t&-t,r>=o||r===16&&(o&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-vi(t),r=1<<n,i|=e[n],t&=~r;return i}function q2(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $2(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-vi(o),a=1<<s,l=r[s];l===-1?(!(a&n)||a&i)&&(r[s]=q2(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Eg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function q1(){var e=qu;return qu<<=1,!(qu&4194240)&&(qu=64),e}function Wp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _u(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vi(t),e[t]=n}function X2(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-vi(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}function Nv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-vi(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var Qe=0;function $1(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var X1,Iv,Y1,J1,Z1,Sg=!1,Xu=[],Zr=null,Kr=null,Qr=null,hc=new Map,dc=new Map,Gr=[],Y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function px(e,t){switch(e){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":hc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dc.delete(t.pointerId)}}function dl(e,t,n,i,r,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},t!==null&&(t=Mu(t),t!==null&&Iv(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function J2(e,t,n,i,r){switch(t){case"focusin":return Zr=dl(Zr,e,t,n,i,r),!0;case"dragenter":return Kr=dl(Kr,e,t,n,i,r),!0;case"mouseover":return Qr=dl(Qr,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return hc.set(o,dl(hc.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,dc.set(o,dl(dc.get(o)||null,e,t,n,i,r)),!0}return!1}function K1(e){var t=zo(e.target);if(t!==null){var n=ds(t);if(n!==null){if(t=n.tag,t===13){if(t=U1(n),t!==null){e.blockedOn=t,Z1(e.priority,function(){Y1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ch(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tg(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);wg=i,n.target.dispatchEvent(i),wg=null}else return t=Mu(n),t!==null&&Iv(t),e.blockedOn=n,!1;t.shift()}return!0}function mx(e,t,n){ch(e)&&n.delete(t)}function Z2(){Sg=!1,Zr!==null&&ch(Zr)&&(Zr=null),Kr!==null&&ch(Kr)&&(Kr=null),Qr!==null&&ch(Qr)&&(Qr=null),hc.forEach(mx),dc.forEach(mx)}function pl(e,t){e.blockedOn===t&&(e.blockedOn=null,Sg||(Sg=!0,Ln.unstable_scheduleCallback(Ln.unstable_NormalPriority,Z2)))}function pc(e){function t(r){return pl(r,e)}if(0<Xu.length){pl(Xu[0],e);for(var n=1;n<Xu.length;n++){var i=Xu[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Zr!==null&&pl(Zr,e),Kr!==null&&pl(Kr,e),Qr!==null&&pl(Qr,e),hc.forEach(t),dc.forEach(t),n=0;n<Gr.length;n++)i=Gr[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Gr.length&&(n=Gr[0],n.blockedOn===null);)K1(n),n.blockedOn===null&&Gr.shift()}var aa=Er.ReactCurrentBatchConfig,Nh=!0;function K2(e,t,n,i){var r=Qe,o=aa.transition;aa.transition=null;try{Qe=1,kv(e,t,n,i)}finally{Qe=r,aa.transition=o}}function Q2(e,t,n,i){var r=Qe,o=aa.transition;aa.transition=null;try{Qe=4,kv(e,t,n,i)}finally{Qe=r,aa.transition=o}}function kv(e,t,n,i){if(Nh){var r=Tg(e,t,n,i);if(r===null)em(e,t,i,Ih,n),px(e,i);else if(J2(r,e,t,n,i))i.stopPropagation();else if(px(e,i),t&4&&-1<Y2.indexOf(e)){for(;r!==null;){var o=Mu(r);if(o!==null&&X1(o),o=Tg(e,t,n,i),o===null&&em(e,t,i,Ih,n),o===r)break;r=o}r!==null&&i.stopPropagation()}else em(e,t,i,null,n)}}var Ih=null;function Tg(e,t,n,i){if(Ih=null,e=Ov(i),e=zo(e),e!==null)if(t=ds(e),t===null)e=null;else if(n=t.tag,n===13){if(e=U1(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ih=e,null}function Q1(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U2()){case Dv:return 1;case W1:return 4;case Oh:case H2:return 16;case j1:return 536870912;default:return 16}default:return 16}}var jr=null,Fv=null,uh=null;function eM(){if(uh)return uh;var e,t=Fv,n=t.length,i,r="value"in jr?jr.value:jr.textContent,o=r.length;for(e=0;e<n&&t[e]===r[e];e++);var s=n-e;for(i=1;i<=s&&t[n-i]===r[o-i];i++);return uh=r.slice(e,1<i?1-i:void 0)}function fh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yu(){return!0}function gx(){return!1}function Fn(e){function t(n,i,r,o,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Yu:gx,this.isPropagationStopped=gx,this}return vt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),t}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bv=Fn(Ka),bu=vt({},Ka,{view:0,detail:0}),eA=Fn(bu),jp,qp,ml,ep=vt({},bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ml&&(ml&&e.type==="mousemove"?(jp=e.screenX-ml.screenX,qp=e.screenY-ml.screenY):qp=jp=0,ml=e),jp)},movementY:function(e){return"movementY"in e?e.movementY:qp}}),yx=Fn(ep),tA=vt({},ep,{dataTransfer:0}),nA=Fn(tA),iA=vt({},bu,{relatedTarget:0}),$p=Fn(iA),rA=vt({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),oA=Fn(rA),sA=vt({},Ka,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),aA=Fn(sA),lA=vt({},Ka,{data:0}),vx=Fn(lA),cA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fA[e])?!!t[e]:!1}function zv(){return hA}var dA=vt({},bu,{key:function(e){if(e.key){var t=cA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=fh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zv,charCode:function(e){return e.type==="keypress"?fh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?fh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pA=Fn(dA),mA=vt({},ep,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xx=Fn(mA),gA=vt({},bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zv}),yA=Fn(gA),vA=vt({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),xA=Fn(vA),wA=vt({},ep,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_A=Fn(wA),bA=[9,13,27,32],Uv=dr&&"CompositionEvent"in window,Gl=null;dr&&"documentMode"in document&&(Gl=document.documentMode);var MA=dr&&"TextEvent"in window&&!Gl,tM=dr&&(!Uv||Gl&&8<Gl&&11>=Gl),wx=String.fromCharCode(32),_x=!1;function nM(e,t){switch(e){case"keyup":return bA.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Us=!1;function EA(e,t){switch(e){case"compositionend":return iM(t);case"keypress":return t.which!==32?null:(_x=!0,wx);case"textInput":return e=t.data,e===wx&&_x?null:e;default:return null}}function SA(e,t){if(Us)return e==="compositionend"||!Uv&&nM(e,t)?(e=eM(),uh=Fv=jr=null,Us=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tM&&t.locale!=="ko"?null:t.data;default:return null}}var TA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TA[e.type]:t==="textarea"}function rM(e,t,n,i){I1(i),t=kh(t,"onChange"),0<t.length&&(n=new Bv("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Vl=null,mc=null;function AA(e){mM(e,0)}function tp(e){var t=Vs(e);if(P1(t))return e}function PA(e,t){if(e==="change")return t}var oM=!1;if(dr){var Xp;if(dr){var Yp="oninput"in document;if(!Yp){var Mx=document.createElement("div");Mx.setAttribute("oninput","return;"),Yp=typeof Mx.oninput=="function"}Xp=Yp}else Xp=!1;oM=Xp&&(!document.documentMode||9<document.documentMode)}function Ex(){Vl&&(Vl.detachEvent("onpropertychange",sM),mc=Vl=null)}function sM(e){if(e.propertyName==="value"&&tp(mc)){var t=[];rM(t,mc,e,Ov(e)),z1(AA,t)}}function CA(e,t,n){e==="focusin"?(Ex(),Vl=t,mc=n,Vl.attachEvent("onpropertychange",sM)):e==="focusout"&&Ex()}function LA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tp(mc)}function RA(e,t){if(e==="click")return tp(t)}function OA(e,t){if(e==="input"||e==="change")return tp(t)}function DA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mi=typeof Object.is=="function"?Object.is:DA;function gc(e,t){if(Mi(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!lg.call(t,r)||!Mi(e[r],t[r]))return!1}return!0}function Sx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tx(e,t){var n=Sx(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Sx(n)}}function aM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?aM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lM(){for(var e=window,t=Ch();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ch(e.document)}return t}function Hv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NA(e){var t=lM(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&aM(n.ownerDocument.documentElement,n)){if(i!==null&&Hv(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=i.end===void 0?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=Tx(n,o);var s=Tx(n,i);r&&s&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var IA=dr&&"documentMode"in document&&11>=document.documentMode,Hs=null,Ag=null,Wl=null,Pg=!1;function Ax(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Pg||Hs==null||Hs!==Ch(i)||(i=Hs,"selectionStart"in i&&Hv(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Wl&&gc(Wl,i)||(Wl=i,i=kh(Ag,"onSelect"),0<i.length&&(t=new Bv("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Hs)))}function Ju(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gs={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},Jp={},cM={};dr&&(cM=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function np(e){if(Jp[e])return Jp[e];if(!Gs[e])return e;var t=Gs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cM)return Jp[e]=t[n];return e}var uM=np("animationend"),fM=np("animationiteration"),hM=np("animationstart"),dM=np("transitionend"),pM=new Map,Px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vo(e,t){pM.set(e,t),hs(t,[e])}for(var Zp=0;Zp<Px.length;Zp++){var Kp=Px[Zp],kA=Kp.toLowerCase(),FA=Kp[0].toUpperCase()+Kp.slice(1);vo(kA,"on"+FA)}vo(uM,"onAnimationEnd");vo(fM,"onAnimationIteration");vo(hM,"onAnimationStart");vo("dblclick","onDoubleClick");vo("focusin","onFocus");vo("focusout","onBlur");vo(dM,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nl));function Cx(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,k2(i,t,void 0,e),e.currentTarget=null}function mM(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;Cx(r,a,c),o=l}else for(s=0;s<i.length;s++){if(a=i[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;Cx(r,a,c),o=l}}}if(Rh)throw e=Mg,Rh=!1,Mg=null,e}function at(e,t){var n=t[Dg];n===void 0&&(n=t[Dg]=new Set);var i=e+"__bubble";n.has(i)||(gM(t,e,2,!1),n.add(i))}function Qp(e,t,n){var i=0;t&&(i|=4),gM(n,e,i,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function yc(e){if(!e[Zu]){e[Zu]=!0,M1.forEach(function(n){n!=="selectionchange"&&(BA.has(n)||Qp(n,!1,e),Qp(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zu]||(t[Zu]=!0,Qp("selectionchange",!1,t))}}function gM(e,t,n,i){switch(Q1(t)){case 1:var r=K2;break;case 4:r=Q2;break;default:r=kv}n=r.bind(null,t,n,e),r=void 0,!bg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function em(e,t,n,i,r){var o=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;s=s.return}for(;a!==null;){if(s=zo(a),s===null)return;if(l=s.tag,l===5||l===6){i=o=s;continue e}a=a.parentNode}}i=i.return}z1(function(){var c=o,u=Ov(n),f=[];e:{var h=pM.get(e);if(h!==void 0){var d=Bv,m=e;switch(e){case"keypress":if(fh(n)===0)break e;case"keydown":case"keyup":d=pA;break;case"focusin":m="focus",d=$p;break;case"focusout":m="blur",d=$p;break;case"beforeblur":case"afterblur":d=$p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=nA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=yA;break;case uM:case fM:case hM:d=oA;break;case dM:d=xA;break;case"scroll":d=eA;break;case"wheel":d=_A;break;case"copy":case"cut":case"paste":d=aA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=xx}var v=(t&4)!==0,x=!v&&e==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var g=c,w;g!==null;){w=g;var y=w.stateNode;if(w.tag===5&&y!==null&&(w=y,p!==null&&(y=fc(g,p),y!=null&&v.push(vc(g,y,w)))),x)break;g=g.return}0<v.length&&(h=new d(h,m,null,n,u),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&n!==wg&&(m=n.relatedTarget||n.fromElement)&&(zo(m)||m[pr]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=c,m=m?zo(m):null,m!==null&&(x=ds(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=c),d!==m)){if(v=yx,y="onMouseLeave",p="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(v=xx,y="onPointerLeave",p="onPointerEnter",g="pointer"),x=d==null?h:Vs(d),w=m==null?h:Vs(m),h=new v(y,g+"leave",d,n,u),h.target=x,h.relatedTarget=w,y=null,zo(u)===c&&(v=new v(p,g+"enter",m,n,u),v.target=w,v.relatedTarget=x,y=v),x=y,d&&m)t:{for(v=d,p=m,g=0,w=v;w;w=ys(w))g++;for(w=0,y=p;y;y=ys(y))w++;for(;0<g-w;)v=ys(v),g--;for(;0<w-g;)p=ys(p),w--;for(;g--;){if(v===p||p!==null&&v===p.alternate)break t;v=ys(v),p=ys(p)}v=null}else v=null;d!==null&&Lx(f,h,d,v,!1),m!==null&&x!==null&&Lx(f,x,m,v,!0)}}e:{if(h=c?Vs(c):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var _=PA;else if(bx(h))if(oM)_=OA;else{_=LA;var b=CA}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=RA);if(_&&(_=_(e,c))){rM(f,_,n,u);break e}b&&b(e,h,c),e==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&mg(h,"number",h.value)}switch(b=c?Vs(c):window,e){case"focusin":(bx(b)||b.contentEditable==="true")&&(Hs=b,Ag=c,Wl=null);break;case"focusout":Wl=Ag=Hs=null;break;case"mousedown":Pg=!0;break;case"contextmenu":case"mouseup":case"dragend":Pg=!1,Ax(f,n,u);break;case"selectionchange":if(IA)break;case"keydown":case"keyup":Ax(f,n,u)}var M;if(Uv)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Us?nM(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(tM&&n.locale!=="ko"&&(Us||N!=="onCompositionStart"?N==="onCompositionEnd"&&Us&&(M=eM()):(jr=u,Fv="value"in jr?jr.value:jr.textContent,Us=!0)),b=kh(c,N),0<b.length&&(N=new vx(N,e,null,n,u),f.push({event:N,listeners:b}),M?N.data=M:(M=iM(n),M!==null&&(N.data=M)))),(M=MA?EA(e,n):SA(e,n))&&(c=kh(c,"onBeforeInput"),0<c.length&&(u=new vx("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=M))}mM(f,t)})}function vc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function kh(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,o=r.stateNode;r.tag===5&&o!==null&&(r=o,o=fc(e,n),o!=null&&i.unshift(vc(e,o,r)),o=fc(e,t),o!=null&&i.push(vc(e,o,r))),e=e.return}return i}function ys(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lx(e,t,n,i,r){for(var o=t._reactName,s=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=fc(n,o),l!=null&&s.unshift(vc(n,l,a))):r||(l=fc(n,o),l!=null&&s.push(vc(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var zA=/\r\n?/g,UA=/\u0000|\uFFFD/g;function Rx(e){return(typeof e=="string"?e:""+e).replace(zA,`
`).replace(UA,"")}function Ku(e,t,n){if(t=Rx(t),Rx(e)!==t&&n)throw Error(ie(425))}function Fh(){}var Cg=null,Lg=null;function Rg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Og=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,Ox=typeof Promise=="function"?Promise:void 0,GA=typeof queueMicrotask=="function"?queueMicrotask:typeof Ox<"u"?function(e){return Ox.resolve(null).then(e).catch(VA)}:Og;function VA(e){setTimeout(function(){throw e})}function tm(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){e.removeChild(r),pc(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);pc(t)}function eo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),Ni="__reactFiber$"+Qa,xc="__reactProps$"+Qa,pr="__reactContainer$"+Qa,Dg="__reactEvents$"+Qa,WA="__reactListeners$"+Qa,jA="__reactHandles$"+Qa;function zo(e){var t=e[Ni];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[Ni]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dx(e);e!==null;){if(n=e[Ni])return n;e=Dx(e)}return t}e=n,n=e.parentNode}return null}function Mu(e){return e=e[Ni]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ie(33))}function ip(e){return e[xc]||null}var Ng=[],Ws=-1;function xo(e){return{current:e}}function ct(e){0>Ws||(e.current=Ng[Ws],Ng[Ws]=null,Ws--)}function ot(e,t){Ws++,Ng[Ws]=e.current,e.current=t}var fo={},en=xo(fo),vn=xo(!1),Jo=fo;function ya(e,t){var n=e.type.contextTypes;if(!n)return fo;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r={},o;for(o in n)r[o]=t[o];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function xn(e){return e=e.childContextTypes,e!=null}function Bh(){ct(vn),ct(en)}function Nx(e,t,n){if(en.current!==fo)throw Error(ie(168));ot(en,t),ot(vn,n)}function yM(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in t))throw Error(ie(108,C2(e)||"Unknown",r));return vt({},n,i)}function zh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fo,Jo=en.current,ot(en,e),ot(vn,vn.current),!0}function Ix(e,t,n){var i=e.stateNode;if(!i)throw Error(ie(169));n?(e=yM(e,t,Jo),i.__reactInternalMemoizedMergedChildContext=e,ct(vn),ct(en),ot(en,e)):ct(vn),ot(vn,n)}var sr=null,rp=!1,nm=!1;function vM(e){sr===null?sr=[e]:sr.push(e)}function qA(e){rp=!0,vM(e)}function wo(){if(!nm&&sr!==null){nm=!0;var e=0,t=Qe;try{var n=sr;for(Qe=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}sr=null,rp=!1}catch(r){throw sr!==null&&(sr=sr.slice(e+1)),V1(Dv,wo),r}finally{Qe=t,nm=!1}}return null}var js=[],qs=0,Uh=null,Hh=0,Vn=[],Wn=0,Zo=null,lr=1,cr="";function Ro(e,t){js[qs++]=Hh,js[qs++]=Uh,Uh=e,Hh=t}function xM(e,t,n){Vn[Wn++]=lr,Vn[Wn++]=cr,Vn[Wn++]=Zo,Zo=e;var i=lr;e=cr;var r=32-vi(i)-1;i&=~(1<<r),n+=1;var o=32-vi(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,lr=1<<32-vi(t)+r|n<<r|i,cr=o+e}else lr=1<<o|n<<r|i,cr=e}function Gv(e){e.return!==null&&(Ro(e,1),xM(e,1,0))}function Vv(e){for(;e===Uh;)Uh=js[--qs],js[qs]=null,Hh=js[--qs],js[qs]=null;for(;e===Zo;)Zo=Vn[--Wn],Vn[Wn]=null,cr=Vn[--Wn],Vn[Wn]=null,lr=Vn[--Wn],Vn[Wn]=null}var Cn=null,An=null,ht=!1,pi=null;function wM(e,t){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function kx(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Cn=e,An=eo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Cn=e,An=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Zo!==null?{id:lr,overflow:cr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Cn=e,An=null,!0):!1;default:return!1}}function Ig(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kg(e){if(ht){var t=An;if(t){var n=t;if(!kx(e,t)){if(Ig(e))throw Error(ie(418));t=eo(n.nextSibling);var i=Cn;t&&kx(e,t)?wM(i,n):(e.flags=e.flags&-4097|2,ht=!1,Cn=e)}}else{if(Ig(e))throw Error(ie(418));e.flags=e.flags&-4097|2,ht=!1,Cn=e}}}function Fx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Cn=e}function Qu(e){if(e!==Cn)return!1;if(!ht)return Fx(e),ht=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Rg(e.type,e.memoizedProps)),t&&(t=An)){if(Ig(e))throw _M(),Error(ie(418));for(;t;)wM(e,t),t=eo(t.nextSibling)}if(Fx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ie(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){An=eo(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}An=null}}else An=Cn?eo(e.stateNode.nextSibling):null;return!0}function _M(){for(var e=An;e;)e=eo(e.nextSibling)}function va(){An=Cn=null,ht=!1}function Wv(e){pi===null?pi=[e]:pi.push(e)}var $A=Er.ReactCurrentBatchConfig;function fi(e,t){if(e&&e.defaultProps){t=vt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Gh=xo(null),Vh=null,$s=null,jv=null;function qv(){jv=$s=Vh=null}function $v(e){var t=Gh.current;ct(Gh),e._currentValue=t}function Fg(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function la(e,t){Vh=e,jv=$s=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gn=!0),e.firstContext=null)}function Kn(e){var t=e._currentValue;if(jv!==e)if(e={context:e,memoizedValue:t,next:null},$s===null){if(Vh===null)throw Error(ie(308));$s=e,Vh.dependencies={lanes:0,firstContext:e}}else $s=$s.next=e;return t}var Uo=null;function Xv(e){Uo===null?Uo=[e]:Uo.push(e)}function bM(e,t,n,i){var r=t.interleaved;return r===null?(n.next=n,Xv(t)):(n.next=r.next,r.next=n),t.interleaved=n,mr(e,i)}function mr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var zr=!1;function Yv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function to(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,Xe&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,mr(e,n)}return r=i.interleaved,r===null?(t.next=t,Xv(i)):(t.next=r.next,r.next=t),i.interleaved=t,mr(e,n)}function hh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Nv(e,n)}}function Bx(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?r=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?r=o=t:o=o.next=t}else r=o=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wh(e,t,n,i){var r=e.updateQueue;zr=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=r.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,d=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,v=a;switch(h=t,d=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(d,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(d,f,h):m,h==null)break e;f=vt({},f,h);break e;case 2:zr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else d={eventTime:d,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,s|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(u===null&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,t=r.shared.interleaved,t!==null){r=t;do s|=r.lane,r=r.next;while(r!==t)}else o===null&&(r.shared.lanes=0);Qo|=s,e.lanes=s,e.memoizedState=f}}function zx(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(ie(191,r));r.call(i)}}}var EM=new b1.Component().refs;function Bg(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:vt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var op={isMounted:function(e){return(e=e._reactInternals)?ds(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=an(),r=io(e),o=ur(i,r);o.payload=t,n!=null&&(o.callback=n),t=to(e,o,r),t!==null&&(xi(t,e,r,i),hh(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=an(),r=io(e),o=ur(i,r);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=to(e,o,r),t!==null&&(xi(t,e,r,i),hh(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=an(),i=io(e),r=ur(n,i);r.tag=2,t!=null&&(r.callback=t),t=to(e,r,i),t!==null&&(xi(t,e,i,n),hh(t,e,i))}};function Ux(e,t,n,i,r,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,o,s):t.prototype&&t.prototype.isPureReactComponent?!gc(n,i)||!gc(r,o):!0}function SM(e,t,n){var i=!1,r=fo,o=t.contextType;return typeof o=="object"&&o!==null?o=Kn(o):(r=xn(t)?Jo:en.current,i=t.contextTypes,o=(i=i!=null)?ya(e,r):fo),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=op,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Hx(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&op.enqueueReplaceState(t,t.state,null)}function zg(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=EM,Yv(e);var o=t.contextType;typeof o=="object"&&o!==null?r.context=Kn(o):(o=xn(t)?Jo:en.current,r.context=ya(e,o)),r.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Bg(e,t,o,n),r.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(t=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),t!==r.state&&op.enqueueReplaceState(r,r.state,null),Wh(e,n,r,i),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function gl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ie(309));var i=n.stateNode}if(!i)throw Error(ie(147,e));var r=i,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=r.refs;a===EM&&(a=r.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(ie(284));if(!n._owner)throw Error(ie(290,e))}return e}function ef(e,t){throw e=Object.prototype.toString.call(t),Error(ie(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gx(e){var t=e._init;return t(e._payload)}function TM(e){function t(p,g){if(e){var w=p.deletions;w===null?(p.deletions=[g],p.flags|=16):w.push(g)}}function n(p,g){if(!e)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function i(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function r(p,g){return p=ro(p,g),p.index=0,p.sibling=null,p}function o(p,g,w){return p.index=w,e?(w=p.alternate,w!==null?(w=w.index,w<g?(p.flags|=2,g):w):(p.flags|=2,g)):(p.flags|=1048576,g)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,g,w,y){return g===null||g.tag!==6?(g=cm(w,p.mode,y),g.return=p,g):(g=r(g,w),g.return=p,g)}function l(p,g,w,y){var _=w.type;return _===zs?u(p,g,w.props.children,y,w.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Br&&Gx(_)===g.type)?(y=r(g,w.props),y.ref=gl(p,g,w),y.return=p,y):(y=vh(w.type,w.key,w.props,null,p.mode,y),y.ref=gl(p,g,w),y.return=p,y)}function c(p,g,w,y){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=um(w,p.mode,y),g.return=p,g):(g=r(g,w.children||[]),g.return=p,g)}function u(p,g,w,y,_){return g===null||g.tag!==7?(g=Wo(w,p.mode,y,_),g.return=p,g):(g=r(g,w),g.return=p,g)}function f(p,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=cm(""+g,p.mode,w),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Vu:return w=vh(g.type,g.key,g.props,null,p.mode,w),w.ref=gl(p,null,g),w.return=p,w;case Bs:return g=um(g,p.mode,w),g.return=p,g;case Br:var y=g._init;return f(p,y(g._payload),w)}if(Ol(g)||fl(g))return g=Wo(g,p.mode,w,null),g.return=p,g;ef(p,g)}return null}function h(p,g,w,y){var _=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(p,g,""+w,y);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vu:return w.key===_?l(p,g,w,y):null;case Bs:return w.key===_?c(p,g,w,y):null;case Br:return _=w._init,h(p,g,_(w._payload),y)}if(Ol(w)||fl(w))return _!==null?null:u(p,g,w,y,null);ef(p,w)}return null}function d(p,g,w,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return p=p.get(w)||null,a(g,p,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vu:return p=p.get(y.key===null?w:y.key)||null,l(g,p,y,_);case Bs:return p=p.get(y.key===null?w:y.key)||null,c(g,p,y,_);case Br:var b=y._init;return d(p,g,w,b(y._payload),_)}if(Ol(y)||fl(y))return p=p.get(w)||null,u(g,p,y,_,null);ef(g,y)}return null}function m(p,g,w,y){for(var _=null,b=null,M=g,N=g=0,S=null;M!==null&&N<w.length;N++){M.index>N?(S=M,M=null):S=M.sibling;var U=h(p,M,w[N],y);if(U===null){M===null&&(M=S);break}e&&M&&U.alternate===null&&t(p,M),g=o(U,g,N),b===null?_=U:b.sibling=U,b=U,M=S}if(N===w.length)return n(p,M),ht&&Ro(p,N),_;if(M===null){for(;N<w.length;N++)M=f(p,w[N],y),M!==null&&(g=o(M,g,N),b===null?_=M:b.sibling=M,b=M);return ht&&Ro(p,N),_}for(M=i(p,M);N<w.length;N++)S=d(M,p,N,w[N],y),S!==null&&(e&&S.alternate!==null&&M.delete(S.key===null?N:S.key),g=o(S,g,N),b===null?_=S:b.sibling=S,b=S);return e&&M.forEach(function(R){return t(p,R)}),ht&&Ro(p,N),_}function v(p,g,w,y){var _=fl(w);if(typeof _!="function")throw Error(ie(150));if(w=_.call(w),w==null)throw Error(ie(151));for(var b=_=null,M=g,N=g=0,S=null,U=w.next();M!==null&&!U.done;N++,U=w.next()){M.index>N?(S=M,M=null):S=M.sibling;var R=h(p,M,U.value,y);if(R===null){M===null&&(M=S);break}e&&M&&R.alternate===null&&t(p,M),g=o(R,g,N),b===null?_=R:b.sibling=R,b=R,M=S}if(U.done)return n(p,M),ht&&Ro(p,N),_;if(M===null){for(;!U.done;N++,U=w.next())U=f(p,U.value,y),U!==null&&(g=o(U,g,N),b===null?_=U:b.sibling=U,b=U);return ht&&Ro(p,N),_}for(M=i(p,M);!U.done;N++,U=w.next())U=d(M,p,N,U.value,y),U!==null&&(e&&U.alternate!==null&&M.delete(U.key===null?N:U.key),g=o(U,g,N),b===null?_=U:b.sibling=U,b=U);return e&&M.forEach(function(F){return t(p,F)}),ht&&Ro(p,N),_}function x(p,g,w,y){if(typeof w=="object"&&w!==null&&w.type===zs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Vu:e:{for(var _=w.key,b=g;b!==null;){if(b.key===_){if(_=w.type,_===zs){if(b.tag===7){n(p,b.sibling),g=r(b,w.props.children),g.return=p,p=g;break e}}else if(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Br&&Gx(_)===b.type){n(p,b.sibling),g=r(b,w.props),g.ref=gl(p,b,w),g.return=p,p=g;break e}n(p,b);break}else t(p,b);b=b.sibling}w.type===zs?(g=Wo(w.props.children,p.mode,y,w.key),g.return=p,p=g):(y=vh(w.type,w.key,w.props,null,p.mode,y),y.ref=gl(p,g,w),y.return=p,p=y)}return s(p);case Bs:e:{for(b=w.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(p,g.sibling),g=r(g,w.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=um(w,p.mode,y),g.return=p,p=g}return s(p);case Br:return b=w._init,x(p,g,b(w._payload),y)}if(Ol(w))return m(p,g,w,y);if(fl(w))return v(p,g,w,y);ef(p,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(p,g.sibling),g=r(g,w),g.return=p,p=g):(n(p,g),g=cm(w,p.mode,y),g.return=p,p=g),s(p)):n(p,g)}return x}var xa=TM(!0),AM=TM(!1),Eu={},Hi=xo(Eu),wc=xo(Eu),_c=xo(Eu);function Ho(e){if(e===Eu)throw Error(ie(174));return e}function Jv(e,t){switch(ot(_c,t),ot(wc,e),ot(Hi,Eu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yg(t,e)}ct(Hi),ot(Hi,t)}function wa(){ct(Hi),ct(wc),ct(_c)}function PM(e){Ho(_c.current);var t=Ho(Hi.current),n=yg(t,e.type);t!==n&&(ot(wc,e),ot(Hi,n))}function Zv(e){wc.current===e&&(ct(Hi),ct(wc))}var mt=xo(0);function jh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var im=[];function Kv(){for(var e=0;e<im.length;e++)im[e]._workInProgressVersionPrimary=null;im.length=0}var dh=Er.ReactCurrentDispatcher,rm=Er.ReactCurrentBatchConfig,Ko=0,yt=null,Nt=null,zt=null,qh=!1,jl=!1,bc=0,XA=0;function Xt(){throw Error(ie(321))}function Qv(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mi(e[n],t[n]))return!1;return!0}function e0(e,t,n,i,r,o){if(Ko=o,yt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dh.current=e===null||e.memoizedState===null?KA:QA,e=n(i,r),jl){o=0;do{if(jl=!1,bc=0,25<=o)throw Error(ie(301));o+=1,zt=Nt=null,t.updateQueue=null,dh.current=eP,e=n(i,r)}while(jl)}if(dh.current=$h,t=Nt!==null&&Nt.next!==null,Ko=0,zt=Nt=yt=null,qh=!1,t)throw Error(ie(300));return e}function t0(){var e=bc!==0;return bc=0,e}function Li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?yt.memoizedState=zt=e:zt=zt.next=e,zt}function Qn(){if(Nt===null){var e=yt.alternate;e=e!==null?e.memoizedState:null}else e=Nt.next;var t=zt===null?yt.memoizedState:zt.next;if(t!==null)zt=t,Nt=e;else{if(e===null)throw Error(ie(310));Nt=e,e={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},zt===null?yt.memoizedState=zt=e:zt=zt.next=e}return zt}function Mc(e,t){return typeof t=="function"?t(e):t}function om(e){var t=Qn(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var i=Nt,r=i.baseQueue,o=n.pending;if(o!==null){if(r!==null){var s=r.next;r.next=o.next,o.next=s}i.baseQueue=r=o,n.pending=null}if(r!==null){o=r.next,i=i.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Ko&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=i):l=l.next=f,yt.lanes|=u,Qo|=u}c=c.next}while(c!==null&&c!==o);l===null?s=i:l.next=a,Mi(i,t.memoizedState)||(gn=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=l,n.lastRenderedState=i}if(e=n.interleaved,e!==null){r=e;do o=r.lane,yt.lanes|=o,Qo|=o,r=r.next;while(r!==e)}else r===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sm(e){var t=Qn(),n=t.queue;if(n===null)throw Error(ie(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do o=e(o,s.action),s=s.next;while(s!==r);Mi(o,t.memoizedState)||(gn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function CM(){}function LM(e,t){var n=yt,i=Qn(),r=t(),o=!Mi(i.memoizedState,r);if(o&&(i.memoizedState=r,gn=!0),i=i.queue,n0(DM.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,Ec(9,OM.bind(null,n,i,r,t),void 0,null),Ht===null)throw Error(ie(349));Ko&30||RM(n,t,r)}return r}function RM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=yt.updateQueue,t===null?(t={lastEffect:null,stores:null},yt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function OM(e,t,n,i){t.value=n,t.getSnapshot=i,NM(t)&&IM(e)}function DM(e,t,n){return n(function(){NM(t)&&IM(e)})}function NM(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mi(e,n)}catch{return!0}}function IM(e){var t=mr(e,1);t!==null&&xi(t,e,1,-1)}function Vx(e){var t=Li();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:e},t.queue=e,e=e.dispatch=ZA.bind(null,yt,e),[t.memoizedState,e]}function Ec(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=yt.updateQueue,t===null?(t={lastEffect:null,stores:null},yt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function kM(){return Qn().memoizedState}function ph(e,t,n,i){var r=Li();yt.flags|=e,r.memoizedState=Ec(1|t,n,void 0,i===void 0?null:i)}function sp(e,t,n,i){var r=Qn();i=i===void 0?null:i;var o=void 0;if(Nt!==null){var s=Nt.memoizedState;if(o=s.destroy,i!==null&&Qv(i,s.deps)){r.memoizedState=Ec(t,n,o,i);return}}yt.flags|=e,r.memoizedState=Ec(1|t,n,o,i)}function Wx(e,t){return ph(8390656,8,e,t)}function n0(e,t){return sp(2048,8,e,t)}function FM(e,t){return sp(4,2,e,t)}function BM(e,t){return sp(4,4,e,t)}function zM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UM(e,t,n){return n=n!=null?n.concat([e]):null,sp(4,4,zM.bind(null,t,e),n)}function i0(){}function HM(e,t){var n=Qn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Qv(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function GM(e,t){var n=Qn();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Qv(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function VM(e,t,n){return Ko&21?(Mi(n,t)||(n=q1(),yt.lanes|=n,Qo|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gn=!0),e.memoizedState=n)}function YA(e,t){var n=Qe;Qe=n!==0&&4>n?n:4,e(!0);var i=rm.transition;rm.transition={};try{e(!1),t()}finally{Qe=n,rm.transition=i}}function WM(){return Qn().memoizedState}function JA(e,t,n){var i=io(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},jM(e))qM(t,n);else if(n=bM(e,t,n,i),n!==null){var r=an();xi(n,e,i,r),$M(n,t,i)}}function ZA(e,t,n){var i=io(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(jM(e))qM(t,r);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,Mi(a,s)){var l=t.interleaved;l===null?(r.next=r,Xv(t)):(r.next=l.next,l.next=r),t.interleaved=r;return}}catch{}finally{}n=bM(e,t,r,i),n!==null&&(r=an(),xi(n,e,i,r),$M(n,t,i))}}function jM(e){var t=e.alternate;return e===yt||t!==null&&t===yt}function qM(e,t){jl=qh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $M(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Nv(e,n)}}var $h={readContext:Kn,useCallback:Xt,useContext:Xt,useEffect:Xt,useImperativeHandle:Xt,useInsertionEffect:Xt,useLayoutEffect:Xt,useMemo:Xt,useReducer:Xt,useRef:Xt,useState:Xt,useDebugValue:Xt,useDeferredValue:Xt,useTransition:Xt,useMutableSource:Xt,useSyncExternalStore:Xt,useId:Xt,unstable_isNewReconciler:!1},KA={readContext:Kn,useCallback:function(e,t){return Li().memoizedState=[e,t===void 0?null:t],e},useContext:Kn,useEffect:Wx,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ph(4194308,4,zM.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ph(4194308,4,e,t)},useInsertionEffect:function(e,t){return ph(4,2,e,t)},useMemo:function(e,t){var n=Li();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Li();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=JA.bind(null,yt,e),[i.memoizedState,e]},useRef:function(e){var t=Li();return e={current:e},t.memoizedState=e},useState:Vx,useDebugValue:i0,useDeferredValue:function(e){return Li().memoizedState=e},useTransition:function(){var e=Vx(!1),t=e[0];return e=YA.bind(null,e[1]),Li().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=yt,r=Li();if(ht){if(n===void 0)throw Error(ie(407));n=n()}else{if(n=t(),Ht===null)throw Error(ie(349));Ko&30||RM(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,Wx(DM.bind(null,i,o,e),[e]),i.flags|=2048,Ec(9,OM.bind(null,i,o,n,t),void 0,null),n},useId:function(){var e=Li(),t=Ht.identifierPrefix;if(ht){var n=cr,i=lr;n=(i&~(1<<32-vi(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=bc++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=XA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},QA={readContext:Kn,useCallback:HM,useContext:Kn,useEffect:n0,useImperativeHandle:UM,useInsertionEffect:FM,useLayoutEffect:BM,useMemo:GM,useReducer:om,useRef:kM,useState:function(){return om(Mc)},useDebugValue:i0,useDeferredValue:function(e){var t=Qn();return VM(t,Nt.memoizedState,e)},useTransition:function(){var e=om(Mc)[0],t=Qn().memoizedState;return[e,t]},useMutableSource:CM,useSyncExternalStore:LM,useId:WM,unstable_isNewReconciler:!1},eP={readContext:Kn,useCallback:HM,useContext:Kn,useEffect:n0,useImperativeHandle:UM,useInsertionEffect:FM,useLayoutEffect:BM,useMemo:GM,useReducer:sm,useRef:kM,useState:function(){return sm(Mc)},useDebugValue:i0,useDeferredValue:function(e){var t=Qn();return Nt===null?t.memoizedState=e:VM(t,Nt.memoizedState,e)},useTransition:function(){var e=sm(Mc)[0],t=Qn().memoizedState;return[e,t]},useMutableSource:CM,useSyncExternalStore:LM,useId:WM,unstable_isNewReconciler:!1};function _a(e,t){try{var n="",i=t;do n+=P2(i),i=i.return;while(i);var r=n}catch(o){r=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:r,digest:null}}function am(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ug(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tP=typeof WeakMap=="function"?WeakMap:Map;function XM(e,t,n){n=ur(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Yh||(Yh=!0,Jg=i),Ug(e,t)},n}function YM(e,t,n){n=ur(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){Ug(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ug(e,t),typeof i!="function"&&(no===null?no=new Set([this]):no.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function jx(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new tP;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=mP.bind(null,e,t,n),t.then(e,e))}function qx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $x(e,t,n,i,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ur(-1,1),t.tag=2,to(n,t,1))),n.lanes|=1),e)}var nP=Er.ReactCurrentOwner,gn=!1;function on(e,t,n,i){t.child=e===null?AM(t,null,n,i):xa(t,e.child,n,i)}function Xx(e,t,n,i,r){n=n.render;var o=t.ref;return la(t,r),i=e0(e,t,n,i,o,r),n=t0(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,gr(e,t,r)):(ht&&n&&Gv(t),t.flags|=1,on(e,t,i,r),t.child)}function Yx(e,t,n,i,r){if(e===null){var o=n.type;return typeof o=="function"&&!f0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,JM(e,t,o,i,r)):(e=vh(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&r)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:gc,n(s,i)&&e.ref===t.ref)return gr(e,t,r)}return t.flags|=1,e=ro(o,i),e.ref=t.ref,e.return=t,t.child=e}function JM(e,t,n,i,r){if(e!==null){var o=e.memoizedProps;if(gc(o,i)&&e.ref===t.ref)if(gn=!1,t.pendingProps=i=o,(e.lanes&r)!==0)e.flags&131072&&(gn=!0);else return t.lanes=e.lanes,gr(e,t,r)}return Hg(e,t,n,i,r)}function ZM(e,t,n){var i=t.pendingProps,r=i.children,o=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(Ys,Tn),Tn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ot(Ys,Tn),Tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,ot(Ys,Tn),Tn|=i}else o!==null?(i=o.baseLanes|n,t.memoizedState=null):i=n,ot(Ys,Tn),Tn|=i;return on(e,t,r,n),t.child}function KM(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hg(e,t,n,i,r){var o=xn(n)?Jo:en.current;return o=ya(t,o),la(t,r),n=e0(e,t,n,i,o,r),i=t0(),e!==null&&!gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,gr(e,t,r)):(ht&&i&&Gv(t),t.flags|=1,on(e,t,n,r),t.child)}function Jx(e,t,n,i,r){if(xn(n)){var o=!0;zh(t)}else o=!1;if(la(t,r),t.stateNode===null)mh(e,t),SM(t,n,i),zg(t,n,i,r),i=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kn(c):(c=xn(n)?Jo:en.current,c=ya(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Hx(t,s,i,c),zr=!1;var h=t.memoizedState;s.state=h,Wh(t,i,s,r),l=t.memoizedState,a!==i||h!==l||vn.current||zr?(typeof u=="function"&&(Bg(t,n,u,i),l=t.memoizedState),(a=zr||Ux(t,n,a,i,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,MM(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:fi(t.type,a),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kn(l):(l=xn(n)?Jo:en.current,l=ya(t,l));var d=n.getDerivedStateFromProps;(u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&Hx(t,s,i,l),zr=!1,h=t.memoizedState,s.state=h,Wh(t,i,s,r);var m=t.memoizedState;a!==f||h!==m||vn.current||zr?(typeof d=="function"&&(Bg(t,n,d,i),m=t.memoizedState),(c=zr||Ux(t,n,c,i,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=m),s.props=i,s.state=m,s.context=l,i=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return Gg(e,t,n,i,o,r)}function Gg(e,t,n,i,r,o){KM(e,t);var s=(t.flags&128)!==0;if(!i&&!s)return r&&Ix(t,n,!1),gr(e,t,o);i=t.stateNode,nP.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&s?(t.child=xa(t,e.child,null,o),t.child=xa(t,null,a,o)):on(e,t,a,o),t.memoizedState=i.state,r&&Ix(t,n,!0),t.child}function QM(e){var t=e.stateNode;t.pendingContext?Nx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nx(e,t.context,!1),Jv(e,t.containerInfo)}function Zx(e,t,n,i,r){return va(),Wv(r),t.flags|=256,on(e,t,n,i),t.child}var Vg={dehydrated:null,treeContext:null,retryLane:0};function Wg(e){return{baseLanes:e,cachePool:null,transitions:null}}function eE(e,t,n){var i=t.pendingProps,r=mt.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(r&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),ot(mt,r&1),e===null)return kg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=i.children,e=i.fallback,o?(i=t.mode,o=t.child,s={mode:"hidden",children:s},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=cp(s,i,0,null),e=Wo(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Wg(n),t.memoizedState=Vg,e):r0(t,s));if(r=e.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return iP(e,t,s,i,a,r,n);if(o){o=i.fallback,s=t.mode,r=e.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(s&1)&&t.child!==r?(i=t.child,i.childLanes=0,i.pendingProps=l,t.deletions=null):(i=ro(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?o=ro(a,o):(o=Wo(o,s,n,null),o.flags|=2),o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,s=e.child.memoizedState,s=s===null?Wg(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=Vg,i}return o=e.child,e=o.sibling,i=ro(o,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function r0(e,t){return t=cp({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function tf(e,t,n,i){return i!==null&&Wv(i),xa(t,e.child,null,n),e=r0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function iP(e,t,n,i,r,o,s){if(n)return t.flags&256?(t.flags&=-257,i=am(Error(ie(422))),tf(e,t,s,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=i.fallback,r=t.mode,i=cp({mode:"visible",children:i.children},r,0,null),o=Wo(o,r,s,null),o.flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,t.mode&1&&xa(t,e.child,null,s),t.child.memoizedState=Wg(s),t.memoizedState=Vg,o);if(!(t.mode&1))return tf(e,t,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,o=Error(ie(419)),i=am(o,i,void 0),tf(e,t,s,i)}if(a=(s&e.childLanes)!==0,gn||a){if(i=Ht,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==o.retryLane&&(o.retryLane=r,mr(e,r),xi(i,e,r,-1))}return u0(),i=am(Error(ie(421))),tf(e,t,s,i)}return r.data==="$?"?(t.flags|=128,t.child=e.child,t=gP.bind(null,e),r._reactRetry=t,null):(e=o.treeContext,An=eo(r.nextSibling),Cn=t,ht=!0,pi=null,e!==null&&(Vn[Wn++]=lr,Vn[Wn++]=cr,Vn[Wn++]=Zo,lr=e.id,cr=e.overflow,Zo=t),t=r0(t,i.children),t.flags|=4096,t)}function Kx(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Fg(e.return,t,n)}function lm(e,t,n,i,r){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function tE(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(on(e,t,i.children,n),i=mt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kx(e,n,t);else if(e.tag===19)Kx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ot(mt,i),!(t.mode&1))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&jh(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),lm(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&jh(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}lm(t,!0,n,null,o);break;case"together":lm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qo|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ie(153));if(t.child!==null){for(e=t.child,n=ro(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ro(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rP(e,t,n){switch(t.tag){case 3:QM(t),va();break;case 5:PM(t);break;case 1:xn(t.type)&&zh(t);break;case 4:Jv(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;ot(Gh,i._currentValue),i._currentValue=r;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ot(mt,mt.current&1),t.flags|=128,null):n&t.child.childLanes?eE(e,t,n):(ot(mt,mt.current&1),e=gr(e,t,n),e!==null?e.sibling:null);ot(mt,mt.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return tE(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ot(mt,mt.current),i)break;return null;case 22:case 23:return t.lanes=0,ZM(e,t,n)}return gr(e,t,n)}var nE,jg,iE,rE;nE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jg=function(){};iE=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Ho(Hi.current);var o=null;switch(n){case"input":r=dg(e,r),i=dg(e,i),o=[];break;case"select":r=vt({},r,{value:void 0}),i=vt({},i,{value:void 0}),o=[];break;case"textarea":r=gg(e,r),i=gg(e,i),o=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Fh)}vg(n,i);var s;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cc.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&at("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};rE=function(e,t,n,i){n!==i&&(t.flags|=4)};function yl(e,t){if(!ht)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Yt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function oP(e,t,n){var i=t.pendingProps;switch(Vv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(t),null;case 1:return xn(t.type)&&Bh(),Yt(t),null;case 3:return i=t.stateNode,wa(),ct(vn),ct(en),Kv(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Qu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pi!==null&&(Qg(pi),pi=null))),jg(e,t),Yt(t),null;case 5:Zv(t);var r=Ho(_c.current);if(n=t.type,e!==null&&t.stateNode!=null)iE(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(ie(166));return Yt(t),null}if(e=Ho(Hi.current),Qu(t)){i=t.stateNode,n=t.type;var o=t.memoizedProps;switch(i[Ni]=t,i[xc]=o,e=(t.mode&1)!==0,n){case"dialog":at("cancel",i),at("close",i);break;case"iframe":case"object":case"embed":at("load",i);break;case"video":case"audio":for(r=0;r<Nl.length;r++)at(Nl[r],i);break;case"source":at("error",i);break;case"img":case"image":case"link":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"input":ax(i,o),at("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},at("invalid",i);break;case"textarea":cx(i,o),at("invalid",i)}vg(n,o),r=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?i.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ku(i.textContent,a,e),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ku(i.textContent,a,e),r=["children",""+a]):cc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&at("scroll",i)}switch(n){case"input":Wu(i),lx(i,o,!0);break;case"textarea":Wu(i),ux(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=Fh)}i=r,t.updateQueue=i,i!==null&&(t.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=R1(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=s.createElement(n,{is:i.is}):(e=s.createElement(n),n==="select"&&(s=e,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):e=s.createElementNS(e,n),e[Ni]=t,e[xc]=i,nE(e,t,!1,!1),t.stateNode=e;e:{switch(s=xg(n,i),n){case"dialog":at("cancel",e),at("close",e),r=i;break;case"iframe":case"object":case"embed":at("load",e),r=i;break;case"video":case"audio":for(r=0;r<Nl.length;r++)at(Nl[r],e);r=i;break;case"source":at("error",e),r=i;break;case"img":case"image":case"link":at("error",e),at("load",e),r=i;break;case"details":at("toggle",e),r=i;break;case"input":ax(e,i),r=dg(e,i),at("invalid",e);break;case"option":r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=vt({},i,{value:void 0}),at("invalid",e);break;case"textarea":cx(e,i),r=gg(e,i),at("invalid",e);break;default:r=i}vg(n,r),a=r;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?N1(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&O1(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&uc(e,l):typeof l=="number"&&uc(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(cc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&at("scroll",e):l!=null&&Pv(e,o,l,s))}switch(n){case"input":Wu(e),lx(e,i,!1);break;case"textarea":Wu(e),ux(e);break;case"option":i.value!=null&&e.setAttribute("value",""+uo(i.value));break;case"select":e.multiple=!!i.multiple,o=i.value,o!=null?ra(e,!!i.multiple,o,!1):i.defaultValue!=null&&ra(e,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=Fh)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yt(t),null;case 6:if(e&&t.stateNode!=null)rE(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(ie(166));if(n=Ho(_c.current),Ho(Hi.current),Qu(t)){if(i=t.stateNode,n=t.memoizedProps,i[Ni]=t,(o=i.nodeValue!==n)&&(e=Cn,e!==null))switch(e.tag){case 3:Ku(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ku(i.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ni]=t,t.stateNode=i}return Yt(t),null;case 13:if(ct(mt),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ht&&An!==null&&t.mode&1&&!(t.flags&128))_M(),va(),t.flags|=98560,o=!1;else if(o=Qu(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(ie(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ie(317));o[Ni]=t}else va(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yt(t),o=!1}else pi!==null&&(Qg(pi),pi=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||mt.current&1?It===0&&(It=3):u0())),t.updateQueue!==null&&(t.flags|=4),Yt(t),null);case 4:return wa(),jg(e,t),e===null&&yc(t.stateNode.containerInfo),Yt(t),null;case 10:return $v(t.type._context),Yt(t),null;case 17:return xn(t.type)&&Bh(),Yt(t),null;case 19:if(ct(mt),o=t.memoizedState,o===null)return Yt(t),null;if(i=(t.flags&128)!==0,s=o.rendering,s===null)if(i)yl(o,!1);else{if(It!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=jh(e),s!==null){for(t.flags|=128,yl(o,!1),i=s.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)o=n,e=i,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ot(mt,mt.current&1|2),t.child}e=e.sibling}o.tail!==null&&St()>ba&&(t.flags|=128,i=!0,yl(o,!1),t.lanes=4194304)}else{if(!i)if(e=jh(s),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),yl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!ht)return Yt(t),null}else 2*St()-o.renderingStartTime>ba&&n!==1073741824&&(t.flags|=128,i=!0,yl(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=St(),t.sibling=null,n=mt.current,ot(mt,i?n&1|2:n&1),t):(Yt(t),null);case 22:case 23:return c0(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?Tn&1073741824&&(Yt(t),t.subtreeFlags&6&&(t.flags|=8192)):Yt(t),null;case 24:return null;case 25:return null}throw Error(ie(156,t.tag))}function sP(e,t){switch(Vv(t),t.tag){case 1:return xn(t.type)&&Bh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(),ct(vn),ct(en),Kv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zv(t),null;case 13:if(ct(mt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ie(340));va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(mt),null;case 4:return wa(),null;case 10:return $v(t.type._context),null;case 22:case 23:return c0(),null;case 24:return null;default:return null}}var nf=!1,Kt=!1,aP=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Xs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){bt(e,t,i)}else n.current=null}function qg(e,t,n){try{n()}catch(i){bt(e,t,i)}}var Qx=!1;function lP(e,t){if(Cg=Nh,e=lM(),Hv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var d;f!==n||r!==0&&f.nodeType!==3||(a=s+r),f!==o||i!==0&&f.nodeType!==3||(l=s+i),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===n&&++c===r&&(a=s),h===o&&++u===i&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lg={focusedElem:e,selectionRange:n},Nh=!1,ye=t;ye!==null;)if(t=ye,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ye=e;else for(;ye!==null;){t=ye;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,x=m.memoizedState,p=t.stateNode,g=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:fi(t.type,v),x);p.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ie(163))}}catch(y){bt(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,ye=e;break}ye=t.return}return m=Qx,Qx=!1,m}function ql(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,o!==void 0&&qg(t,n,o)}r=r.next}while(r!==i)}}function ap(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function $g(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oE(e){var t=e.alternate;t!==null&&(e.alternate=null,oE(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ni],delete t[xc],delete t[Dg],delete t[WA],delete t[jA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sE(e){return e.tag===5||e.tag===3||e.tag===4}function ew(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||sE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xg(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fh));else if(i!==4&&(e=e.child,e!==null))for(Xg(e,t,n),e=e.sibling;e!==null;)Xg(e,t,n),e=e.sibling}function Yg(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Yg(e,t,n),e=e.sibling;e!==null;)Yg(e,t,n),e=e.sibling}var Wt=null,di=!1;function Ar(e,t,n){for(n=n.child;n!==null;)aE(e,t,n),n=n.sibling}function aE(e,t,n){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(Qd,n)}catch{}switch(n.tag){case 5:Kt||Xs(n,t);case 6:var i=Wt,r=di;Wt=null,Ar(e,t,n),Wt=i,di=r,Wt!==null&&(di?(e=Wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(di?(e=Wt,n=n.stateNode,e.nodeType===8?tm(e.parentNode,n):e.nodeType===1&&tm(e,n),pc(e)):tm(Wt,n.stateNode));break;case 4:i=Wt,r=di,Wt=n.stateNode.containerInfo,di=!0,Ar(e,t,n),Wt=i,di=r;break;case 0:case 11:case 14:case 15:if(!Kt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var o=r,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&qg(n,t,s),r=r.next}while(r!==i)}Ar(e,t,n);break;case 1:if(!Kt&&(Xs(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){bt(n,t,a)}Ar(e,t,n);break;case 21:Ar(e,t,n);break;case 22:n.mode&1?(Kt=(i=Kt)||n.memoizedState!==null,Ar(e,t,n),Kt=i):Ar(e,t,n);break;default:Ar(e,t,n)}}function tw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new aP),t.forEach(function(i){var r=yP.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}}function si(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Wt=a.stateNode,di=!1;break e;case 3:Wt=a.stateNode.containerInfo,di=!0;break e;case 4:Wt=a.stateNode.containerInfo,di=!0;break e}a=a.return}if(Wt===null)throw Error(ie(160));aE(o,s,r),Wt=null,di=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){bt(r,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)lE(t,e),t=t.sibling}function lE(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(si(t,e),Ai(e),i&4){try{ql(3,e,e.return),ap(3,e)}catch(v){bt(e,e.return,v)}try{ql(5,e,e.return)}catch(v){bt(e,e.return,v)}}break;case 1:si(t,e),Ai(e),i&512&&n!==null&&Xs(n,n.return);break;case 5:if(si(t,e),Ai(e),i&512&&n!==null&&Xs(n,n.return),e.flags&32){var r=e.stateNode;try{uc(r,"")}catch(v){bt(e,e.return,v)}}if(i&4&&(r=e.stateNode,r!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&C1(r,o),xg(a,s);var c=xg(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?N1(r,f):u==="dangerouslySetInnerHTML"?O1(r,f):u==="children"?uc(r,f):Pv(r,u,f,c)}switch(a){case"input":pg(r,o);break;case"textarea":L1(r,o);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?ra(r,!!o.multiple,d,!1):h!==!!o.multiple&&(o.defaultValue!=null?ra(r,!!o.multiple,o.defaultValue,!0):ra(r,!!o.multiple,o.multiple?[]:"",!1))}r[xc]=o}catch(v){bt(e,e.return,v)}}break;case 6:if(si(t,e),Ai(e),i&4){if(e.stateNode===null)throw Error(ie(162));r=e.stateNode,o=e.memoizedProps;try{r.nodeValue=o}catch(v){bt(e,e.return,v)}}break;case 3:if(si(t,e),Ai(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{pc(t.containerInfo)}catch(v){bt(e,e.return,v)}break;case 4:si(t,e),Ai(e);break;case 13:si(t,e),Ai(e),r=e.child,r.flags&8192&&(o=r.memoizedState!==null,r.stateNode.isHidden=o,!o||r.alternate!==null&&r.alternate.memoizedState!==null||(a0=St())),i&4&&tw(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Kt=(c=Kt)||u,si(t,e),Kt=c):si(t,e),Ai(e),i&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(ye=e,u=e.child;u!==null;){for(f=ye=u;ye!==null;){switch(h=ye,d=h.child,h.tag){case 0:case 11:case 14:case 15:ql(4,h,h.return);break;case 1:Xs(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){i=h,n=h.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){bt(i,n,v)}}break;case 5:Xs(h,h.return);break;case 22:if(h.memoizedState!==null){iw(f);continue}}d!==null?(d.return=h,ye=d):iw(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{r=f.stateNode,c?(o=r.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=D1("display",s))}catch(v){bt(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){bt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:si(t,e),Ai(e),i&4&&tw(e);break;case 21:break;default:si(t,e),Ai(e)}}function Ai(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(sE(n)){var i=n;break e}n=n.return}throw Error(ie(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(uc(r,""),i.flags&=-33);var o=ew(e);Yg(e,o,r);break;case 3:case 4:var s=i.stateNode.containerInfo,a=ew(e);Xg(e,a,s);break;default:throw Error(ie(161))}}catch(l){bt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cP(e,t,n){ye=e,cE(e)}function cE(e,t,n){for(var i=(e.mode&1)!==0;ye!==null;){var r=ye,o=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||nf;if(!s){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Kt;a=nf;var c=Kt;if(nf=s,(Kt=l)&&!c)for(ye=r;ye!==null;)s=ye,l=s.child,s.tag===22&&s.memoizedState!==null?rw(r):l!==null?(l.return=s,ye=l):rw(r);for(;o!==null;)ye=o,cE(o),o=o.sibling;ye=r,nf=a,Kt=c}nw(e)}else r.subtreeFlags&8772&&o!==null?(o.return=r,ye=o):nw(e)}}function nw(e){for(;ye!==null;){var t=ye;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Kt||ap(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!Kt)if(n===null)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:fi(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&zx(t,o,i);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}zx(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&pc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ie(163))}Kt||t.flags&512&&$g(t)}catch(h){bt(t,t.return,h)}}if(t===e){ye=null;break}if(n=t.sibling,n!==null){n.return=t.return,ye=n;break}ye=t.return}}function iw(e){for(;ye!==null;){var t=ye;if(t===e){ye=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ye=n;break}ye=t.return}}function rw(e){for(;ye!==null;){var t=ye;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ap(4,t)}catch(l){bt(t,n,l)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var r=t.return;try{i.componentDidMount()}catch(l){bt(t,r,l)}}var o=t.return;try{$g(t)}catch(l){bt(t,o,l)}break;case 5:var s=t.return;try{$g(t)}catch(l){bt(t,s,l)}}}catch(l){bt(t,t.return,l)}if(t===e){ye=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ye=a;break}ye=t.return}}var uP=Math.ceil,Xh=Er.ReactCurrentDispatcher,o0=Er.ReactCurrentOwner,$n=Er.ReactCurrentBatchConfig,Xe=0,Ht=null,Ct=null,qt=0,Tn=0,Ys=xo(0),It=0,Sc=null,Qo=0,lp=0,s0=0,$l=null,pn=null,a0=0,ba=1/0,rr=null,Yh=!1,Jg=null,no=null,rf=!1,qr=null,Jh=0,Xl=0,Zg=null,gh=-1,yh=0;function an(){return Xe&6?St():gh!==-1?gh:gh=St()}function io(e){return e.mode&1?Xe&2&&qt!==0?qt&-qt:$A.transition!==null?(yh===0&&(yh=q1()),yh):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:Q1(e.type)),e):1}function xi(e,t,n,i){if(50<Xl)throw Xl=0,Zg=null,Error(ie(185));_u(e,n,i),(!(Xe&2)||e!==Ht)&&(e===Ht&&(!(Xe&2)&&(lp|=n),It===4&&Vr(e,qt)),wn(e,i),n===1&&Xe===0&&!(t.mode&1)&&(ba=St()+500,rp&&wo()))}function wn(e,t){var n=e.callbackNode;$2(e,t);var i=Dh(e,e===Ht?qt:0);if(i===0)n!==null&&dx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&dx(n),t===1)e.tag===0?qA(ow.bind(null,e)):vM(ow.bind(null,e)),GA(function(){!(Xe&6)&&wo()}),n=null;else{switch($1(i)){case 1:n=Dv;break;case 4:n=W1;break;case 16:n=Oh;break;case 536870912:n=j1;break;default:n=Oh}n=yE(n,uE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uE(e,t){if(gh=-1,yh=0,Xe&6)throw Error(ie(327));var n=e.callbackNode;if(ca()&&e.callbackNode!==n)return null;var i=Dh(e,e===Ht?qt:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Zh(e,i);else{t=i;var r=Xe;Xe|=2;var o=hE();(Ht!==e||qt!==t)&&(rr=null,ba=St()+500,Vo(e,t));do try{dP();break}catch(a){fE(e,a)}while(1);qv(),Xh.current=o,Xe=r,Ct!==null?t=0:(Ht=null,qt=0,t=It)}if(t!==0){if(t===2&&(r=Eg(e),r!==0&&(i=r,t=Kg(e,r))),t===1)throw n=Sc,Vo(e,0),Vr(e,i),wn(e,St()),n;if(t===6)Vr(e,i);else{if(r=e.current.alternate,!(i&30)&&!fP(r)&&(t=Zh(e,i),t===2&&(o=Eg(e),o!==0&&(i=o,t=Kg(e,o))),t===1))throw n=Sc,Vo(e,0),Vr(e,i),wn(e,St()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(ie(345));case 2:Oo(e,pn,rr);break;case 3:if(Vr(e,i),(i&130023424)===i&&(t=a0+500-St(),10<t)){if(Dh(e,0)!==0)break;if(r=e.suspendedLanes,(r&i)!==i){an(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=Og(Oo.bind(null,e,pn,rr),t);break}Oo(e,pn,rr);break;case 4:if(Vr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-vi(i);o=1<<s,s=t[s],s>r&&(r=s),i&=~o}if(i=r,i=St()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*uP(i/1960))-i,10<i){e.timeoutHandle=Og(Oo.bind(null,e,pn,rr),i);break}Oo(e,pn,rr);break;case 5:Oo(e,pn,rr);break;default:throw Error(ie(329))}}}return wn(e,St()),e.callbackNode===n?uE.bind(null,e):null}function Kg(e,t){var n=$l;return e.current.memoizedState.isDehydrated&&(Vo(e,t).flags|=256),e=Zh(e,t),e!==2&&(t=pn,pn=n,t!==null&&Qg(t)),e}function Qg(e){pn===null?pn=e:pn.push.apply(pn,e)}function fP(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Mi(o(),r))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vr(e,t){for(t&=~s0,t&=~lp,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vi(t),i=1<<n;e[n]=-1,t&=~i}}function ow(e){if(Xe&6)throw Error(ie(327));ca();var t=Dh(e,0);if(!(t&1))return wn(e,St()),null;var n=Zh(e,t);if(e.tag!==0&&n===2){var i=Eg(e);i!==0&&(t=i,n=Kg(e,i))}if(n===1)throw n=Sc,Vo(e,0),Vr(e,t),wn(e,St()),n;if(n===6)throw Error(ie(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Oo(e,pn,rr),wn(e,St()),null}function l0(e,t){var n=Xe;Xe|=1;try{return e(t)}finally{Xe=n,Xe===0&&(ba=St()+500,rp&&wo())}}function es(e){qr!==null&&qr.tag===0&&!(Xe&6)&&ca();var t=Xe;Xe|=1;var n=$n.transition,i=Qe;try{if($n.transition=null,Qe=1,e)return e()}finally{Qe=i,$n.transition=n,Xe=t,!(Xe&6)&&wo()}}function c0(){Tn=Ys.current,ct(Ys)}function Vo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,HA(n)),Ct!==null)for(n=Ct.return;n!==null;){var i=n;switch(Vv(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Bh();break;case 3:wa(),ct(vn),ct(en),Kv();break;case 5:Zv(i);break;case 4:wa();break;case 13:ct(mt);break;case 19:ct(mt);break;case 10:$v(i.type._context);break;case 22:case 23:c0()}n=n.return}if(Ht=e,Ct=e=ro(e.current,null),qt=Tn=t,It=0,Sc=null,s0=lp=Qo=0,pn=$l=null,Uo!==null){for(t=0;t<Uo.length;t++)if(n=Uo[t],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,o=n.pending;if(o!==null){var s=o.next;o.next=r,i.next=s}n.pending=i}Uo=null}return e}function fE(e,t){do{var n=Ct;try{if(qv(),dh.current=$h,qh){for(var i=yt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}qh=!1}if(Ko=0,zt=Nt=yt=null,jl=!1,bc=0,o0.current=null,n===null||n.return===null){It=1,Sc=t,Ct=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=qx(s);if(d!==null){d.flags&=-257,$x(d,s,a,o,t),d.mode&1&&jx(o,c,t),t=d,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){jx(o,c,t),u0();break e}l=Error(ie(426))}}else if(ht&&a.mode&1){var x=qx(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),$x(x,s,a,o,t),Wv(_a(l,a));break e}}o=l=_a(l,a),It!==4&&(It=2),$l===null?$l=[o]:$l.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=XM(o,l,t);Bx(o,p);break e;case 1:a=l;var g=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(no===null||!no.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var y=YM(o,a,t);Bx(o,y);break e}}o=o.return}while(o!==null)}pE(n)}catch(_){t=_,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(1)}function hE(){var e=Xh.current;return Xh.current=$h,e===null?$h:e}function u0(){(It===0||It===3||It===2)&&(It=4),Ht===null||!(Qo&268435455)&&!(lp&268435455)||Vr(Ht,qt)}function Zh(e,t){var n=Xe;Xe|=2;var i=hE();(Ht!==e||qt!==t)&&(rr=null,Vo(e,t));do try{hP();break}catch(r){fE(e,r)}while(1);if(qv(),Xe=n,Xh.current=i,Ct!==null)throw Error(ie(261));return Ht=null,qt=0,It}function hP(){for(;Ct!==null;)dE(Ct)}function dP(){for(;Ct!==null&&!B2();)dE(Ct)}function dE(e){var t=gE(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?pE(e):Ct=t,o0.current=null}function pE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=sP(n,t),n!==null){n.flags&=32767,Ct=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{It=6,Ct=null;return}}else if(n=oP(n,t,Tn),n!==null){Ct=n;return}if(t=t.sibling,t!==null){Ct=t;return}Ct=t=e}while(t!==null);It===0&&(It=5)}function Oo(e,t,n){var i=Qe,r=$n.transition;try{$n.transition=null,Qe=1,pP(e,t,n,i)}finally{$n.transition=r,Qe=i}return null}function pP(e,t,n,i){do ca();while(qr!==null);if(Xe&6)throw Error(ie(327));n=e.finishedWork;var r=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ie(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(X2(e,o),e===Ht&&(Ct=Ht=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rf||(rf=!0,yE(Oh,function(){return ca(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$n.transition,$n.transition=null;var s=Qe;Qe=1;var a=Xe;Xe|=4,o0.current=null,lP(e,n),lE(n,e),NA(Lg),Nh=!!Cg,Lg=Cg=null,e.current=n,cP(n),z2(),Xe=a,Qe=s,$n.transition=o}else e.current=n;if(rf&&(rf=!1,qr=e,Jh=r),o=e.pendingLanes,o===0&&(no=null),G2(n.stateNode),wn(e,St()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Yh)throw Yh=!1,e=Jg,Jg=null,e;return Jh&1&&e.tag!==0&&ca(),o=e.pendingLanes,o&1?e===Zg?Xl++:(Xl=0,Zg=e):Xl=0,wo(),null}function ca(){if(qr!==null){var e=$1(Jh),t=$n.transition,n=Qe;try{if($n.transition=null,Qe=16>e?16:e,qr===null)var i=!1;else{if(e=qr,qr=null,Jh=0,Xe&6)throw Error(ie(331));var r=Xe;for(Xe|=4,ye=e.current;ye!==null;){var o=ye,s=o.child;if(ye.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ye=c;ye!==null;){var u=ye;switch(u.tag){case 0:case 11:case 15:ql(8,u,o)}var f=u.child;if(f!==null)f.return=u,ye=f;else for(;ye!==null;){u=ye;var h=u.sibling,d=u.return;if(oE(u),u===c){ye=null;break}if(h!==null){h.return=d,ye=h;break}ye=d}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}ye=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,ye=s;else e:for(;ye!==null;){if(o=ye,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ql(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,ye=p;break e}ye=o.return}}var g=e.current;for(ye=g;ye!==null;){s=ye;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,ye=w;else e:for(s=g;ye!==null;){if(a=ye,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ap(9,a)}}catch(_){bt(a,a.return,_)}if(a===s){ye=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,ye=y;break e}ye=a.return}}if(Xe=r,wo(),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(Qd,e)}catch{}i=!0}return i}finally{Qe=n,$n.transition=t}}return!1}function sw(e,t,n){t=_a(n,t),t=XM(e,t,1),e=to(e,t,1),t=an(),e!==null&&(_u(e,1,t),wn(e,t))}function bt(e,t,n){if(e.tag===3)sw(e,e,n);else for(;t!==null;){if(t.tag===3){sw(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(no===null||!no.has(i))){e=_a(n,e),e=YM(t,e,1),t=to(t,e,1),e=an(),t!==null&&(_u(t,1,e),wn(t,e));break}}t=t.return}}function mP(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=an(),e.pingedLanes|=e.suspendedLanes&n,Ht===e&&(qt&n)===n&&(It===4||It===3&&(qt&130023424)===qt&&500>St()-a0?Vo(e,0):s0|=n),wn(e,t)}function mE(e,t){t===0&&(e.mode&1?(t=$u,$u<<=1,!($u&130023424)&&($u=4194304)):t=1);var n=an();e=mr(e,t),e!==null&&(_u(e,t,n),wn(e,n))}function gP(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),mE(e,n)}function yP(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(ie(314))}i!==null&&i.delete(t),mE(e,n)}var gE;gE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vn.current)gn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return gn=!1,rP(e,t,n);gn=!!(e.flags&131072)}else gn=!1,ht&&t.flags&1048576&&xM(t,Hh,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;mh(e,t),e=t.pendingProps;var r=ya(t,en.current);la(t,n),r=e0(null,t,i,e,r,n);var o=t0();return t.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xn(i)?(o=!0,zh(t)):o=!1,t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Yv(t),r.updater=op,t.stateNode=r,r._reactInternals=t,zg(t,i,e,n),t=Gg(null,t,i,!0,o,n)):(t.tag=0,ht&&o&&Gv(t),on(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(mh(e,t),e=t.pendingProps,r=i._init,i=r(i._payload),t.type=i,r=t.tag=xP(i),e=fi(i,e),r){case 0:t=Hg(null,t,i,e,n);break e;case 1:t=Jx(null,t,i,e,n);break e;case 11:t=Xx(null,t,i,e,n);break e;case 14:t=Yx(null,t,i,fi(i.type,e),n);break e}throw Error(ie(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:fi(i,r),Hg(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:fi(i,r),Jx(e,t,i,r,n);case 3:e:{if(QM(t),e===null)throw Error(ie(387));i=t.pendingProps,o=t.memoizedState,r=o.element,MM(e,t),Wh(t,i,null,n);var s=t.memoizedState;if(i=s.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){r=_a(Error(ie(423)),t),t=Zx(e,t,i,n,r);break e}else if(i!==r){r=_a(Error(ie(424)),t),t=Zx(e,t,i,n,r);break e}else for(An=eo(t.stateNode.containerInfo.firstChild),Cn=t,ht=!0,pi=null,n=AM(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(va(),i===r){t=gr(e,t,n);break e}on(e,t,i,n)}t=t.child}return t;case 5:return PM(t),e===null&&kg(t),i=t.type,r=t.pendingProps,o=e!==null?e.memoizedProps:null,s=r.children,Rg(i,r)?s=null:o!==null&&Rg(i,o)&&(t.flags|=32),KM(e,t),on(e,t,s,n),t.child;case 6:return e===null&&kg(t),null;case 13:return eE(e,t,n);case 4:return Jv(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=xa(t,null,i,n):on(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:fi(i,r),Xx(e,t,i,r,n);case 7:return on(e,t,t.pendingProps,n),t.child;case 8:return on(e,t,t.pendingProps.children,n),t.child;case 12:return on(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,o=t.memoizedProps,s=r.value,ot(Gh,i._currentValue),i._currentValue=s,o!==null)if(Mi(o.value,s)){if(o.children===r.children&&!vn.current){t=gr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(o.tag===1){l=ur(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Fg(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ie(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Fg(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}on(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,la(t,n),r=Kn(r),i=i(r),t.flags|=1,on(e,t,i,n),t.child;case 14:return i=t.type,r=fi(i,t.pendingProps),r=fi(i.type,r),Yx(e,t,i,r,n);case 15:return JM(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:fi(i,r),mh(e,t),t.tag=1,xn(i)?(e=!0,zh(t)):e=!1,la(t,n),SM(t,i,r),zg(t,i,r,n),Gg(null,t,i,!0,e,n);case 19:return tE(e,t,n);case 22:return ZM(e,t,n)}throw Error(ie(156,t.tag))};function yE(e,t){return V1(e,t)}function vP(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,t,n,i){return new vP(e,t,n,i)}function f0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xP(e){if(typeof e=="function")return f0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lv)return 11;if(e===Rv)return 14}return 2}function ro(e,t){var n=e.alternate;return n===null?(n=jn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function vh(e,t,n,i,r,o){var s=2;if(i=e,typeof e=="function")f0(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case zs:return Wo(n.children,r,o,t);case Cv:s=8,r|=8;break;case cg:return e=jn(12,n,t,r|2),e.elementType=cg,e.lanes=o,e;case ug:return e=jn(13,n,t,r),e.elementType=ug,e.lanes=o,e;case fg:return e=jn(19,n,t,r),e.elementType=fg,e.lanes=o,e;case T1:return cp(n,r,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E1:s=10;break e;case S1:s=9;break e;case Lv:s=11;break e;case Rv:s=14;break e;case Br:s=16,i=null;break e}throw Error(ie(130,e==null?e:typeof e,""))}return t=jn(s,n,t,r),t.elementType=e,t.type=i,t.lanes=o,t}function Wo(e,t,n,i){return e=jn(7,e,i,t),e.lanes=n,e}function cp(e,t,n,i){return e=jn(22,e,i,t),e.elementType=T1,e.lanes=n,e.stateNode={isHidden:!1},e}function cm(e,t,n){return e=jn(6,e,null,t),e.lanes=n,e}function um(e,t,n){return t=jn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wP(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wp(0),this.expirationTimes=Wp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wp(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function h0(e,t,n,i,r,o,s,a,l){return e=new wP(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=jn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yv(o),e}function _P(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bs,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function vE(e){if(!e)return fo;e=e._reactInternals;e:{if(ds(e)!==e||e.tag!==1)throw Error(ie(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ie(171))}if(e.tag===1){var n=e.type;if(xn(n))return yM(e,n,t)}return t}function xE(e,t,n,i,r,o,s,a,l){return e=h0(n,i,!0,e,r,o,s,a,l),e.context=vE(null),n=e.current,i=an(),r=io(n),o=ur(i,r),o.callback=t??null,to(n,o,r),e.current.lanes=r,_u(e,r,i),wn(e,i),e}function up(e,t,n,i){var r=t.current,o=an(),s=io(r);return n=vE(n),t.context===null?t.context=n:t.pendingContext=n,t=ur(o,s),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=to(r,t,s),e!==null&&(xi(e,r,s,o),hh(e,r,s)),s}function Kh(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function aw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function d0(e,t){aw(e,t),(e=e.alternate)&&aw(e,t)}function bP(){return null}var wE=typeof reportError=="function"?reportError:function(e){console.error(e)};function p0(e){this._internalRoot=e}fp.prototype.render=p0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ie(409));up(e,t,null,null)};fp.prototype.unmount=p0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;es(function(){up(null,e,null,null)}),t[pr]=null}};function fp(e){this._internalRoot=e}fp.prototype.unstable_scheduleHydration=function(e){if(e){var t=J1();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gr.length&&t!==0&&t<Gr[n].priority;n++);Gr.splice(n,0,e),n===0&&K1(e)}};function m0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function lw(){}function MP(e,t,n,i,r){if(r){if(typeof i=="function"){var o=i;i=function(){var c=Kh(s);o.call(c)}}var s=xE(t,i,e,0,null,!1,!1,"",lw);return e._reactRootContainer=s,e[pr]=s.current,yc(e.nodeType===8?e.parentNode:e),es(),s}for(;r=e.lastChild;)e.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Kh(l);a.call(c)}}var l=h0(e,0,!1,null,null,!1,!1,"",lw);return e._reactRootContainer=l,e[pr]=l.current,yc(e.nodeType===8?e.parentNode:e),es(function(){up(t,l,n,i)}),l}function dp(e,t,n,i,r){var o=n._reactRootContainer;if(o){var s=o;if(typeof r=="function"){var a=r;r=function(){var l=Kh(s);a.call(l)}}up(t,s,e,r)}else s=MP(n,t,e,r,i);return Kh(s)}X1=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Dl(t.pendingLanes);n!==0&&(Nv(t,n|1),wn(t,St()),!(Xe&6)&&(ba=St()+500,wo()))}break;case 13:es(function(){var i=mr(e,1);if(i!==null){var r=an();xi(i,e,1,r)}}),d0(e,1)}};Iv=function(e){if(e.tag===13){var t=mr(e,134217728);if(t!==null){var n=an();xi(t,e,134217728,n)}d0(e,134217728)}};Y1=function(e){if(e.tag===13){var t=io(e),n=mr(e,t);if(n!==null){var i=an();xi(n,e,t,i)}d0(e,t)}};J1=function(){return Qe};Z1=function(e,t){var n=Qe;try{return Qe=e,t()}finally{Qe=n}};_g=function(e,t,n){switch(t){case"input":if(pg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=ip(i);if(!r)throw Error(ie(90));P1(i),pg(i,r)}}}break;case"textarea":L1(e,n);break;case"select":t=n.value,t!=null&&ra(e,!!n.multiple,t,!1)}};F1=l0;B1=es;var EP={usingClientEntryPoint:!1,Events:[Mu,Vs,ip,I1,k1,l0]},vl={findFiberByHostInstance:zo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},SP={bundleType:vl.bundleType,version:vl.version,rendererPackageName:vl.rendererPackageName,rendererConfig:vl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Er.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=H1(e),e===null?null:e.stateNode},findFiberByHostInstance:vl.findFiberByHostInstance||bP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!of.isDisabled&&of.supportsFiber)try{Qd=of.inject(SP),Ui=of}catch{}}kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EP;kn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m0(t))throw Error(ie(200));return _P(e,t,null,n)};kn.createRoot=function(e,t){if(!m0(e))throw Error(ie(299));var n=!1,i="",r=wE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=h0(e,1,!1,null,null,n,!1,i,r),e[pr]=t.current,yc(e.nodeType===8?e.parentNode:e),new p0(t)};kn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ie(188)):(e=Object.keys(e).join(","),Error(ie(268,e)));return e=H1(t),e=e===null?null:e.stateNode,e};kn.flushSync=function(e){return es(e)};kn.hydrate=function(e,t,n){if(!hp(t))throw Error(ie(200));return dp(null,e,t,!0,n)};kn.hydrateRoot=function(e,t,n){if(!m0(e))throw Error(ie(405));var i=n!=null&&n.hydratedSources||null,r=!1,o="",s=wE;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=xE(t,null,e,1,n??null,r,!1,o,s),e[pr]=t.current,yc(e),i)for(e=0;e<i.length;e++)n=i[e],r=n._getVersion,r=r(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new fp(t)};kn.render=function(e,t,n){if(!hp(t))throw Error(ie(200));return dp(null,e,t,!1,n)};kn.unmountComponentAtNode=function(e){if(!hp(e))throw Error(ie(40));return e._reactRootContainer?(es(function(){dp(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};kn.unstable_batchedUpdates=l0;kn.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!hp(n))throw Error(ie(200));if(e==null||e._reactInternals===void 0)throw Error(ie(38));return dp(e,t,n,!1,i)};kn.version="18.2.0-next-9e3b772b8-20220608";function _E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_E)}catch(e){console.error(e)}}_E(),x1.exports=kn;var bE=x1.exports,cw=bE;ag.createRoot=cw.createRoot,ag.hydrateRoot=cw.hydrateRoot;/**
 * @remix-run/router v1.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tc.apply(this,arguments)}var $r;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($r||($r={}));const uw="popstate";function TP(e){e===void 0&&(e={});function t(i,r){let{pathname:o,search:s,hash:a}=i.location;return ey("",{pathname:o,search:s,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Qh(r)}return PP(t,n,null,e)}function Lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function g0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AP(){return Math.random().toString(36).substr(2,8)}function fw(e,t){return{usr:e.state,key:e.key,idx:t}}function ey(e,t,n,i){return n===void 0&&(n=null),Tc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?el(t):t,{state:n,key:t&&t.key||i||AP()})}function Qh(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function el(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function PP(e,t,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:o=!1}=i,s=r.history,a=$r.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(Tc({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){a=$r.Pop;let x=u(),p=x==null?null:x-c;c=x,l&&l({action:a,location:v.location,delta:p})}function h(x,p){a=$r.Push;let g=ey(v.location,x,p);n&&n(g,x),c=u()+1;let w=fw(g,c),y=v.createHref(g);try{s.pushState(w,"",y)}catch{r.location.assign(y)}o&&l&&l({action:a,location:v.location,delta:1})}function d(x,p){a=$r.Replace;let g=ey(v.location,x,p);n&&n(g,x),c=u();let w=fw(g,c),y=v.createHref(g);s.replaceState(w,"",y),o&&l&&l({action:a,location:v.location,delta:0})}function m(x){let p=r.location.origin!=="null"?r.location.origin:r.location.href,g=typeof x=="string"?x:Qh(x);return Lt(p,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,p)}let v={get action(){return a},get location(){return e(r,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(uw,f),l=x,()=>{r.removeEventListener(uw,f),l=null}},createHref(x){return t(r,x)},createURL:m,encodeLocation(x){let p=m(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:d,go(x){return s.go(x)}};return v}var hw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(hw||(hw={}));function CP(e,t,n){n===void 0&&(n="/");let i=typeof t=="string"?el(t):t,r=y0(i.pathname||"/",n);if(r==null)return null;let o=ME(e);LP(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=zP(o[a],GP(r));return s}function ME(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Lt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=oo([i,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Lt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ME(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:FP(c,o.index),routesMeta:u})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))r(o,s);else for(let l of EE(o.path))r(o,s,l)}),t}function EE(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let s=EE(i.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),r&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function LP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:BP(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const RP=/^:\w+$/,OP=3,DP=2,NP=1,IP=10,kP=-2,dw=e=>e==="*";function FP(e,t){let n=e.split("/"),i=n.length;return n.some(dw)&&(i+=kP),t&&(i+=DP),n.filter(r=>!dw(r)).reduce((r,o)=>r+(RP.test(o)?OP:o===""?NP:IP),i)}function BP(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function zP(e,t){let{routesMeta:n}=e,i={},r="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=r==="/"?t:t.slice(r.length)||"/",u=UP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(i,u.params);let f=a.route;o.push({params:i,pathname:oo([r,u.pathname]),pathnameBase:qP(oo([r,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(r=oo([r,u.pathnameBase]))}return o}function UP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=HP(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,f)=>{if(u==="*"){let h=a[f]||"";s=o.slice(0,o.length-h.length).replace(/(.)\/+$/,"$1")}return c[u]=VP(a[f]||"",u),c},{}),pathname:o,pathnameBase:s,pattern:e}}function HP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),g0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(i.push(a),"/([^\\/]+)"));return e.endsWith("*")?(i.push("*"),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function GP(e){try{return decodeURI(e)}catch(t){return g0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function VP(e,t){try{return decodeURIComponent(e)}catch(n){return g0(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+e+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),e}}function y0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function WP(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?el(e):e;return{pathname:n?n.startsWith("/")?n:jP(n,t):t,search:$P(i),hash:XP(r)}}function jP(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function fm(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function SE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function TE(e,t,n,i){i===void 0&&(i=!1);let r;typeof e=="string"?r=el(e):(r=Tc({},e),Lt(!r.pathname||!r.pathname.includes("?"),fm("?","pathname","search",r)),Lt(!r.pathname||!r.pathname.includes("#"),fm("#","pathname","hash",r)),Lt(!r.search||!r.search.includes("#"),fm("#","search","hash",r)));let o=e===""||r.pathname==="",s=o?"/":r.pathname,a;if(i||s==null)a=n;else{let f=t.length-1;if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;r.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=WP(r,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const oo=e=>e.join("/").replace(/\/\/+/g,"/"),qP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$P=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,XP=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function YP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const AE=["post","put","patch","delete"];new Set(AE);const JP=["get",...AE];new Set(JP);/**
 * React Router v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ed(){return ed=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ed.apply(this,arguments)}const PE=j.createContext(null),CE=j.createContext(null),ps=j.createContext(null),pp=j.createContext(null),_o=j.createContext({outlet:null,matches:[],isDataRoute:!1}),LE=j.createContext(null);function ZP(e,t){let{relative:n}=t===void 0?{}:t;Su()||Lt(!1);let{basename:i,navigator:r}=j.useContext(ps),{hash:o,pathname:s,search:a}=v0(e,{relative:n}),l=s;return i!=="/"&&(l=s==="/"?i:oo([i,s])),r.createHref({pathname:l,search:a,hash:o})}function Su(){return j.useContext(pp)!=null}function Tu(){return Su()||Lt(!1),j.useContext(pp).location}function RE(e){j.useContext(ps).static||j.useLayoutEffect(e)}function OE(){let{isDataRoute:e}=j.useContext(_o);return e?fC():KP()}function KP(){Su()||Lt(!1);let{basename:e,navigator:t}=j.useContext(ps),{matches:n}=j.useContext(_o),{pathname:i}=Tu(),r=JSON.stringify(SE(n).map(a=>a.pathnameBase)),o=j.useRef(!1);return RE(()=>{o.current=!0}),j.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){t.go(a);return}let c=TE(a,JSON.parse(r),i,l.relative==="path");e!=="/"&&(c.pathname=c.pathname==="/"?e:oo([e,c.pathname])),(l.replace?t.replace:t.push)(c,l.state,l)},[e,t,r,i])}function QP(){let{matches:e}=j.useContext(_o),t=e[e.length-1];return t?t.params:{}}function v0(e,t){let{relative:n}=t===void 0?{}:t,{matches:i}=j.useContext(_o),{pathname:r}=Tu(),o=JSON.stringify(SE(i).map(s=>s.pathnameBase));return j.useMemo(()=>TE(e,JSON.parse(o),r,n==="path"),[e,o,r,n])}function eC(e,t){return tC(e,t)}function tC(e,t,n){Su()||Lt(!1);let{navigator:i}=j.useContext(ps),{matches:r}=j.useContext(_o),o=r[r.length-1],s=o?o.params:{};o&&o.pathname;let a=o?o.pathnameBase:"/";o&&o.route;let l=Tu(),c;if(t){var u;let v=typeof t=="string"?el(t):t;a==="/"||(u=v.pathname)!=null&&u.startsWith(a)||Lt(!1),c=v}else c=l;let f=c.pathname||"/",h=a==="/"?f:f.slice(a.length)||"/",d=CP(e,{pathname:h}),m=sC(d&&d.map(v=>Object.assign({},v,{params:Object.assign({},s,v.params),pathname:oo([a,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?a:oo([a,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),r,n);return t&&m?j.createElement(pp.Provider,{value:{location:ed({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:$r.Pop}},m):m}function nC(){let e=uC(),t=YP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:r},n):null,o)}const iC=j.createElement(nC,null);class rC extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error?j.createElement(_o.Provider,{value:this.props.routeContext},j.createElement(LE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oC(e){let{routeContext:t,match:n,children:i}=e,r=j.useContext(PE);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(_o.Provider,{value:t},i)}function sC(e,t,n){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),e==null){var r;if((r=n)!=null&&r.errors)e=n.matches;else return null}let o=e,s=(i=n)==null?void 0:i.errors;if(s!=null){let a=o.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||Lt(!1),o=o.slice(0,Math.min(o.length,a+1))}return o.reduceRight((a,l,c)=>{let u=l.route.id?s==null?void 0:s[l.route.id]:null,f=null;n&&(f=l.route.errorElement||iC);let h=t.concat(o.slice(0,c+1)),d=()=>{let m;return u?m=f:l.route.Component?m=j.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,j.createElement(oC,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?j.createElement(rC,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:d(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):d()},null)}var ty;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(ty||(ty={}));var Ac;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(Ac||(Ac={}));function aC(e){let t=j.useContext(PE);return t||Lt(!1),t}function lC(e){let t=j.useContext(CE);return t||Lt(!1),t}function cC(e){let t=j.useContext(_o);return t||Lt(!1),t}function DE(e){let t=cC(),n=t.matches[t.matches.length-1];return n.route.id||Lt(!1),n.route.id}function uC(){var e;let t=j.useContext(LE),n=lC(Ac.UseRouteError),i=DE(Ac.UseRouteError);return t||((e=n.errors)==null?void 0:e[i])}function fC(){let{router:e}=aC(ty.UseNavigateStable),t=DE(Ac.UseNavigateStable),n=j.useRef(!1);return RE(()=>{n.current=!0}),j.useCallback(function(r,o){o===void 0&&(o={}),n.current&&(typeof r=="number"?e.navigate(r):e.navigate(r,ed({fromRouteId:t},o)))},[e,t])}function Do(e){Lt(!1)}function hC(e){let{basename:t="/",children:n=null,location:i,navigationType:r=$r.Pop,navigator:o,static:s=!1}=e;Su()&&Lt(!1);let a=t.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof i=="string"&&(i=el(i));let{pathname:c="/",search:u="",hash:f="",state:h=null,key:d="default"}=i,m=j.useMemo(()=>{let v=y0(c,a);return v==null?null:{location:{pathname:v,search:u,hash:f,state:h,key:d},navigationType:r}},[a,c,u,f,h,d,r]);return m==null?null:j.createElement(ps.Provider,{value:l},j.createElement(pp.Provider,{children:n,value:m}))}function dC(e){let{children:t,location:n}=e;return eC(ny(t),n)}var pw;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(pw||(pw={}));new Promise(()=>{});function ny(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(i,r)=>{if(!j.isValidElement(i))return;let o=[...t,r];if(i.type===j.Fragment){n.push.apply(n,ny(i.props.children,o));return}i.type!==Do&&Lt(!1),!i.props.index||!i.props.children||Lt(!1);let s={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=ny(i.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function td(){return td=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},td.apply(this,arguments)}function NE(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function pC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mC(e,t){return e.button===0&&(!t||t==="_self")&&!pC(e)}const gC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],yC=["aria-current","caseSensitive","className","end","style","to","children"];function vC(e){let{basename:t,children:n,window:i}=e,r=j.useRef();r.current==null&&(r.current=TP({window:i,v5Compat:!0}));let o=r.current,[s,a]=j.useState({action:o.action,location:o.location});return j.useLayoutEffect(()=>o.listen(a),[o]),j.createElement(hC,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:o})}const xC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_C=j.forwardRef(function(t,n){let{onClick:i,relative:r,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u}=t,f=NE(t,gC),{basename:h}=j.useContext(ps),d,m=!1;if(typeof c=="string"&&wC.test(c)&&(d=c,xC))try{let g=new URL(window.location.href),w=c.startsWith("//")?new URL(g.protocol+c):new URL(c),y=y0(w.pathname,h);w.origin===g.origin&&y!=null?c=y+w.search+w.hash:m=!0}catch{}let v=ZP(c,{relative:r}),x=bC(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:r});function p(g){i&&i(g),g.defaultPrevented||x(g)}return j.createElement("a",td({},f,{href:d||v,onClick:m||o?i:p,ref:n,target:l}))}),Bo=j.forwardRef(function(t,n){let{"aria-current":i="page",caseSensitive:r=!1,className:o="",end:s=!1,style:a,to:l,children:c}=t,u=NE(t,yC),f=v0(l,{relative:u.relative}),h=Tu(),d=j.useContext(CE),{navigator:m}=j.useContext(ps),v=m.encodeLocation?m.encodeLocation(f).pathname:f.pathname,x=h.pathname,p=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;r||(x=x.toLowerCase(),p=p?p.toLowerCase():null,v=v.toLowerCase());let g=x===v||!s&&x.startsWith(v)&&x.charAt(v.length)==="/",w=p!=null&&(p===v||!s&&p.startsWith(v)&&p.charAt(v.length)==="/"),y=g?i:void 0,_;typeof o=="function"?_=o({isActive:g,isPending:w}):_=[o,g?"active":null,w?"pending":null].filter(Boolean).join(" ");let b=typeof a=="function"?a({isActive:g,isPending:w}):a;return j.createElement(_C,td({},u,{"aria-current":y,className:_,ref:n,style:b,to:l}),typeof c=="function"?c({isActive:g,isPending:w}):c)});var mw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(mw||(mw={}));var gw;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(gw||(gw={}));function bC(e,t){let{target:n,replace:i,state:r,preventScrollReset:o,relative:s}=t===void 0?{}:t,a=OE(),l=Tu(),c=v0(e,{relative:s});return j.useCallback(u=>{if(mC(u,n)){u.preventDefault();let f=i!==void 0?i:Qh(l)===Qh(c);a(e,{replace:f,state:r,preventScrollReset:o,relative:s})}},[l,a,c,i,r,n,e,o,s])}function IE(e,t){return function(){return e.apply(t,arguments)}}const{toString:MC}=Object.prototype,{getPrototypeOf:x0}=Object,mp=(e=>t=>{const n=MC.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ji=e=>(e=e.toLowerCase(),t=>mp(t)===e),gp=e=>t=>typeof t===e,{isArray:tl}=Array,Pc=gp("undefined");function EC(e){return e!==null&&!Pc(e)&&e.constructor!==null&&!Pc(e.constructor)&&Xn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const kE=Ji("ArrayBuffer");function SC(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&kE(e.buffer),t}const TC=gp("string"),Xn=gp("function"),FE=gp("number"),yp=e=>e!==null&&typeof e=="object",AC=e=>e===!0||e===!1,xh=e=>{if(mp(e)!=="object")return!1;const t=x0(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},PC=Ji("Date"),CC=Ji("File"),LC=Ji("Blob"),RC=Ji("FileList"),OC=e=>yp(e)&&Xn(e.pipe),DC=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Xn(e.append)&&((t=mp(e))==="formdata"||t==="object"&&Xn(e.toString)&&e.toString()==="[object FormData]"))},NC=Ji("URLSearchParams"),IC=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Au(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),tl(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(i=0;i<s;i++)a=o[i],t.call(null,e[a],a,e)}}function BE(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,r;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const zE=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),UE=e=>!Pc(e)&&e!==zE;function iy(){const{caseless:e}=UE(this)&&this||{},t={},n=(i,r)=>{const o=e&&BE(t,r)||r;xh(t[o])&&xh(i)?t[o]=iy(t[o],i):xh(i)?t[o]=iy({},i):tl(i)?t[o]=i.slice():t[o]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Au(arguments[i],n);return t}const kC=(e,t,n,{allOwnKeys:i}={})=>(Au(t,(r,o)=>{n&&Xn(r)?e[o]=IE(r,n):e[o]=r},{allOwnKeys:i}),e),FC=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),BC=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},zC=(e,t,n,i)=>{let r,o,s;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)s=r[o],(!i||i(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&x0(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},UC=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},HC=e=>{if(!e)return null;if(tl(e))return e;let t=e.length;if(!FE(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},GC=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&x0(Uint8Array)),VC=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=i.next())&&!r.done;){const o=r.value;t.call(e,o[0],o[1])}},WC=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},jC=Ji("HTMLFormElement"),qC=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),yw=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),$C=Ji("RegExp"),HE=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Au(n,(r,o)=>{t(r,o,e)!==!1&&(i[o]=r)}),Object.defineProperties(e,i)},XC=e=>{HE(e,(t,n)=>{if(Xn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(Xn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},YC=(e,t)=>{const n={},i=r=>{r.forEach(o=>{n[o]=!0})};return tl(e)?i(e):i(String(e).split(t)),n},JC=()=>{},ZC=(e,t)=>(e=+e,Number.isFinite(e)?e:t),hm="abcdefghijklmnopqrstuvwxyz",vw="0123456789",GE={DIGIT:vw,ALPHA:hm,ALPHA_DIGIT:hm+hm.toUpperCase()+vw},KC=(e=16,t=GE.ALPHA_DIGIT)=>{let n="";const{length:i}=t;for(;e--;)n+=t[Math.random()*i|0];return n};function QC(e){return!!(e&&Xn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const eL=e=>{const t=new Array(10),n=(i,r)=>{if(yp(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const o=tl(i)?[]:{};return Au(i,(s,a)=>{const l=n(s,r+1);!Pc(l)&&(o[a]=l)}),t[r]=void 0,o}}return i};return n(e,0)},tL=Ji("AsyncFunction"),nL=e=>e&&(yp(e)||Xn(e))&&Xn(e.then)&&Xn(e.catch),J={isArray:tl,isArrayBuffer:kE,isBuffer:EC,isFormData:DC,isArrayBufferView:SC,isString:TC,isNumber:FE,isBoolean:AC,isObject:yp,isPlainObject:xh,isUndefined:Pc,isDate:PC,isFile:CC,isBlob:LC,isRegExp:$C,isFunction:Xn,isStream:OC,isURLSearchParams:NC,isTypedArray:GC,isFileList:RC,forEach:Au,merge:iy,extend:kC,trim:IC,stripBOM:FC,inherits:BC,toFlatObject:zC,kindOf:mp,kindOfTest:Ji,endsWith:UC,toArray:HC,forEachEntry:VC,matchAll:WC,isHTMLForm:jC,hasOwnProperty:yw,hasOwnProp:yw,reduceDescriptors:HE,freezeMethods:XC,toObjectSet:YC,toCamelCase:qC,noop:JC,toFiniteNumber:ZC,findKey:BE,global:zE,isContextDefined:UE,ALPHABET:GE,generateString:KC,isSpecCompliantForm:QC,toJSONObject:eL,isAsyncFn:tL,isThenable:nL};function $e(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r)}J.inherits($e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const VE=$e.prototype,WE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{WE[e]={value:e}});Object.defineProperties($e,WE);Object.defineProperty(VE,"isAxiosError",{value:!0});$e.from=(e,t,n,i,r,o)=>{const s=Object.create(VE);return J.toFlatObject(e,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),$e.call(s,e.message,t,n,i,r),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const iL=null;function ry(e){return J.isPlainObject(e)||J.isArray(e)}function jE(e){return J.endsWith(e,"[]")?e.slice(0,-2):e}function xw(e,t,n){return e?e.concat(t).map(function(r,o){return r=jE(r),!n&&o?"["+r+"]":r}).join(n?".":""):t}function rL(e){return J.isArray(e)&&!e.some(ry)}const oL=J.toFlatObject(J,{},null,function(t){return/^is[A-Z]/.test(t)});function vp(e,t,n){if(!J.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=J.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!J.isUndefined(x[v])});const i=n.metaTokens,r=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(t);if(!J.isFunction(r))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(J.isDate(m))return m.toISOString();if(!l&&J.isBlob(m))throw new $e("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(m)||J.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,v,x){let p=m;if(m&&!x&&typeof m=="object"){if(J.endsWith(v,"{}"))v=i?v:v.slice(0,-2),m=JSON.stringify(m);else if(J.isArray(m)&&rL(m)||(J.isFileList(m)||J.endsWith(v,"[]"))&&(p=J.toArray(m)))return v=jE(v),p.forEach(function(w,y){!(J.isUndefined(w)||w===null)&&t.append(s===!0?xw([v],y,o):s===null?v:v+"[]",c(w))}),!1}return ry(m)?!0:(t.append(xw(x,v,o),c(m)),!1)}const f=[],h=Object.assign(oL,{defaultVisitor:u,convertValue:c,isVisitable:ry});function d(m,v){if(!J.isUndefined(m)){if(f.indexOf(m)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(m),J.forEach(m,function(p,g){(!(J.isUndefined(p)||p===null)&&r.call(t,p,J.isString(g)?g.trim():g,v,h))===!0&&d(p,v?v.concat(g):[g])}),f.pop()}}if(!J.isObject(e))throw new TypeError("data must be an object");return d(e),t}function ww(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function w0(e,t){this._pairs=[],e&&vp(e,this,t)}const qE=w0.prototype;qE.append=function(t,n){this._pairs.push([t,n])};qE.toString=function(t){const n=t?function(i){return t.call(this,i,ww)}:ww;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function sL(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $E(e,t,n){if(!t)return e;const i=n&&n.encode||sL,r=n&&n.serialize;let o;if(r?o=r(t,n):o=J.isURLSearchParams(t)?t.toString():new w0(t,n).toString(i),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class aL{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){J.forEach(this.handlers,function(i){i!==null&&t(i)})}}const _w=aL,XE={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lL=typeof URLSearchParams<"u"?URLSearchParams:w0,cL=typeof FormData<"u"?FormData:null,uL=typeof Blob<"u"?Blob:null,fL=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),hL=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Fi={isBrowser:!0,classes:{URLSearchParams:lL,FormData:cL,Blob:uL},isStandardBrowserEnv:fL,isStandardBrowserWebWorkerEnv:hL,protocols:["http","https","file","blob","url","data"]};function dL(e,t){return vp(e,new Fi.classes.URLSearchParams,Object.assign({visitor:function(n,i,r,o){return Fi.isNode&&J.isBuffer(n)?(this.append(i,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function pL(e){return J.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function mL(e){const t={},n=Object.keys(e);let i;const r=n.length;let o;for(i=0;i<r;i++)o=n[i],t[o]=e[o];return t}function YE(e){function t(n,i,r,o){let s=n[o++];const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&J.isArray(r)?r.length:s,l?(J.hasOwnProp(r,s)?r[s]=[r[s],i]:r[s]=i,!a):((!r[s]||!J.isObject(r[s]))&&(r[s]=[]),t(n,i,r[s],o)&&J.isArray(r[s])&&(r[s]=mL(r[s])),!a)}if(J.isFormData(e)&&J.isFunction(e.entries)){const n={};return J.forEachEntry(e,(i,r)=>{t(pL(i),r,n,0)}),n}return null}const gL={"Content-Type":void 0};function yL(e,t,n){if(J.isString(e))try{return(t||JSON.parse)(e),J.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const xp={transitional:XE,adapter:["xhr","http"],transformRequest:[function(t,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,o=J.isObject(t);if(o&&J.isHTMLForm(t)&&(t=new FormData(t)),J.isFormData(t))return r&&r?JSON.stringify(YE(t)):t;if(J.isArrayBuffer(t)||J.isBuffer(t)||J.isStream(t)||J.isFile(t)||J.isBlob(t))return t;if(J.isArrayBufferView(t))return t.buffer;if(J.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return dL(t,this.formSerializer).toString();if((a=J.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return vp(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||r?(n.setContentType("application/json",!1),yL(t)):t}],transformResponse:[function(t){const n=this.transitional||xp.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(t&&J.isString(t)&&(i&&!this.responseType||r)){const s=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?$e.from(a,$e.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fi.classes.FormData,Blob:Fi.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};J.forEach(["delete","get","head"],function(t){xp.headers[t]={}});J.forEach(["post","put","patch"],function(t){xp.headers[t]=J.merge(gL)});const _0=xp,vL=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xL=e=>{const t={};let n,i,r;return e&&e.split(`
`).forEach(function(s){r=s.indexOf(":"),n=s.substring(0,r).trim().toLowerCase(),i=s.substring(r+1).trim(),!(!n||t[n]&&vL[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},bw=Symbol("internals");function xl(e){return e&&String(e).trim().toLowerCase()}function wh(e){return e===!1||e==null?e:J.isArray(e)?e.map(wh):String(e)}function wL(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const _L=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function dm(e,t,n,i,r){if(J.isFunction(i))return i.call(this,t,n);if(r&&(t=n),!!J.isString(t)){if(J.isString(i))return t.indexOf(i)!==-1;if(J.isRegExp(i))return i.test(t)}}function bL(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function ML(e,t){const n=J.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(r,o,s){return this[i].call(this,t,r,o,s)},configurable:!0})})}class wp{constructor(t){t&&this.set(t)}set(t,n,i){const r=this;function o(a,l,c){const u=xl(l);if(!u)throw new Error("header name must be a non-empty string");const f=J.findKey(r,u);(!f||r[f]===void 0||c===!0||c===void 0&&r[f]!==!1)&&(r[f||l]=wh(a))}const s=(a,l)=>J.forEach(a,(c,u)=>o(c,u,l));return J.isPlainObject(t)||t instanceof this.constructor?s(t,n):J.isString(t)&&(t=t.trim())&&!_L(t)?s(xL(t),n):t!=null&&o(n,t,i),this}get(t,n){if(t=xl(t),t){const i=J.findKey(this,t);if(i){const r=this[i];if(!n)return r;if(n===!0)return wL(r);if(J.isFunction(n))return n.call(this,r,i);if(J.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=xl(t),t){const i=J.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||dm(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let r=!1;function o(s){if(s=xl(s),s){const a=J.findKey(i,s);a&&(!n||dm(i,i[a],a,n))&&(delete i[a],r=!0)}}return J.isArray(t)?t.forEach(o):o(t),r}clear(t){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const o=n[i];(!t||dm(this,this[o],o,t,!0))&&(delete this[o],r=!0)}return r}normalize(t){const n=this,i={};return J.forEach(this,(r,o)=>{const s=J.findKey(i,o);if(s){n[s]=wh(r),delete n[o];return}const a=t?bL(o):String(o).trim();a!==o&&delete n[o],n[a]=wh(r),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return J.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=t&&J.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[bw]=this[bw]={accessors:{}}).accessors,r=this.prototype;function o(s){const a=xl(s);i[a]||(ML(r,s),i[a]=!0)}return J.isArray(t)?t.forEach(o):o(t),this}}wp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.freezeMethods(wp.prototype);J.freezeMethods(wp);const fr=wp;function pm(e,t){const n=this||_0,i=t||n,r=fr.from(i.headers);let o=i.data;return J.forEach(e,function(a){o=a.call(n,o,r.normalize(),t?t.status:void 0)}),r.normalize(),o}function JE(e){return!!(e&&e.__CANCEL__)}function Pu(e,t,n){$e.call(this,e??"canceled",$e.ERR_CANCELED,t,n),this.name="CanceledError"}J.inherits(Pu,$e,{__CANCEL__:!0});function EL(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new $e("Request failed with status code "+n.status,[$e.ERR_BAD_REQUEST,$e.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const SL=Fi.isStandardBrowserEnv?function(){return{write:function(n,i,r,o,s,a){const l=[];l.push(n+"="+encodeURIComponent(i)),J.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),J.isString(o)&&l.push("path="+o),J.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function TL(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function AL(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function ZE(e,t){return e&&!TL(t)?AL(e,t):t}const PL=Fi.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let i;function r(o){let s=o;return t&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=r(window.location.href),function(s){const a=J.isString(s)?r(s):s;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function CL(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function LL(e,t){e=e||10;const n=new Array(e),i=new Array(e);let r=0,o=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=i[o];s||(s=c),n[r]=l,i[r]=c;let f=o,h=0;for(;f!==r;)h+=n[f++],f=f%e;if(r=(r+1)%e,r===o&&(o=(o+1)%e),c-s<t)return;const d=u&&c-u;return d?Math.round(h*1e3/d):void 0}}function Mw(e,t){let n=0;const i=LL(50,250);return r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,l=i(a),c=o<=s;n=o;const u={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-o)/l:void 0,event:r};u[t?"download":"upload"]=!0,e(u)}}const RL=typeof XMLHttpRequest<"u",OL=RL&&function(e){return new Promise(function(n,i){let r=e.data;const o=fr.from(e.headers).normalize(),s=e.responseType;let a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}J.isFormData(r)&&(Fi.isStandardBrowserEnv||Fi.isStandardBrowserWebWorkerEnv?o.setContentType(!1):o.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(e.auth){const d=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.set("Authorization","Basic "+btoa(d+":"+m))}const u=ZE(e.baseURL,e.url);c.open(e.method.toUpperCase(),$E(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function f(){if(!c)return;const d=fr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),v={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:d,config:e,request:c};EL(function(p){n(p),l()},function(p){i(p),l()},v),c=null}if("onloadend"in c?c.onloadend=f:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(f)},c.onabort=function(){c&&(i(new $e("Request aborted",$e.ECONNABORTED,e,c)),c=null)},c.onerror=function(){i(new $e("Network Error",$e.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let m=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const v=e.transitional||XE;e.timeoutErrorMessage&&(m=e.timeoutErrorMessage),i(new $e(m,v.clarifyTimeoutError?$e.ETIMEDOUT:$e.ECONNABORTED,e,c)),c=null},Fi.isStandardBrowserEnv){const d=(e.withCredentials||PL(u))&&e.xsrfCookieName&&SL.read(e.xsrfCookieName);d&&o.set(e.xsrfHeaderName,d)}r===void 0&&o.setContentType(null),"setRequestHeader"in c&&J.forEach(o.toJSON(),function(m,v){c.setRequestHeader(v,m)}),J.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&s!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",Mw(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",Mw(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=d=>{c&&(i(!d||d.type?new Pu(null,e,c):d),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const h=CL(u);if(h&&Fi.protocols.indexOf(h)===-1){i(new $e("Unsupported protocol "+h+":",$e.ERR_BAD_REQUEST,e));return}c.send(r||null)})},_h={http:iL,xhr:OL};J.forEach(_h,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const DL={getAdapter:e=>{e=J.isArray(e)?e:[e];const{length:t}=e;let n,i;for(let r=0;r<t&&(n=e[r],!(i=J.isString(n)?_h[n.toLowerCase()]:n));r++);if(!i)throw i===!1?new $e(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(J.hasOwnProp(_h,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!J.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:_h};function mm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Pu(null,e)}function Ew(e){return mm(e),e.headers=fr.from(e.headers),e.data=pm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),DL.getAdapter(e.adapter||_0.adapter)(e).then(function(i){return mm(e),i.data=pm.call(e,e.transformResponse,i),i.headers=fr.from(i.headers),i},function(i){return JE(i)||(mm(e),i&&i.response&&(i.response.data=pm.call(e,e.transformResponse,i.response),i.response.headers=fr.from(i.response.headers))),Promise.reject(i)})}const Sw=e=>e instanceof fr?e.toJSON():e;function Ma(e,t){t=t||{};const n={};function i(c,u,f){return J.isPlainObject(c)&&J.isPlainObject(u)?J.merge.call({caseless:f},c,u):J.isPlainObject(u)?J.merge({},u):J.isArray(u)?u.slice():u}function r(c,u,f){if(J.isUndefined(u)){if(!J.isUndefined(c))return i(void 0,c,f)}else return i(c,u,f)}function o(c,u){if(!J.isUndefined(u))return i(void 0,u)}function s(c,u){if(J.isUndefined(u)){if(!J.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,f){if(f in t)return i(c,u);if(f in e)return i(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u)=>r(Sw(c),Sw(u),!0)};return J.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=l[u]||r,h=f(e[u],t[u],u);J.isUndefined(h)&&f!==a||(n[u]=h)}),n}const KE="1.4.0",b0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{b0[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Tw={};b0.transitional=function(t,n,i){function r(o,s){return"[Axios v"+KE+"] Transitional option '"+o+"'"+s+(i?". "+i:"")}return(o,s,a)=>{if(t===!1)throw new $e(r(s," has been removed"+(n?" in "+n:"")),$e.ERR_DEPRECATED);return n&&!Tw[s]&&(Tw[s]=!0,console.warn(r(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};function NL(e,t,n){if(typeof e!="object")throw new $e("options must be an object",$e.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const o=i[r],s=t[o];if(s){const a=e[o],l=a===void 0||s(a,o,e);if(l!==!0)throw new $e("option "+o+" must be "+l,$e.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $e("Unknown option "+o,$e.ERR_BAD_OPTION)}}const oy={assertOptions:NL,validators:b0},Pr=oy.validators;class nd{constructor(t){this.defaults=t,this.interceptors={request:new _w,response:new _w}}request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ma(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:o}=n;i!==void 0&&oy.assertOptions(i,{silentJSONParsing:Pr.transitional(Pr.boolean),forcedJSONParsing:Pr.transitional(Pr.boolean),clarifyTimeoutError:Pr.transitional(Pr.boolean)},!1),r!=null&&(J.isFunction(r)?n.paramsSerializer={serialize:r}:oy.assertOptions(r,{encode:Pr.function,serialize:Pr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s;s=o&&J.merge(o.common,o[n.method]),s&&J.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),n.headers=fr.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,f=0,h;if(!l){const m=[Ew.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),h=m.length,u=Promise.resolve(n);f<h;)u=u.then(m[f++],m[f++]);return u}h=a.length;let d=n;for(f=0;f<h;){const m=a[f++],v=a[f++];try{d=m(d)}catch(x){v.call(this,x);break}}try{u=Ew.call(this,d)}catch(m){return Promise.reject(m)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=Ma(this.defaults,t);const n=ZE(t.baseURL,t.url);return $E(n,t.params,t.paramsSerializer)}}J.forEach(["delete","get","head","options"],function(t){nd.prototype[t]=function(n,i){return this.request(Ma(i||{},{method:t,url:n,data:(i||{}).data}))}});J.forEach(["post","put","patch"],function(t){function n(i){return function(o,s,a){return this.request(Ma(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}nd.prototype[t]=n(),nd.prototype[t+"Form"]=n(!0)});const bh=nd;class M0{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const i=this;this.promise.then(r=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](r);i._listeners=null}),this.promise.then=r=>{let o;const s=new Promise(a=>{i.subscribe(a),o=a}).then(r);return s.cancel=function(){i.unsubscribe(o)},s},t(function(o,s,a){i.reason||(i.reason=new Pu(o,s,a),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new M0(function(r){t=r}),cancel:t}}}const IL=M0;function kL(e){return function(n){return e.apply(null,n)}}function FL(e){return J.isObject(e)&&e.isAxiosError===!0}const sy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sy).forEach(([e,t])=>{sy[t]=e});const BL=sy;function QE(e){const t=new bh(e),n=IE(bh.prototype.request,t);return J.extend(n,bh.prototype,t,{allOwnKeys:!0}),J.extend(n,t,null,{allOwnKeys:!0}),n.create=function(r){return QE(Ma(e,r))},n}const kt=QE(_0);kt.Axios=bh;kt.CanceledError=Pu;kt.CancelToken=IL;kt.isCancel=JE;kt.VERSION=KE;kt.toFormData=vp;kt.AxiosError=$e;kt.Cancel=kt.CanceledError;kt.all=function(t){return Promise.all(t)};kt.spread=kL;kt.isAxiosError=FL;kt.mergeConfig=Ma;kt.AxiosHeaders=fr;kt.formToJSON=e=>YE(J.isHTMLForm(e)?new FormData(e):e);kt.HttpStatusCode=BL;kt.default=kt;const eS=kt;let Un=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:globalThis||(typeof _v<"u"?_v:{});Un.requestAnimationFrame;let tS=Un.cancelAnimationFrame||(e=>Un.clearTimeout(e));const Fr=function(){if(typeof process<"u"&&process.hrtime!==void 0&&(!process.versions||process.versions.electron===void 0))return function(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6};if(Un.performance!==void 0&&Un.performance.now!==void 0)return Un.performance.now.bind(Un.performance);{const e=Un.performance&&Un.performance.timing&&Un.performance.timing.navigationStart?Un.performance.timing.navigationStart:Date.now();return function(){return Date.now()-e}}}();/**
 * Lightweight, effecient and modular ES6 version of tween.js
 * @copyright 2019 @dalisoft and es6-tween contributors
 * @license MIT
 * @namespace TWEEN
 * @example
 * // ES6
 * const {add, remove, isRunning, autoPlay} = TWEEN
 */const mi=[];let E0=!1,Aw=[],Mh=0,zL=120,nS,iS=!0;const UL=()=>{for(let e=0;e<Aw.length;e++)Aw[e]()},sf=e=>{let t=mi.indexOf(e);t>-1&&mi.splice(t,1),mi.push(e),Mh=0},Il=e=>{const t=mi.indexOf(e);t!==-1&&mi.splice(t,1),mi.length===0&&(tS(nS),E0=!1)},HL=(e=Fr(),t)=>{if(Mh>=zL&&iS)return E0=!1,Mh=0,tS(nS),!1;UL(),mi.length||Mh++;let n=0,i=mi.length;for(;n<i;)mi[n++].update(e,t),i>mi.length&&n--,i=mi.length;return!0},GL=()=>E0,VL=()=>iS,Qi={},ua={Linear:{None(e){return e}},Quadratic:{In(e){return Math.pow(e,2)},Out(e){return e*(2-e)},InOut(e){return(e*=2)<1?.5*Math.pow(e,2):-.5*(--e*(e-2)-1)}},Cubic:{In(e){return Math.pow(e,3)},Out(e){return--e*e*e+1},InOut(e){return(e*=2)<1?.5*Math.pow(e,3):.5*((e-=2)*e*e+2)}},Quartic:{In(e){return Math.pow(e,4)},Out(e){return 1- --e*e*e*e},InOut(e){return(e*=2)<1?.5*Math.pow(e,4):-.5*((e-=2)*e*e*e-2)}},Quintic:{In(e){return Math.pow(e,5)},Out(e){return--e*e*e*e*e+1},InOut(e){return(e*=2)<1?.5*Math.pow(e,5):.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In(e){return 1-Math.cos(e*Math.PI/2)},Out(e){return Math.sin(e*Math.PI/2)},InOut(e){return .5*(1-Math.cos(Math.PI*e))}},Exponential:{In(e){return e===0?0:Math.pow(1024,e-1)},Out(e){return e===1?1:1-Math.pow(2,-10*e)},InOut(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In(e){return 1-Math.sqrt(1-e*e)},Out(e){return Math.sqrt(1- --e*e)},InOut(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}},Back:{In(e){return e*e*((1.70158+1)*e-1.70158)},Out(e){return--e*e*((1.70158+1)*e+1.70158)+1},InOut(e){const t=2.5949095;return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In(e){return 1-ua.Bounce.Out(1-e)},Out(e){let t=2.75,n=7.5625;return e<1/t?n*e*e:e<2/t?n*(e-=1.5/t)*e+.75:e<2.5/t?n*(e-=2.25/t)*e+.9375:n*(e-=2.625/t)*e+.984375},InOut(e){return e<.5?ua.Bounce.In(e*2)*.5:ua.Bounce.Out(e*2-1)*.5+.5}},Stepped:{steps:e=>t=>(t*e|0)/e}},WL=50/3,jL=250,Pw="_chainedTweens",af="Callback",qL="update",$L="complete",XL="start",YL="repeat",JL="reverse",ZL="pause",KL="play",QL="restart",eR="stop",tR="seek",Go="STRING_PROP",nR=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function rS(e){if(e&&e.nodeType||e===void 0||typeof e!="object")return e;if(Array.isArray(e))return[].concat(e);if(typeof e=="object"){let t={};for(let n in e)t[n]=rS(e[n]);return t}return e}const iR=e=>isNaN(+e)||(e[0]==="+"||e[0]==="-")&&e[1]==="="||e===""||e===" ",rR=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,oR=(e,t)=>{let n,i,r;t.length===3&&(n=t[0],i=t[1],r=t[2],t=n+n+i+i+r+r);let o=parseInt(t,16);return n=o>>16&255,i=o>>8&255,r=o&255,"rgb("+n+", "+i+", "+r+")"};function kl(e){if(e&&e.splice&&e.isString||typeof e!="string"||e.charAt(1)==="=")return e;const t=e.replace(rR,oR).match(nR).map(n=>iR(n)?n:+n);return t.isString=!0,t}function Yl(e,t,n,i){const r=n[e],o=i[e];if(r===o)return!0;if(Array.isArray(r)&&Array.isArray(o)&&r.length===o.length)for(let s=0,a=o.length;s<a;s++){const l=r[s],c=o[s];l===c||typeof l=="number"&&typeof c=="number"||Yl(s,t[e],r,o)}if(!(typeof r=="number"&&typeof o=="number")){if(!(r&&r.splice&&r.isString&&o&&o.splice&&o.isString)){if(typeof r=="string"&&Array.isArray(o)){const s=kl(r),a=o.map(kl);return n[e]=s,i[e]=a,!0}else if(typeof r=="string"||typeof o=="string"){let s=Array.isArray(r)&&r[0]===Go?r:kl(r),a=Array.isArray(o)&&o[0]===Go?o:kl(o);if(s===void 0)return;let l=1;for(;l<s.length;)s[l]===a[l]&&typeof s[l-1]=="string"?(s.splice(l-1,2,s[l-1]+s[l]),a.splice(l-1,2,a[l-1]+a[l])):l++;return l=0,s[0]===Go&&s.shift(),a[0]===Go&&a.shift(),n[e]=s,i[e]=a,!0}else if(typeof r=="object"&&typeof o=="object"){if(Array.isArray(r)&&!r.isString)return r.map((s,a)=>Yl(a,t[e],r,o));for(let s in o)Yl(s,t[e],r,o);return!0}}}return!1}const sR="rgb(",ay="rgba(",Js=(e,t,n=sR)=>typeof e[t]=="number"&&(e[t-1]===n||e[t-3]===n||e[t-5]===n);function ly(e,t,n,i,r,o,s){const a=s?n:n[e];let l=s?i:i[e];if(l===void 0)return a;if(a===void 0||typeof a=="string"||a===l)return l;if(typeof a=="object"&&typeof l=="object"){if(!a||!l)return t[e];if(typeof a=="object"&&a&&a.isString&&l&&l.splice&&l.isString){let c="";for(let u=0,f=a.length;u<f;u++)if(a[u]!==l[u]||typeof a[u]!="number"||typeof l[u]=="number"){const h=typeof a[u]=="number"&&typeof l[u]=="string"&&l[u][1]==="=";let d=typeof a[u]!="number"?a[u]:h?a[u]+parseFloat(l[u][0]+l[u].substr(2))*r:a[u]+(l[u]-a[u])*r;(Js(a,u)||Js(a,u,ay))&&(d|=0),c+=d,h&&o===1&&(a[u]=a[u]+parseFloat(l[u][0]+l[u].substr(2)))}else c+=a[u];return s||(t[e]=c),c}else if(Array.isArray(a)&&a[0]!==Go)for(let c=0,u=a.length;c<u;c++)a[c]===l[c]||typeof t[e]=="string"||ly(c,t[e],a,l,r,o);else if(typeof a=="object"&&a&&!a.isString)for(let c in a)a[c]!==l[c]&&ly(c,t[e],a,l,r,o)}else if(typeof a=="number"){const c=typeof l=="string";t[e]=c?a+parseFloat(l[0]+l.substr(2))*r:a+(l-a)*r,c&&o===1&&(n[e]=t[e])}else typeof l=="function"&&(t[e]=l(r));return t[e]}const aR=/([.[])/g,lR=/\]/g,gm=function(e,t){const n=e[t],i=t.replace(lR,"").split(aR),r=i.length-1;let o=Array.isArray(e),s=typeof e=="object"&&!o;return s?(e[t]=null,delete e[t]):o&&e.splice(t,1),i.reduce((a,l,c)=>{o&&l!=="."&&l!=="["&&(l*=1);let f=i[c+1]==="[";if(l==="."||l==="[")return l==="."?(s=!0,o=!1):l==="["&&(s=!1,o=!0),a;if(a[l]===void 0){if(o||s)return a[l]=c===r?n:o||f?[]:s?{}:null,s=o=!1,a[l]}else if(a[l]!==void 0)return c===r&&(a[l]=n),a[l];return a},e)},Cw=function(e){if(typeof e=="object"&&e){for(let t in e)if(t.indexOf(".")!==-1||t.indexOf("[")!==-1)gm(e,t);else if(typeof e[t]=="object"&&e[t]){let n=e[t];for(let i in n)if(i.indexOf(".")!==-1||i.indexOf("[")!==-1)gm(n,i);else if(typeof n[i]=="object"&&n[i]){let r=n[i];for(let o in r)(o.indexOf(".")!==-1||o.indexOf("[")!==-1)&&gm(r,o)}}}return e},dn={Linear(e,t,n){const i=e.length-1,r=i*t,o=Math.floor(r),s=dn.Utils.Linear;return t<0?s(e[0],e[1],r,n):t>1?s(e[i],e[i-1],i-r,n):s(e[o],e[o+1>i?i:o+1],r-o,n)},Bezier(e,t,n){let i=dn.Utils.Reset(n),r=e.length-1,o=Math.pow,s=dn.Utils.Bernstein,a=Array.isArray(i);for(let l=0;l<=r;l++)if(typeof i=="number")i+=o(1-t,r-l)*o(t,l)*e[l]*s(r,l);else if(a)for(let c=0,u=i.length;c<u;c++)typeof i[c]=="number"?i[c]+=o(1-t,r-l)*o(t,l)*e[l][c]*s(r,l):i[c]=e[l][c];else if(typeof i=="object")for(let c in i)typeof i[c]=="number"?i[c]+=o(1-t,r-l)*o(t,l)*e[l][c]*s(r,l):i[c]=e[l][c];else if(typeof i=="string"){let c="",u=Math.round(r*t),f=e[u];for(let h=1,d=f.length;h<d;h++)c+=f[h];return c}return i},CatmullRom(e,t,n){const i=e.length-1;let r=i*t,o=Math.floor(r);const s=dn.Utils.CatmullRom;return e[0]===e[i]?(t<0&&(o=Math.floor(r=i*(1+t))),s(e[(o-1+i)%i],e[o],e[(o+1)%i],e[(o+2)%i],r-o,n)):t<0?s(e[1],e[1],e[0],e[0],-t,n):t>1?s(e[i-1],e[i-1],e[i],e[i],(t|0)-t,n):s(e[o?o-1:0],e[o],e[i<o+1?i:o+1],e[i<o+2?i:o+2],r-o,n)},Utils:{Linear(e,t,n,i){if(e===t||typeof e=="string"){if(t.length&&t.splice&&t.isString){t="";for(let r=0,o=e.length;r<o;r++)t+=e[r]}return t}else{if(typeof e=="number")return typeof e=="function"?e(n):e+(t-e)*n;if(typeof e=="object"){if(e.length!==void 0){const r=typeof e[0]=="string"||e.isString;if(r||e[0]===Go){let o="";for(let s=r?0:1,a=e.length;s<a;s++){let l=n===0?e[s]:n===1?t[s]:typeof e[s]=="number"?e[s]+(t[s]-e[s])*n:t[s];(n>0&&n<1&&Js(e,s)||Js(e,s,ay))&&(l|=0),o+=l}return o}else if(i&&i.length&&i.splice)for(let o=0,s=i.length;o<s;o++)i[o]=dn.Utils.Linear(e[o],t[o],n,i[o])}else for(const r in i)i[r]=dn.Utils.Linear(e[r],t[r],n,i[r]);return i}}},Reset(e){if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)e[t]=dn.Utils.Reset(e[t]);return e}else if(typeof e=="object"){for(let t in e)e[t]=dn.Utils.Reset(e[t]);return e}else if(typeof e=="number")return 0;return e},Bernstein(e,t){const n=dn.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){const e=[1];return t=>{let n=1;if(e[t])return e[t];for(let i=t;i>1;i--)n*=i;return e[t]=n,n}}(),CatmullRom(e,t,n,i,r,o){if(typeof e=="string")return t;if(typeof e=="number"){const s=(n-e)*.5,a=(i-t)*.5,l=r*r,c=r*l;return(2*t-2*n+s+a)*c+(-3*t+3*n-2*s-a)*l+s*r+t}else if(typeof e=="object"){if(e.length!==void 0){if(e[0]===Go){let s="";for(let a=1,l=e.length;a<l;a++){let c=typeof e[a]=="number"?dn.Utils.CatmullRom(e[a],t[a],n[a],i[a],r):i[a];(Js(e,a)||Js(e,a,ay))&&(c|=0),s+=c}return s}for(let s=0,a=o.length;s<a;s++)o[s]=dn.Utils.CatmullRom(e[s],t[s],n[s],i[s],r,o[s])}else for(const s in o)o[s]=dn.Utils.CatmullRom(e[s],t[s],n[s],i[s],r,o[s]);return o}}}},Jl={};function Lw(e,t,n){if(!e||!e.nodeType)return t;const i=e.queueID||"q_"+Date.now();e.queueID||(e.queueID=i);const r=Jl[i];if(r){if(r.object===t&&e===r.tween.node&&n._startTime===r.tween._startTime)Il(r.tween);else if(typeof t=="object"&&t&&r.object){for(let o in t)o in r.object&&(n._startTime===r.tween._startTime?delete r.object[o]:r.propNormaliseRequired=!0);Object.assign(r.object,t)}return r.object}return typeof t=="object"&&t?(Jl[i]={tween:n,object:t,propNormaliseRequired:!1},Jl[i].object):t}function cR(e,t,n){return t?e?typeof window<"u"&&e===window||typeof document<"u"&&e===document?[e]:typeof e=="string"?!!document.querySelectorAll&&document.querySelectorAll(e):Array.isArray(e)?e:e.nodeType?[e]:n?e:[]:null:e?typeof window<"u"&&e===window||typeof document<"u"&&e===document?e:typeof e=="string"?!!document.querySelector&&document.querySelector(e):Array.isArray(e)?e[0]:e.nodeType||n?e:null:null}let Rw=0;const ym=ua.Linear.None;class zn{static fromTo(t,n,i,r={}){r.quickRender=r.quickRender?r.quickRender:!i;const o=new zn(t,n).to(i,r);return r.quickRender&&(o.render().update(o._startTime),o._rendered=!1,o._onStartCallbackFired=!1),o}static to(t,n,i){return zn.fromTo(t,null,n,i)}static from(t,n,i){return zn.fromTo(t,n,null,i)}constructor(t,n){return this.id=Rw++,t&&typeof t=="object"&&!n&&!t.nodeType?(n=this.object=t,t=null):t&&(t.nodeType||t.length||typeof t=="string")&&(t=this.node=cR(t),n=this.object=Lw(t,n,this)),this._valuesEnd=null,this._valuesStart=Array.isArray(n)?[]:{},this._duration=1e3,this._easingFunction=ym,this._easingReverse=ym,this._interpolationFunction=dn.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}setMaxListener(t=15){return this._maxListener=t,this}on(t,n){const{_maxListener:i}=this,r=t+af;for(let o=0;o<i;o++){const s=r+o;if(!this[s]){this[s]=n;break}}return this}once(t,n){const{_maxListener:i}=this,r=t+af;for(let o=0;o<i;o++){const s=r+o;if(!this[s]){this[s]=(...a)=>{n.apply(this,a),this[s]=null};break}}return this}off(t,n){const{_maxListener:i}=this,r=t+af;for(let o=0;o<i;o++){const s=r+o;this[s]===n&&(this[s]=null)}return this}emit(t,n,i,r){const{_maxListener:o}=this,s=t+af;if(!this[s+0])return this;for(let a=0;a<o;a++){const l=s+a;this[l]&&this[l](n,i,r)}return this}isPlaying(){return this._isPlaying}isStarted(){return this._onStartCallbackFired}reverse(t){const{_reversed:n}=this;return this._reversed=t!==void 0?t:!n,this}reversed(){return this._reversed}pause(){return this._isPlaying?(this._isPlaying=!1,Il(this),this._pausedTime=Fr(),this.emit(ZL,this.object)):this}play(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=Fr()-this._pausedTime,this._initTime=this._startTime,sf(this),this._pausedTime=Fr(),this.emit(KL,this.object))}restart(t){return this._repeat=this._r,this.reassignValues(),sf(this),this.emit(QL,this.object)}seek(t,n){const{_duration:i,_initTime:r,_startTime:o,_reversed:s}=this;let a=r+t;return this._isPlaying=!0,a<o&&o>=r&&(this._startTime-=i,this._reversed=!s),this.update(t,!1),this.emit(tR,t,this.object),n?this:this.pause()}duration(t){return this._duration=typeof t=="function"?t(this._duration):t,this}to(t,n=1e3,i){if(this._valuesEnd=t,typeof n=="number"||typeof n=="function")this._duration=typeof n=="function"?n(this._duration):n;else if(typeof n=="object"){for(const r in n)if(typeof this[r]=="function"){const[o=null,s=null,a=null,l=null]=Array.isArray(n[r])?n[r]:[n[r]];this[r](o,s,a,l)}}return this}render(){if(this._rendered)return this;let{_valuesStart:t,_valuesEnd:n,object:i,node:r,InitialValues:o}=this;if(Cw(i),Cw(n),r&&r.queueID&&Jl[r.queueID]){const s=Jl[r.queueID];if(s.propNormaliseRequired&&s.tween!==this){for(const a in n)s.tween._valuesEnd[a];s.normalisedProp=!0,s.propNormaliseRequired=!1}}if(r&&o&&(!i||Object.keys(i).length===0?i=this.object=Lw(r,o(r,n),this):(!n||Object.keys(n).length===0)&&(n=this._valuesEnd=o(r,i))),!t.processed){for(const s in n){let a=i&&i[s]&&rS(i[s]),l=n[s];if(!(Qi[s]&&Qi[s].init&&(Qi[s].init.call(this,a,l,s,i),a===void 0&&t[s]&&(a=t[s]),Qi[s].skipProcess))&&!(typeof a=="number"&&isNaN(a)||a===null||l===null||a===!1||l===!1||a===void 0||l===void 0||a===l)){if(t[s]=a,Array.isArray(l))if(Array.isArray(a))l.isString&&i[s].isString&&!a.isString?a.isString=!0:Yl(s,i,t,n);else{l.unshift(a);for(let c=0,u=l.length;c<u;c++)typeof l[c]=="string"&&(l[c]=kl(l[c]))}else Yl(s,i,t,n);typeof a=="number"&&typeof l=="string"&&l[1]}}t.processed=!0}return zn.Renderer&&this.node&&zn.Renderer.init&&(zn.Renderer.init.call(this,i,t,n),this.__render=!0),this._rendered=!0,this}start(t){return this._startTime=t!==void 0?typeof t=="string"?Fr()+parseFloat(t):t:Fr(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,sf(this),this}stop(){let{_isPlaying:t,_isFinite:n,object:i,_startTime:r,_duration:o,_r:s,_yoyo:a,_reversed:l}=this;if(!t)return this;let c=n?(s+1)%2===1:!l;return this._reversed=!1,a&&c?this.update(r):this.update(r+o),Il(this),this.emit(eR,i)}delay(t){return this._delayTime=typeof t=="function"?t(this._delayTime):t,this}chainedTweens(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(let t=0,n=this._chainedTweensCount;t<n;t++)this[Pw+t]=arguments[t];return this}repeat(t){return this._repeat=this._duration?typeof t=="function"?t(this._repeat):t:0,this._r=this._repeat,this._isFinite=isFinite(t),this}reverseDelay(t){return this._reverseDelayTime=typeof t=="function"?t(this._reverseDelayTime):t,this}yoyo(t,n){return this._yoyo=typeof t=="function"?t(this._yoyo):t===null?this._yoyo:t,t||(this._reversed=!1),this._easingReverse=n||null,this}easing(t){return this._easingFunction=t,this}interpolation(t){return typeof t=="function"&&(this._interpolationFunction=t),this}reassignValues(t){const{_valuesStart:n,object:i,_delayTime:r}=this;this._isPlaying=!0,this._startTime=t!==void 0?t:Fr(),this._startTime+=r,this._reversed=!1,sf(this);for(const o in n){const s=n[o];i[o]=s}return this}update(t,n,i){let{_onStartCallbackFired:r,_easingFunction:o,_interpolationFunction:s,_easingReverse:a,_repeat:l,_delayTime:c,_reverseDelayTime:u,_yoyo:f,_reversed:h,_startTime:d,_prevTime:m,_duration:v,_valuesStart:x,_valuesEnd:p,object:g,_isFinite:w,_isPlaying:y,__render:_,_chainedTweensCount:b}=this,M,N,S,U=0;if(!v)M=1,l=0;else{t=t!==void 0?t:Fr();let R=t-m;if(this._prevTime=t,R>jL&&GL()&&VL()&&(t-=R-WL),!y||t<d&&!i)return!0;M=(t-d)/v,M=M>1?1:M,M=h?1-M:M}if(r||(this._rendered||(this.render(),this._rendered=!0),this.emit(XL,g),this._onStartCallbackFired=!0),N=h&&a||o,!g)return!0;for(S in p){const R=x[S];if(R==null&&!(Qi[S]&&Qi[S].update))continue;const F=p[S],k=N[S]?N[S](M):typeof N=="function"?N(M):ym(M),P=s[S]?s[S]:typeof s=="function"?s:dn.Linear;typeof F=="number"?g[S]=R+(F-R)*k:Array.isArray(F)&&!F.isString&&!Array.isArray(R)?g[S]=P(F,k,g[S]):F&&F.update?F.update(k):typeof F=="function"?g[S]=F(k):typeof F=="string"&&typeof R=="number"?g[S]=R+parseFloat(F[0]+F.substr(2))*k:ly(S,g,x,p,k,M),Qi[S]&&Qi[S].update&&Qi[S].update.call(this,g[S],R,F,k,M,S),U++}if(!U)return Il(this),!1;if(_&&zn.Renderer&&zn.Renderer.update&&zn.Renderer.update.call(this,g,M),this.emit(qL,g,M,t),M===1||h&&M===0)if(l>0&&v>0){if(w&&this._repeat--,f)this._reversed=!h;else for(S in p){let R=p[S];typeof R=="string"&&typeof x[S]=="number"&&(x[S]+=parseFloat(R[0]+R.substr(2)))}return this.emit(f&&!h?JL:YL,g),h&&u?this._startTime=t-u:this._startTime=t+c,!0}else{if(n||(this._isPlaying=!1,Il(this),Rw--),this.emit($L,g),this._repeat=this._r,b)for(let R=0;R<b;R++)this[Pw+R].start(t+v);return!1}return!0}}Number.EPSILON===void 0&&(Number.EPSILON=Math.pow(2,-52));Number.isInteger===void 0&&(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});Math.sign===void 0&&(Math.sign=function(e){return e<0?-1:e>0?1:+e});"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}});Object.assign===void 0&&(Object.assign=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const t=Object(e);for(let n=1;n<arguments.length;n++){const i=arguments[n];if(i!=null)for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t});const uR="118",Ur={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Hr={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},fR=0,Ow=1,hR=2,oS=1,dR=2,Fl=3,Cu=0,At=1,_p=2,sS=1,so=0,Zl=1,Dw=2,Nw=3,Iw=4,pR=5,Is=100,mR=101,gR=102,kw=103,Fw=104,yR=200,vR=201,xR=202,wR=203,aS=204,lS=205,_R=206,bR=207,MR=208,ER=209,SR=210,TR=0,AR=1,PR=2,cy=3,CR=4,LR=5,RR=6,OR=7,bp=0,DR=1,NR=2,fa=0,IR=1,kR=2,FR=3,BR=4,zR=5,S0=300,T0=301,A0=302,cS=303,P0=304,Lu=306,C0=307,id=1e3,mn=1001,rd=1002,Ut=1003,uy=1004,fy=1005,Qt=1006,uS=1007,Mp=1008,Ru=1009,UR=1010,HR=1011,od=1012,GR=1013,Eh=1014,Wr=1015,sd=1016,VR=1017,WR=1018,jR=1019,Kl=1020,qR=1021,jo=1022,wi=1023,$R=1024,XR=1025,YR=wi,ha=1026,Cc=1027,JR=1028,ZR=1029,KR=1030,QR=1031,e3=1032,t3=1033,Bw=33776,zw=33777,Uw=33778,Hw=33779,Gw=35840,Vw=35841,Ww=35842,jw=35843,n3=36196,qw=37492,$w=37496,i3=37808,r3=37809,o3=37810,s3=37811,a3=37812,l3=37813,c3=37814,u3=37815,f3=37816,h3=37817,d3=37818,p3=37819,m3=37820,g3=37821,y3=36492,v3=37840,x3=37841,w3=37842,_3=37843,b3=37844,M3=37845,E3=37846,S3=37847,T3=37848,A3=37849,P3=37850,C3=37851,L3=37852,R3=37853,O3=2200,D3=2201,N3=2202,ad=2300,Sh=2301,vm=2302,Ea=2400,Zs=2401,ld=2402,L0=2500,fS=2501,I3=0,Mn=3e3,Ep=3001,R0=3007,O0=3002,k3=3003,hS=3004,dS=3005,pS=3006,F3=3200,B3=3201,nl=0,z3=1,xm=7680,U3=519,Sp=35044,Lc=35048;function Gt(){}Object.assign(Gt.prototype,{addEventListener:function(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)},hasEventListener:function(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const r=i.indexOf(t);r!==-1&&i.splice(r,1)}},dispatchEvent:function(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let r=0,o=i.length;r<o;r++)i[r].call(this,e)}}});const Vt=[];for(let e=0;e<256;e++)Vt[e]=(e<16?"0":"")+e.toString(16);const ze={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Vt[e&255]+Vt[e>>8&255]+Vt[e>>16&255]+Vt[e>>24&255]+"-"+Vt[t&255]+Vt[t>>8&255]+"-"+Vt[t>>16&15|64]+Vt[t>>24&255]+"-"+Vt[n&63|128]+Vt[n>>8&255]+"-"+Vt[n>>16&255]+Vt[n>>24&255]+Vt[i&255]+Vt[i>>8&255]+Vt[i>>16&255]+Vt[i>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,i,r){return i+(e-t)*(r-i)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(e*6-15)+10))},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*ze.DEG2RAD},radToDeg:function(e){return e*ze.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,i,r){const o=Math.cos,s=Math.sin,a=o(n/2),l=s(n/2),c=o((t+i)/2),u=s((t+i)/2),f=o((t-i)/2),h=s((t-i)/2),d=o((i-t)/2),m=s((i-t)/2);switch(r){case"XYX":e.set(a*u,l*f,l*h,a*c);break;case"YZY":e.set(l*h,a*u,l*f,a*c);break;case"ZXZ":e.set(l*f,l*h,a*u,a*c);break;case"XZX":e.set(a*u,l*m,l*d,a*c);break;case"YXY":e.set(l*d,a*u,l*m,a*c);break;case"ZYZ":e.set(l*m,l*d,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};function X(e=0,t=0){this.x=e,this.y=t}Object.defineProperties(X.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}});Object.assign(X.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){const n=Math.cos(t),i=Math.sin(t),r=this.x-e.x,o=this.y-e.y;return this.x=r*n-o*i+e.x,this.y=r*i+o*n+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}});function sn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(sn.prototype,{isMatrix3:!0,set:function(e,t,n,i,r,o,s,a,l){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=t,c[4]=r,c[5]=a,c[6]=n,c[7]=o,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return new this.constructor().fromArray(this.elements)},copy:function(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},extractBasis:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[3],a=n[6],l=n[1],c=n[4],u=n[7],f=n[2],h=n[5],d=n[8],m=i[0],v=i[3],x=i[6],p=i[1],g=i[4],w=i[7],y=i[2],_=i[5],b=i[8];return r[0]=o*m+s*p+a*y,r[3]=o*v+s*g+a*_,r[6]=o*x+s*w+a*b,r[1]=l*m+c*p+u*y,r[4]=l*v+c*g+u*_,r[7]=l*x+c*w+u*b,r[2]=f*m+h*p+d*y,r[5]=f*v+h*g+d*_,r[8]=f*x+h*w+d*b,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){const e=this.elements,t=e[0],n=e[1],i=e[2],r=e[3],o=e[4],s=e[5],a=e[6],l=e[7],c=e[8];return t*o*c-t*s*l-n*r*c+n*s*a+i*r*l-i*o*a},getInverse:function(e,t){t!==void 0&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const n=e.elements,i=this.elements,r=n[0],o=n[1],s=n[2],a=n[3],l=n[4],c=n[5],u=n[6],f=n[7],h=n[8],d=h*l-c*f,m=c*u-h*a,v=f*a-l*u,x=r*d+o*m+s*v;if(x===0)return this.set(0,0,0,0,0,0,0,0,0);const p=1/x;return i[0]=d*p,i[1]=(s*f-h*o)*p,i[2]=(c*o-s*l)*p,i[3]=m*p,i[4]=(h*r-s*u)*p,i[5]=(s*a-c*r)*p,i[6]=v*p,i[7]=(o*u-f*r)*p,i[8]=(l*r-o*a)*p,this},transpose:function(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,i,r,o,s){const a=Math.cos(r),l=Math.sin(r);this.set(n*a,n*l,-n*(a*o+l*s)+o+e,-i*l,i*a,-i*(-l*o+a*s)+s+t,0,0,1)},scale:function(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){const t=Math.cos(e),n=Math.sin(e),i=this.elements,r=i[0],o=i[3],s=i[6],a=i[1],l=i[4],c=i[7];return i[0]=t*r+n*a,i[3]=t*o+n*l,i[6]=t*s+n*c,i[1]=-n*r+t*a,i[4]=-n*o+t*l,i[7]=-n*s+t*c,this},translate:function(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});let vs;const ts={getDataURL:function(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{vs===void 0&&(vs=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),vs.width=e.width,vs.height=e.height;const n=vs.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=vs}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let H3=0;function nt(e,t,n,i,r,o,s,a,l,c){Object.defineProperty(this,"id",{value:H3++}),this.uuid=ze.generateUUID(),this.name="",this.image=e!==void 0?e:nt.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=t!==void 0?t:nt.DEFAULT_MAPPING,this.wrapS=n!==void 0?n:mn,this.wrapT=i!==void 0?i:mn,this.magFilter=r!==void 0?r:Qt,this.minFilter=o!==void 0?o:Mp,this.anisotropy=l!==void 0?l:1,this.format=s!==void 0?s:wi,this.internalFormat=null,this.type=a!==void 0?a:Ru,this.offset=new X(0,0),this.repeat=new X(1,1),this.center=new X(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new sn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c!==void 0?c:Mn,this.version=0,this.onUpdate=null}nt.DEFAULT_IMAGE=void 0;nt.DEFAULT_MAPPING=S0;nt.prototype=Object.assign(Object.create(Gt.prototype),{constructor:nt,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(this.image!==void 0){const i=this.image;if(i.uuid===void 0&&(i.uuid=ze.generateUUID()),!t&&e.images[i.uuid]===void 0){let r;if(Array.isArray(i)){r=[];for(let o=0,s=i.length;o<s;o++)r.push(ts.getDataURL(i[o]))}else r=ts.getDataURL(i);e.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==S0)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case id:e.x=e.x-Math.floor(e.x);break;case mn:e.x=e.x<0?0:1;break;case rd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case id:e.y=e.y-Math.floor(e.y);break;case mn:e.y=e.y<0?0:1;break;case rd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}});Object.defineProperty(nt.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function Ke(e=0,t=0,n=0,i=1){this.x=e,this.y=t,this.z=n,this.w=i}Object.defineProperties(Ke.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}});Object.assign(Ke.prototype,{isVector4:!0,set:function(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){const t=this.x,n=this.y,i=this.z,r=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*t+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*t+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*t+o[7]*n+o[11]*i+o[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){let t,n,i,r;const a=e.elements,l=a[0],c=a[4],u=a[8],f=a[1],h=a[5],d=a[9],m=a[2],v=a[6],x=a[10];if(Math.abs(c-f)<.01&&Math.abs(u-m)<.01&&Math.abs(d-v)<.01){if(Math.abs(c+f)<.1&&Math.abs(u+m)<.1&&Math.abs(d+v)<.1&&Math.abs(l+h+x-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const g=(l+1)/2,w=(h+1)/2,y=(x+1)/2,_=(c+f)/4,b=(u+m)/4,M=(d+v)/4;return g>w&&g>y?g<.01?(n=0,i=.707106781,r=.707106781):(n=Math.sqrt(g),i=_/n,r=b/n):w>y?w<.01?(n=.707106781,i=0,r=.707106781):(i=Math.sqrt(w),n=_/i,r=M/i):y<.01?(n=.707106781,i=.707106781,r=0):(r=Math.sqrt(y),n=b/r,i=M/r),this.set(n,i,r,t),this}let p=Math.sqrt((v-d)*(v-d)+(u-m)*(u-m)+(f-c)*(f-c));return Math.abs(p)<.001&&(p=1),this.x=(v-d)/p,this.y=(u-m)/p,this.z=(f-c)/p,this.w=Math.acos((l+h+x-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}});function Yn(e,t,n){this.width=e,this.height=t,this.scissor=new Ke(0,0,e,t),this.scissorTest=!1,this.viewport=new Ke(0,0,e,t),n=n||{},this.texture=new nt(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Qt,this.depthBuffer=n.depthBuffer!==void 0?n.depthBuffer:!0,this.stencilBuffer=n.stencilBuffer!==void 0?n.stencilBuffer:!0,this.depthTexture=n.depthTexture!==void 0?n.depthTexture:null}Yn.prototype=Object.assign(Object.create(Gt.prototype),{constructor:Yn,isWebGLRenderTarget:!0,setSize:function(e,t){(this.width!==e||this.height!==t)&&(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});function Xw(e,t,n){Yn.call(this,e,t,n),this.samples=4}Xw.prototype=Object.assign(Object.create(Yn.prototype),{constructor:Xw,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Yn.prototype.copy.call(this,e),this.samples=e.samples,this}});function Rt(e=0,t=0,n=0,i=1){this._x=e,this._y=t,this._z=n,this._w=i}Object.assign(Rt,{slerp:function(e,t,n,i){return n.copy(e).slerp(t,i)},slerpFlat:function(e,t,n,i,r,o,s){let a=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3];const f=r[o+0],h=r[o+1],d=r[o+2],m=r[o+3];if(u!==m||a!==f||l!==h||c!==d){let v=1-s,x=a*f+l*h+c*d+u*m,p=x>=0?1:-1,g=1-x*x;if(g>Number.EPSILON){const y=Math.sqrt(g),_=Math.atan2(y,x*p);v=Math.sin(v*_)/y,s=Math.sin(s*_)/y}const w=s*p;if(a=a*v+f*w,l=l*v+h*w,c=c*v+d*w,u=u*v+m*w,v===1-s){const y=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=y,l*=y,c*=y,u*=y}}e[t]=a,e[t+1]=l,e[t+2]=c,e[t+3]=u},multiplyQuaternionsFlat:function(e,t,n,i,r,o){const s=n[i],a=n[i+1],l=n[i+2],c=n[i+3],u=r[o],f=r[o+1],h=r[o+2],d=r[o+3];return e[t]=s*d+c*u+a*h-l*f,e[t+1]=a*d+c*f+l*u-s*h,e[t+2]=l*d+c*h+s*f-a*u,e[t+3]=c*d-s*u-a*f-l*h,e}});Object.defineProperties(Rt.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}});Object.assign(Rt.prototype,{isQuaternion:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!(e&&e.isEuler))throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,i=e._y,r=e._z,o=e.order,s=Math.cos,a=Math.sin,l=s(n/2),c=s(i/2),u=s(r/2),f=a(n/2),h=a(i/2),d=a(r/2);switch(o){case"XYZ":this._x=f*c*u+l*h*d,this._y=l*h*u-f*c*d,this._z=l*c*d+f*h*u,this._w=l*c*u-f*h*d;break;case"YXZ":this._x=f*c*u+l*h*d,this._y=l*h*u-f*c*d,this._z=l*c*d-f*h*u,this._w=l*c*u+f*h*d;break;case"ZXY":this._x=f*c*u-l*h*d,this._y=l*h*u+f*c*d,this._z=l*c*d+f*h*u,this._w=l*c*u-f*h*d;break;case"ZYX":this._x=f*c*u-l*h*d,this._y=l*h*u+f*c*d,this._z=l*c*d-f*h*u,this._w=l*c*u+f*h*d;break;case"YZX":this._x=f*c*u+l*h*d,this._y=l*h*u+f*c*d,this._z=l*c*d-f*h*u,this._w=l*c*u-f*h*d;break;case"XZY":this._x=f*c*u-l*h*d,this._y=l*h*u-f*c*d,this._z=l*c*d+f*h*u,this._w=l*c*u+f*h*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){const t=e.elements,n=t[0],i=t[4],r=t[8],o=t[1],s=t[5],a=t[9],l=t[2],c=t[6],u=t[10],f=n+s+u;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(c-a)*h,this._y=(r-l)*h,this._z=(o-i)*h}else if(n>s&&n>u){const h=2*Math.sqrt(1+n-s-u);this._w=(c-a)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(r+l)/h}else if(s>u){const h=2*Math.sqrt(1+s-n-u);this._w=(r-l)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(a+c)/h}else{const h=2*Math.sqrt(1+u-n-s);this._w=(o-i)/h,this._x=(r+l)/h,this._y=(a+c)/h,this._z=.25*h}return this._onChangeCallback(),this},setFromUnitVectors:function(e,t){let i=e.dot(t)+1;return i<1e-6?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(ze.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){const n=e._x,i=e._y,r=e._z,o=e._w,s=t._x,a=t._y,l=t._z,c=t._w;return this._x=n*c+o*s+i*l-r*a,this._y=i*c+o*a+r*s-n*l,this._z=r*c+o*l+n*a-i*s,this._w=o*c-n*s-i*a-r*l,this._onChangeCallback(),this},slerp:function(e,t){if(t===0)return this;if(t===1)return this.copy(e);const n=this._x,i=this._y,r=this._z,o=this._w;let s=o*e._w+n*e._x+i*e._y+r*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;const a=1-s*s;if(a<=Number.EPSILON){const h=1-t;return this._w=h*o+t*this._w,this._x=h*n+t*this._x,this._y=h*i+t*this._y,this._z=h*r+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(a),c=Math.atan2(l,s),u=Math.sin((1-t)*c)/l,f=Math.sin(t*c)/l;return this._w=o*u+this._w*f,this._x=n*u+this._x*f,this._y=i*u+this._y*f,this._z=r*u+this._z*f,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return t===void 0&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});const wm=new E,Yw=new Rt;function E(e=0,t=0,n=0){this.x=e,this.y=t,this.z=n}Object.assign(E.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Yw.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(Yw.setFromAxisAngle(e,t))},applyMatrix3:function(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6]*i,this.y=r[1]*t+r[4]*n+r[7]*i,this.z=r[2]*t+r[5]*n+r[8]*i,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){const t=this.x,n=this.y,i=this.z,r=e.elements,o=1/(r[3]*t+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*t+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*t+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*t+r[6]*n+r[10]*i+r[14])*o,this},applyQuaternion:function(e){const t=this.x,n=this.y,i=this.z,r=e.x,o=e.y,s=e.z,a=e.w,l=a*t+o*i-s*n,c=a*n+s*t-r*i,u=a*i+r*n-o*t,f=-r*t-o*n-s*i;return this.x=l*a+f*-r+c*-s-u*-o,this.y=c*a+f*-o+u*-r-l*-s,this.z=u*a+f*-s+l*-o-c*-r,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){const t=this.x,n=this.y,i=this.z,r=e.elements;return this.x=r[0]*t+r[4]*n+r[8]*i,this.y=r[1]*t+r[5]*n+r[9]*i,this.z=r[2]*t+r[6]*n+r[10]*i,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this},cross:function(e,t){return t!==void 0?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){const n=e.x,i=e.y,r=e.z,o=t.x,s=t.y,a=t.z;return this.x=i*a-r*s,this.y=r*o-n*a,this.z=n*s-i*o,this},projectOnVector:function(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},projectOnPlane:function(e){return wm.copy(this).projectOnVector(e),this.sub(wm)},reflect:function(e){return this.sub(wm.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(ze.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,t*4)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,t*3)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return t===void 0&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return n!==void 0&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});const xs=new E,ai=new Ge,G3=new E(0,0,0),V3=new E(1,1,1),Cr=new E,lf=new E,En=new E;function Ge(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Ge.prototype,{isMatrix4:!0,set:function(e,t,n,i,r,o,s,a,l,c,u,f,h,d,m,v){const x=this.elements;return x[0]=e,x[4]=t,x[8]=n,x[12]=i,x[1]=r,x[5]=o,x[9]=s,x[13]=a,x[2]=l,x[6]=c,x[10]=u,x[14]=f,x[3]=h,x[7]=d,x[11]=m,x[15]=v,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return new Ge().fromArray(this.elements)},copy:function(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){const t=this.elements,n=e.elements,i=1/xs.setFromMatrixColumn(e,0).length(),r=1/xs.setFromMatrixColumn(e,1).length(),o=1/xs.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*r,t[5]=n[5]*r,t[6]=n[6]*r,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,i=e.y,r=e.z,o=Math.cos(n),s=Math.sin(n),a=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if(e.order==="XYZ"){const f=o*c,h=o*u,d=s*c,m=s*u;t[0]=a*c,t[4]=-a*u,t[8]=l,t[1]=h+d*l,t[5]=f-m*l,t[9]=-s*a,t[2]=m-f*l,t[6]=d+h*l,t[10]=o*a}else if(e.order==="YXZ"){const f=a*c,h=a*u,d=l*c,m=l*u;t[0]=f+m*s,t[4]=d*s-h,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-s,t[2]=h*s-d,t[6]=m+f*s,t[10]=o*a}else if(e.order==="ZXY"){const f=a*c,h=a*u,d=l*c,m=l*u;t[0]=f-m*s,t[4]=-o*u,t[8]=d+h*s,t[1]=h+d*s,t[5]=o*c,t[9]=m-f*s,t[2]=-o*l,t[6]=s,t[10]=o*a}else if(e.order==="ZYX"){const f=o*c,h=o*u,d=s*c,m=s*u;t[0]=a*c,t[4]=d*l-h,t[8]=f*l+m,t[1]=a*u,t[5]=m*l+f,t[9]=h*l-d,t[2]=-l,t[6]=s*a,t[10]=o*a}else if(e.order==="YZX"){const f=o*a,h=o*l,d=s*a,m=s*l;t[0]=a*c,t[4]=m-f*u,t[8]=d*u+h,t[1]=u,t[5]=o*c,t[9]=-s*c,t[2]=-l*c,t[6]=h*u+d,t[10]=f-m*u}else if(e.order==="XZY"){const f=o*a,h=o*l,d=s*a,m=s*l;t[0]=a*c,t[4]=-u,t[8]=l*c,t[1]=f*u+m,t[5]=o*c,t[9]=h*u-d,t[2]=d*u-h,t[6]=s*c,t[10]=m*u+f}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(G3,e,V3)},lookAt:function(e,t,n){const i=this.elements;return En.subVectors(e,t),En.lengthSq()===0&&(En.z=1),En.normalize(),Cr.crossVectors(n,En),Cr.lengthSq()===0&&(Math.abs(n.z)===1?En.x+=1e-4:En.z+=1e-4,En.normalize(),Cr.crossVectors(n,En)),Cr.normalize(),lf.crossVectors(En,Cr),i[0]=Cr.x,i[4]=lf.x,i[8]=En.x,i[1]=Cr.y,i[5]=lf.y,i[9]=En.y,i[2]=Cr.z,i[6]=lf.z,i[10]=En.z,this},multiply:function(e,t){return t!==void 0?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){const n=e.elements,i=t.elements,r=this.elements,o=n[0],s=n[4],a=n[8],l=n[12],c=n[1],u=n[5],f=n[9],h=n[13],d=n[2],m=n[6],v=n[10],x=n[14],p=n[3],g=n[7],w=n[11],y=n[15],_=i[0],b=i[4],M=i[8],N=i[12],S=i[1],U=i[5],R=i[9],F=i[13],k=i[2],P=i[6],C=i[10],B=i[14],L=i[3],I=i[7],H=i[11],W=i[15];return r[0]=o*_+s*S+a*k+l*L,r[4]=o*b+s*U+a*P+l*I,r[8]=o*M+s*R+a*C+l*H,r[12]=o*N+s*F+a*B+l*W,r[1]=c*_+u*S+f*k+h*L,r[5]=c*b+u*U+f*P+h*I,r[9]=c*M+u*R+f*C+h*H,r[13]=c*N+u*F+f*B+h*W,r[2]=d*_+m*S+v*k+x*L,r[6]=d*b+m*U+v*P+x*I,r[10]=d*M+m*R+v*C+x*H,r[14]=d*N+m*F+v*B+x*W,r[3]=p*_+g*S+w*k+y*L,r[7]=p*b+g*U+w*P+y*I,r[11]=p*M+g*R+w*C+y*H,r[15]=p*N+g*F+w*B+y*W,this},multiplyScalar:function(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){const e=this.elements,t=e[0],n=e[4],i=e[8],r=e[12],o=e[1],s=e[5],a=e[9],l=e[13],c=e[2],u=e[6],f=e[10],h=e[14],d=e[3],m=e[7],v=e[11],x=e[15];return d*(+r*a*u-i*l*u-r*s*f+n*l*f+i*s*h-n*a*h)+m*(+t*a*h-t*l*f+r*o*f-i*o*h+i*l*c-r*a*c)+v*(+t*l*u-t*s*h-r*o*u+n*o*h+r*s*c-n*l*c)+x*(-i*s*c-t*a*u+t*s*f+i*o*u-n*o*f+n*a*c)},transpose:function(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this},getInverse:function(e,t){t!==void 0&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const n=this.elements,i=e.elements,r=i[0],o=i[1],s=i[2],a=i[3],l=i[4],c=i[5],u=i[6],f=i[7],h=i[8],d=i[9],m=i[10],v=i[11],x=i[12],p=i[13],g=i[14],w=i[15],y=d*g*f-p*m*f+p*u*v-c*g*v-d*u*w+c*m*w,_=x*m*f-h*g*f-x*u*v+l*g*v+h*u*w-l*m*w,b=h*p*f-x*d*f+x*c*v-l*p*v-h*c*w+l*d*w,M=x*d*u-h*p*u-x*c*m+l*p*m+h*c*g-l*d*g,N=r*y+o*_+s*b+a*M;if(N===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/N;return n[0]=y*S,n[1]=(p*m*a-d*g*a-p*s*v+o*g*v+d*s*w-o*m*w)*S,n[2]=(c*g*a-p*u*a+p*s*f-o*g*f-c*s*w+o*u*w)*S,n[3]=(d*u*a-c*m*a-d*s*f+o*m*f+c*s*v-o*u*v)*S,n[4]=_*S,n[5]=(h*g*a-x*m*a+x*s*v-r*g*v-h*s*w+r*m*w)*S,n[6]=(x*u*a-l*g*a-x*s*f+r*g*f+l*s*w-r*u*w)*S,n[7]=(l*m*a-h*u*a+h*s*f-r*m*f-l*s*v+r*u*v)*S,n[8]=b*S,n[9]=(x*d*a-h*p*a-x*o*v+r*p*v+h*o*w-r*d*w)*S,n[10]=(l*p*a-x*c*a+x*o*f-r*p*f-l*o*w+r*c*w)*S,n[11]=(h*c*a-l*d*a-h*o*f+r*d*f+l*o*v-r*c*v)*S,n[12]=M*S,n[13]=(h*p*s-x*d*s+x*o*m-r*p*m-h*o*g+r*d*g)*S,n[14]=(x*c*s-l*p*s-x*o*u+r*p*u+l*o*g-r*c*g)*S,n[15]=(l*d*s-h*c*s+h*o*u-r*d*u-l*o*m+r*c*m)*S,this},scale:function(e){const t=this.elements,n=e.x,i=e.y,r=e.z;return t[0]*=n,t[4]*=i,t[8]*=r,t[1]*=n,t[5]*=i,t[9]*=r,t[2]*=n,t[6]*=i,t[10]*=r,t[3]*=n,t[7]*=i,t[11]*=r,this},getMaxScaleOnAxis:function(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){const n=Math.cos(t),i=Math.sin(t),r=1-n,o=e.x,s=e.y,a=e.z,l=r*o,c=r*s;return this.set(l*o+n,l*s-i*a,l*a+i*s,0,l*s+i*a,c*s+n,c*a-i*o,0,l*a-i*s,c*a+i*o,r*a*a+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){const i=this.elements,r=t._x,o=t._y,s=t._z,a=t._w,l=r+r,c=o+o,u=s+s,f=r*l,h=r*c,d=r*u,m=o*c,v=o*u,x=s*u,p=a*l,g=a*c,w=a*u,y=n.x,_=n.y,b=n.z;return i[0]=(1-(m+x))*y,i[1]=(h+w)*y,i[2]=(d-g)*y,i[3]=0,i[4]=(h-w)*_,i[5]=(1-(f+x))*_,i[6]=(v+p)*_,i[7]=0,i[8]=(d+g)*b,i[9]=(v-p)*b,i[10]=(1-(f+m))*b,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this},decompose:function(e,t,n){const i=this.elements;let r=xs.set(i[0],i[1],i[2]).length(),o=xs.set(i[4],i[5],i[6]).length(),s=xs.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),e.x=i[12],e.y=i[13],e.z=i[14],ai.copy(this);const l=1/r,c=1/o,u=1/s;return ai.elements[0]*=l,ai.elements[1]*=l,ai.elements[2]*=l,ai.elements[4]*=c,ai.elements[5]*=c,ai.elements[6]*=c,ai.elements[8]*=u,ai.elements[9]*=u,ai.elements[10]*=u,t.setFromRotationMatrix(ai),n.x=r,n.y=o,n.z=s,this},makePerspective:function(e,t,n,i,r,o){o===void 0&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const s=this.elements,a=2*r/(t-e),l=2*r/(n-i),c=(t+e)/(t-e),u=(n+i)/(n-i),f=-(o+r)/(o-r),h=-2*o*r/(o-r);return s[0]=a,s[4]=0,s[8]=c,s[12]=0,s[1]=0,s[5]=l,s[9]=u,s[13]=0,s[2]=0,s[6]=0,s[10]=f,s[14]=h,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makeOrthographic:function(e,t,n,i,r,o){const s=this.elements,a=1/(t-e),l=1/(n-i),c=1/(o-r),u=(t+e)*a,f=(n+i)*l,h=(o+r)*c;return s[0]=2*a,s[4]=0,s[8]=0,s[12]=-u,s[1]=0,s[5]=2*l,s[9]=0,s[13]=-f,s[2]=0,s[6]=0,s[10]=-2*c,s[14]=-h,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0},fromArray:function(e,t){t===void 0&&(t=0);for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});const Jw=new Ge,Zw=new Rt;function il(e=0,t=0,n=0,i=il.DefaultOrder){this._x=e,this._y=t,this._z=n,this._order=i}il.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];il.DefaultOrder="XYZ";Object.defineProperties(il.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}});Object.assign(il.prototype,{isEuler:!0,set:function(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._order=i||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){const i=ze.clamp,r=e.elements,o=r[0],s=r[4],a=r[8],l=r[1],c=r[5],u=r[9],f=r[2],h=r[6],d=r[10];switch(t=t||this._order,t){case"XYZ":this._y=Math.asin(i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-s,o)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(i(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-i(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-s,c));break;case"YZX":this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(a,d));break;case"XZY":this._z=Math.asin(-i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,o)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n!==!1&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return Jw.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Jw,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return Zw.setFromEuler(this),this.setFromQuaternion(Zw,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new E(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});function D0(){this.mask=1}Object.assign(D0.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return(this.mask&e.mask)!==0}});let W3=0;const Kw=new E,ws=new Rt,er=new Ge,cf=new E,wl=new E,j3=new E,q3=new Rt,Qw=new E(1,0,0),e_=new E(0,1,0),t_=new E(0,0,1),$3={type:"added"},X3={type:"removed"};function ue(){Object.defineProperty(this,"id",{value:W3++}),this.uuid=ze.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ue.DefaultUp.clone();const e=new E,t=new il,n=new Rt,i=new E(1,1,1);function r(){n.setFromEuler(t,!1)}function o(){t.setFromQuaternion(n,void 0,!1)}t._onChange(r),n._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ge},normalMatrix:{value:new sn}}),this.matrix=new Ge,this.matrixWorld=new Ge,this.matrixAutoUpdate=ue.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new D0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}ue.DefaultUp=new E(0,1,0);ue.DefaultMatrixAutoUpdate=!0;ue.prototype=Object.assign(Object.create(Gt.prototype),{constructor:ue,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return ws.setFromAxisAngle(e,t),this.quaternion.multiply(ws),this},rotateOnWorldAxis:function(e,t){return ws.setFromAxisAngle(e,t),this.quaternion.premultiply(ws),this},rotateX:function(e){return this.rotateOnAxis(Qw,e)},rotateY:function(e){return this.rotateOnAxis(e_,e)},rotateZ:function(e){return this.rotateOnAxis(t_,e)},translateOnAxis:function(e,t){return Kw.copy(e).applyQuaternion(this.quaternion),this.position.add(Kw.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Qw,e)},translateY:function(e){return this.translateOnAxis(e_,e)},translateZ:function(e){return this.translateOnAxis(t_,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(er.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?cf.copy(e):cf.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),wl.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?er.lookAt(wl,cf,this.up):er.lookAt(cf,wl,this.up),this.quaternion.setFromRotationMatrix(er),i&&(er.extractRotation(i.matrixWorld),ws.setFromRotationMatrix(er),this.quaternion.premultiply(ws.inverse()))},add:function(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent($3)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(X3)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),er.getInverse(this.matrixWorld),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),er.multiply(e.parent.matrixWorld)),e.applyMatrix4(er),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const o=this.children[n].getObjectByProperty(e,t);if(o!==void 0)return o}},getWorldPosition:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new E),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new Rt),this.updateMatrixWorld(!0),this.matrixWorld.decompose(wl,e,j3),e},getWorldScale:function(e){return e===void 0&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new E),this.updateMatrixWorld(!0),this.matrixWorld.decompose(wl,q3,e),e},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new E),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)},traverseVisible:function(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let r=0,o=i.length;r<o;r++)i[r].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),JSON.stringify(this.userData)!=="{}"&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON());function r(s,a){return s[a.uuid]===void 0&&(s[a.uuid]=a.toJSON(e)),a.uuid}if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const a=s.shapes;if(Array.isArray(a))for(let l=0,c=a.length;l<c;l++){const u=a[l];r(e.shapes,u)}else r(e.shapes,a)}}if(this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let a=0,l=this.material.length;a<l;a++)s.push(r(e.materials,this.material[a]));i.material=s}else i.material=r(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(t){const s=o(e.geometries),a=o(e.materials),l=o(e.textures),c=o(e.images),u=o(e.shapes);s.length>0&&(n.geometries=s),a.length>0&&(n.materials=a),l.length>0&&(n.textures=l),c.length>0&&(n.images=c),u.length>0&&(n.shapes=u)}return n.object=i,n;function o(s){const a=[];for(const l in s){const c=s[l];delete c.metadata,a.push(c)}return a}},clone:function(e){return new this.constructor().copy(this,e)},copy:function(e,t){if(t===void 0&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}});function Rc(){ue.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Rc.prototype=Object.assign(Object.create(ue.prototype),{constructor:Rc,isScene:!0,copy:function(e,t){return ue.prototype.copy.call(this,e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){const t=ue.prototype.toJSON.call(this,e);return this.background!==null&&(t.object.background=this.background.toJSON(e)),this.environment!==null&&(t.object.environment=this.environment.toJSON(e)),this.fog!==null&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});const tr=[new E,new E,new E,new E,new E,new E,new E,new E],_l=new E,_m=new Zi,_s=new E,bs=new E,Ms=new E,Lr=new E,Rr=new E,Mo=new E,bl=new E,uf=new E,ff=new E,Eo=new E;function Zi(e,t){this.min=e!==void 0?e:new E(1/0,1/0,1/0),this.max=t!==void 0?t:new E(-1/0,-1/0,-1/0)}Object.assign(Zi.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.length;a<l;a+=3){const c=e[a],u=e[a+1],f=e[a+2];c<t&&(t=c),u<n&&(n=u),f<i&&(i=f),c>r&&(r=c),u>o&&(o=u),f>s&&(s=f)}return this.min.set(t,n,i),this.max.set(r,o,s),this},setFromBufferAttribute:function(e){let t=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,s=-1/0;for(let a=0,l=e.count;a<l;a++){const c=e.getX(a),u=e.getY(a),f=e.getZ(a);c<t&&(t=c),u<n&&(n=u),f<i&&(i=f),c>r&&(r=c),u>o&&(o=u),f>s&&(s=f)}return this.min.set(t,n,i),this.max.set(r,o,s),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const n=_l.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new E),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new E),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;t!==void 0&&(t.boundingBox===null&&t.computeBoundingBox(),_m.copy(t.boundingBox),_m.applyMatrix4(e.matrixWorld),this.union(_m));const n=e.children;for(let i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new E),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,_l),_l.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(bl),uf.subVectors(this.max,bl),_s.subVectors(e.a,bl),bs.subVectors(e.b,bl),Ms.subVectors(e.c,bl),Lr.subVectors(bs,_s),Rr.subVectors(Ms,bs),Mo.subVectors(_s,Ms);let t=[0,-Lr.z,Lr.y,0,-Rr.z,Rr.y,0,-Mo.z,Mo.y,Lr.z,0,-Lr.x,Rr.z,0,-Rr.x,Mo.z,0,-Mo.x,-Lr.y,Lr.x,0,-Rr.y,Rr.x,0,-Mo.y,Mo.x,0];return!bm(t,_s,bs,Ms,uf)||(t=[1,0,0,0,1,0,0,0,1],!bm(t,_s,bs,Ms,uf))?!1:(ff.crossVectors(Lr,Rr),t=[ff.x,ff.y,ff.z],bm(t,_s,bs,Ms,uf))},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new E),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return _l.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return e===void 0&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=this.getSize(_l).length()*.5,e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()?this:(tr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),tr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),tr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),tr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),tr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),tr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),tr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),tr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(tr),this)},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});function bm(e,t,n,i,r){for(let o=0,s=e.length-3;o<=s;o+=3){Eo.fromArray(e,o);const a=r.x*Math.abs(Eo.x)+r.y*Math.abs(Eo.y)+r.z*Math.abs(Eo.z),l=t.dot(Eo),c=n.dot(Eo),u=i.dot(Eo);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Y3=new Zi;function Sr(e,t){this.center=e!==void 0?e:new E,this.radius=t!==void 0?t:-1}Object.assign(Sr.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){const n=this.center;t!==void 0?n.copy(t):Y3.setFromPoints(e).getCenter(n);let i=0;for(let r=0,o=e.length;r<o;r++)i=Math.max(i,n.distanceToSquared(e[r]));return this.radius=Math.sqrt(i),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){const n=this.center.distanceToSquared(e);return t===void 0&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new E),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return e===void 0&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Zi),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});const nr=new E,Mm=new E,hf=new E,Or=new E,Em=new E,df=new E,Sm=new E;function rl(e,t){this.origin=e!==void 0?e:new E,this.direction=t!==void 0?t:new E(0,0,-1)}Object.assign(rl.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return t===void 0&&(console.warn("THREE.Ray: .at() target is now required"),t=new E),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,nr)),this},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new E),t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){const t=nr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(nr.copy(this.direction).multiplyScalar(t).add(this.origin),nr.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,i){Mm.copy(e).add(t).multiplyScalar(.5),hf.copy(t).sub(e).normalize(),Or.copy(this.origin).sub(Mm);const r=e.distanceTo(t)*.5,o=-this.direction.dot(hf),s=Or.dot(this.direction),a=-Or.dot(hf),l=Or.lengthSq(),c=Math.abs(1-o*o);let u,f,h,d;if(c>0)if(u=o*a-s,f=o*s-a,d=r*c,u>=0)if(f>=-d)if(f<=d){const m=1/c;u*=m,f*=m,h=u*(u+o*f+2*s)+f*(o*u+f+2*a)+l}else f=r,u=Math.max(0,-(o*f+s)),h=-u*u+f*(f+2*a)+l;else f=-r,u=Math.max(0,-(o*f+s)),h=-u*u+f*(f+2*a)+l;else f<=-d?(u=Math.max(0,-(-o*r+s)),f=u>0?-r:Math.min(Math.max(-r,-a),r),h=-u*u+f*(f+2*a)+l):f<=d?(u=0,f=Math.min(Math.max(-r,-a),r),h=f*(f+2*a)+l):(u=Math.max(0,-(o*r+s)),f=u>0?r:Math.min(Math.max(-r,-a),r),h=-u*u+f*(f+2*a)+l);else f=o>0?-r:r,u=Math.max(0,-(o*f+s)),h=-u*u+f*(f+2*a)+l;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),i&&i.copy(hf).multiplyScalar(f).add(Mm),h},intersectSphere:function(e,t){nr.subVectors(e.center,this.origin);const n=nr.dot(this.direction),i=nr.dot(nr)-n*n,r=e.radius*e.radius;if(i>r)return null;const o=Math.sqrt(r-i),s=n-o,a=n+o;return s<0&&a<0?null:s<0?this.at(a,t):this.at(s,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)},intersectsPlane:function(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){let n,i,r,o,s,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,f=this.origin;return l>=0?(n=(e.min.x-f.x)*l,i=(e.max.x-f.x)*l):(n=(e.max.x-f.x)*l,i=(e.min.x-f.x)*l),c>=0?(r=(e.min.y-f.y)*c,o=(e.max.y-f.y)*c):(r=(e.max.y-f.y)*c,o=(e.min.y-f.y)*c),n>o||r>i||((r>n||n!==n)&&(n=r),(o<i||i!==i)&&(i=o),u>=0?(s=(e.min.z-f.z)*u,a=(e.max.z-f.z)*u):(s=(e.max.z-f.z)*u,a=(e.min.z-f.z)*u),n>a||s>i)||((s>n||n!==n)&&(n=s),(a<i||i!==i)&&(i=a),i<0)?null:this.at(n>=0?n:i,t)},intersectsBox:function(e){return this.intersectBox(e,nr)!==null},intersectTriangle:function(e,t,n,i,r){Em.subVectors(t,e),df.subVectors(n,e),Sm.crossVectors(Em,df);let o=this.direction.dot(Sm),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Or.subVectors(this.origin,e);const a=s*this.direction.dot(df.crossVectors(Or,df));if(a<0)return null;const l=s*this.direction.dot(Em.cross(Or));if(l<0||a+l>o)return null;const c=-s*Or.dot(Sm);return c<0?null:this.at(c/o,r)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});const Tm=new E,J3=new E,Z3=new sn;function Oi(e,t){this.normal=e!==void 0?e:new E(1,0,0),this.constant=t!==void 0?t:0}Object.assign(Oi.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){const i=Tm.subVectors(n,t).cross(J3.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return t===void 0&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new E),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){t===void 0&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new E);const n=e.delta(Tm),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):void 0;const r=-(e.start.dot(this.normal)+this.constant)/i;if(!(r<0||r>1))return t.copy(n).multiplyScalar(r).add(e.start)},intersectsLine:function(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return e===void 0&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new E),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){const n=t||Z3.getNormalMatrix(e),i=this.coplanarPoint(Tm).applyMatrix4(e),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});const ui=new E,or=new E,Am=new E,ir=new E,Es=new E,Ss=new E,n_=new E,Pm=new E,Cm=new E,Lm=new E;function jt(e,t,n){this.a=e!==void 0?e:new E,this.b=t!==void 0?t:new E,this.c=n!==void 0?n:new E}Object.assign(jt,{getNormal:function(e,t,n,i){i===void 0&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new E),i.subVectors(n,t),ui.subVectors(e,t),i.cross(ui);const r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)},getBarycoord:function(e,t,n,i,r){ui.subVectors(i,t),or.subVectors(n,t),Am.subVectors(e,t);const o=ui.dot(ui),s=ui.dot(or),a=ui.dot(Am),l=or.dot(or),c=or.dot(Am),u=o*l-s*s;if(r===void 0&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new E),u===0)return r.set(-2,-1,-1);const f=1/u,h=(l*a-s*c)*f,d=(o*c-s*a)*f;return r.set(1-h-d,d,h)},containsPoint:function(e,t,n,i){return jt.getBarycoord(e,t,n,i,ir),ir.x>=0&&ir.y>=0&&ir.x+ir.y<=1},getUV:function(e,t,n,i,r,o,s,a){return this.getBarycoord(e,t,n,i,ir),a.set(0,0),a.addScaledVector(r,ir.x),a.addScaledVector(o,ir.y),a.addScaledVector(s,ir.z),a},isFrontFacing:function(e,t,n,i){return ui.subVectors(n,t),or.subVectors(e,t),ui.cross(or).dot(i)<0}});Object.assign(jt.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return ui.subVectors(this.c,this.b),or.subVectors(this.a,this.b),ui.cross(or).length()*.5},getMidpoint:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new E),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return jt.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return e===void 0&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new Oi),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return jt.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,i,r){return jt.getUV(e,this.a,this.b,this.c,t,n,i,r)},containsPoint:function(e){return jt.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return jt.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){t===void 0&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new E);const n=this.a,i=this.b,r=this.c;let o,s;Es.subVectors(i,n),Ss.subVectors(r,n),Pm.subVectors(e,n);const a=Es.dot(Pm),l=Ss.dot(Pm);if(a<=0&&l<=0)return t.copy(n);Cm.subVectors(e,i);const c=Es.dot(Cm),u=Ss.dot(Cm);if(c>=0&&u<=c)return t.copy(i);const f=a*u-c*l;if(f<=0&&a>=0&&c<=0)return o=a/(a-c),t.copy(n).addScaledVector(Es,o);Lm.subVectors(e,r);const h=Es.dot(Lm),d=Ss.dot(Lm);if(d>=0&&h<=d)return t.copy(r);const m=h*l-a*d;if(m<=0&&l>=0&&d<=0)return s=l/(l-d),t.copy(n).addScaledVector(Ss,s);const v=c*d-h*u;if(v<=0&&u-c>=0&&h-d>=0)return n_.subVectors(r,i),s=(u-c)/(u-c+(h-d)),t.copy(i).addScaledVector(n_,s);const x=1/(v+m+f);return o=m*x,s=f*x,t.copy(n).addScaledVector(Es,o).addScaledVector(Ss,s)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});const mS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},li={h:0,s:0,l:0},pf={h:0,s:0,l:0};function me(e,t,n){return t===void 0&&n===void 0?this.set(e):this.setRGB(e,t,n)}function Rm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*6*(2/3-n):e}function Om(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function Dm(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}Object.assign(me.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=ze.euclideanModulo(e,1),t=ze.clamp(t,0,1),n=ze.clamp(n,0,1),t===0)this.r=this.g=this.b=n;else{const i=n<=.5?n*(1+t):n+t-n*t,r=2*n-i;this.r=Rm(r,i,e+1/3),this.g=Rm(r,i,e),this.b=Rm(r,i,e-1/3)}return this},setStyle:function(e){function t(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let i;const r=n[1],o=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,t(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,t(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){const s=parseFloat(i[1])/360,a=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return t(i[5]),this.setHSL(s,a,l)}break}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){const i=n[1],r=i.length;if(r===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,this;if(r===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){const t=mS[e];return t!==void 0?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return t===void 0&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){t===void 0&&(t=2);const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=Om(e.r),this.g=Om(e.g),this.b=Om(e.b),this},copyLinearToSRGB:function(e){return this.r=Dm(e.r),this.g=Dm(e.g),this.b=Dm(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){e===void 0&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,n=this.g,i=this.b,r=Math.max(t,n,i),o=Math.min(t,n,i);let s,a;const l=(o+r)/2;if(o===r)s=0,a=0;else{const c=r-o;switch(a=l<=.5?c/(r+o):c/(2-r-o),r){case t:s=(n-i)/c+(n<i?6:0);break;case n:s=(i-t)/c+2;break;case i:s=(t-n)/c+4;break}s/=6}return e.h=s,e.s=a,e.l=l,e},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(li),li.h+=e,li.s+=t,li.l+=n,this.setHSL(li.h,li.s,li.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(li),e.getHSL(pf);const n=ze.lerp(li.h,pf.h,t),i=ze.lerp(li.s,pf.s,t),r=ze.lerp(li.l,pf.l,t);return this.setHSL(n,i,r),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return t===void 0&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return e===void 0&&(e=[]),t===void 0&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},fromBufferAttribute:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),e.normalized===!0&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON:function(){return this.getHex()}});me.NAMES=mS;function Oc(e,t,n,i,r,o){this.a=e,this.b=t,this.c=n,this.normal=i&&i.isVector3?i:new E,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new me,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=o!==void 0?o:0}Object.assign(Oc.prototype,{clone:function(){return new this.constructor().copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}});let K3=0;function Ie(){Object.defineProperty(this,"id",{value:K3++}),this.uuid=ze.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=Zl,this.side=Cu,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=aS,this.blendDst=lS,this.blendEquation=Is,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=cy,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=U3,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=xm,this.stencilZFail=xm,this.stencilZPass=xm,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}Ie.prototype=Object.assign(Object.create(Gt.prototype),{constructor:Ie,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if(t==="shading"){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===sS;continue}const i=this[t];if(i===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}},toJSON:function(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,this.combine!==void 0&&(n.combine=this.combine),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.size!==void 0&&(n.size=this.size),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Zl&&(n.blending=this.blending),this.flatShading===!0&&(n.flatShading=this.flatShading),this.side!==Cu&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.morphTargets===!0&&(n.morphTargets=!0),this.morphNormals===!0&&(n.morphNormals=!0),this.skinning===!0&&(n.skinning=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),JSON.stringify(this.userData)!=="{}"&&(n.userData=this.userData);function i(r){const o=[];for(const s in r){const a=r[s];delete a.metadata,o.push(a)}return o}if(t){const r=i(e.textures),o=i(e.images);r.length>0&&(n.textures=r),o.length>0&&(n.images=o)}return n},clone:function(){return new this.constructor().copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let r=0;r!==i;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}});Object.defineProperty(Ie.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});function cn(e){Ie.call(this),this.type="MeshBasicMaterial",this.color=new me(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=bp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}cn.prototype=Object.create(Ie.prototype);cn.prototype.constructor=cn;cn.prototype.isMeshBasicMaterial=!0;cn.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const rt=new E,mf=new X;function Ne(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n===!0,this.usage=Sp,this.updateRange={offset:0,count:-1},this.version=0}Object.defineProperty(Ne.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(Ne.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,r=this.itemSize;i<r;i++)this.array[e+i]=t.array[n+i];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new me),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new X),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new E),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let i=0,r=e.length;i<r;i++){let o=e[i];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Ke),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},applyMatrix3:function(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)mf.fromBufferAttribute(this,t),mf.applyMatrix3(e),this.setXY(t,mf.x,mf.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)rt.fromBufferAttribute(this,t),rt.applyMatrix3(e),this.setXYZ(t,rt.x,rt.y,rt.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)rt.x=this.getX(t),rt.y=this.getY(t),rt.z=this.getZ(t),rt.applyMatrix4(e),this.setXYZ(t,rt.x,rt.y,rt.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)rt.x=this.getX(t),rt.y=this.getY(t),rt.z=this.getZ(t),rt.applyNormalMatrix(e),this.setXYZ(t,rt.x,rt.y,rt.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)rt.x=this.getX(t),rt.y=this.getY(t),rt.z=this.getZ(t),rt.transformDirection(e),this.setXYZ(t,rt.x,rt.y,rt.z);return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=r,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}});function hy(e,t,n){Ne.call(this,new Int8Array(e),t,n)}hy.prototype=Object.create(Ne.prototype);hy.prototype.constructor=hy;function dy(e,t,n){Ne.call(this,new Uint8Array(e),t,n)}dy.prototype=Object.create(Ne.prototype);dy.prototype.constructor=dy;function py(e,t,n){Ne.call(this,new Uint8ClampedArray(e),t,n)}py.prototype=Object.create(Ne.prototype);py.prototype.constructor=py;function my(e,t,n){Ne.call(this,new Int16Array(e),t,n)}my.prototype=Object.create(Ne.prototype);my.prototype.constructor=my;function Dc(e,t,n){Ne.call(this,new Uint16Array(e),t,n)}Dc.prototype=Object.create(Ne.prototype);Dc.prototype.constructor=Dc;function gy(e,t,n){Ne.call(this,new Int32Array(e),t,n)}gy.prototype=Object.create(Ne.prototype);gy.prototype.constructor=gy;function Nc(e,t,n){Ne.call(this,new Uint32Array(e),t,n)}Nc.prototype=Object.create(Ne.prototype);Nc.prototype.constructor=Nc;function de(e,t,n){Ne.call(this,new Float32Array(e),t,n)}de.prototype=Object.create(Ne.prototype);de.prototype.constructor=de;function yy(e,t,n){Ne.call(this,new Float64Array(e),t,n)}yy.prototype=Object.create(Ne.prototype);yy.prototype.constructor=yy;function gS(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}Object.assign(gS.prototype,{computeGroups:function(e){const t=[];let n,i,r;const o=e.faces;for(i=0;i<o.length;i++){const s=o[i];s.materialIndex!==r&&(r=s.materialIndex,n!==void 0&&(n.count=i*3-n.start,t.push(n)),n={start:i*3,materialIndex:r})}n!==void 0&&(n.count=i*3-n.start,t.push(n)),this.groups=t},fromGeometry:function(e){const t=e.faces,n=e.vertices,i=e.faceVertexUvs,r=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=e.morphTargets,a=s.length;let l;if(a>0){l=[];for(let x=0;x<a;x++)l[x]={name:s[x].name,data:[]};this.morphTargets.position=l}const c=e.morphNormals,u=c.length;let f;if(u>0){f=[];for(let x=0;x<u;x++)f[x]={name:c[x].name,data:[]};this.morphTargets.normal=f}const h=e.skinIndices,d=e.skinWeights,m=h.length===n.length,v=d.length===n.length;n.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let x=0;x<t.length;x++){const p=t[x];this.vertices.push(n[p.a],n[p.b],n[p.c]);const g=p.vertexNormals;if(g.length===3)this.normals.push(g[0],g[1],g[2]);else{const y=p.normal;this.normals.push(y,y,y)}const w=p.vertexColors;if(w.length===3)this.colors.push(w[0],w[1],w[2]);else{const y=p.color;this.colors.push(y,y,y)}if(r===!0){const y=i[0][x];y!==void 0?this.uvs.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",x),this.uvs.push(new X,new X,new X))}if(o===!0){const y=i[1][x];y!==void 0?this.uvs2.push(y[0],y[1],y[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",x),this.uvs2.push(new X,new X,new X))}for(let y=0;y<a;y++){const _=s[y].vertices;l[y].data.push(_[p.a],_[p.b],_[p.c])}for(let y=0;y<u;y++){const _=c[y].vertexNormals[x];f[y].data.push(_.a,_.b,_.c)}m&&this.skinIndices.push(h[p.a],h[p.b],h[p.c]),v&&this.skinWeights.push(d[p.a],d[p.b],d[p.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}});function yS(e){if(e.length===0)return-1/0;let t=e[0];for(let n=1,i=e.length;n<i;++n)e[n]>t&&(t=e[n]);return t}let Q3=1;const Pi=new Ge,Nm=new ue,Ts=new E,Sn=new Zi,Ml=new Zi,Bt=new E;function ve(){Object.defineProperty(this,"id",{value:Q3+=2}),this.uuid=ze.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}ve.prototype=Object.assign(Object.create(Gt.prototype),{constructor:ve,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(yS(e)>65535?Nc:Dc)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:n!==void 0?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const r=new sn().getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this},rotateX:function(e){return Pi.makeRotationX(e),this.applyMatrix4(Pi),this},rotateY:function(e){return Pi.makeRotationY(e),this.applyMatrix4(Pi),this},rotateZ:function(e){return Pi.makeRotationZ(e),this.applyMatrix4(Pi),this},translate:function(e,t,n){return Pi.makeTranslation(e,t,n),this.applyMatrix4(Pi),this},scale:function(e,t,n){return Pi.makeScale(e,t,n),this.applyMatrix4(Pi),this},lookAt:function(e){return Nm.lookAt(e),Nm.updateMatrix(),this.applyMatrix4(Nm.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ts).negate(),this.translate(Ts.x,Ts.y,Ts.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const n=new de(t.vertices.length*3,3),i=new de(t.colors.length*3,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",i.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const r=new de(t.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(t.lineDistances))}t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,i=e.length;n<i;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new de(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let n=t.__directGeometry;if(t.elementsNeedUpdate===!0&&(n=void 0,t.elementsNeedUpdate=!1),n===void 0)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(t.verticesNeedUpdate===!0){const n=this.attributes.position;n!==void 0&&(n.copyVector3sArray(t.vertices),n.needsUpdate=!0),t.verticesNeedUpdate=!1}if(t.normalsNeedUpdate===!0){const n=this.attributes.normal;n!==void 0&&(n.copyVector3sArray(t.normals),n.needsUpdate=!0),t.normalsNeedUpdate=!1}if(t.colorsNeedUpdate===!0){const n=this.attributes.color;n!==void 0&&(n.copyColorsArray(t.colors),n.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const n=this.attributes.uv;n!==void 0&&(n.copyVector2sArray(t.uvs),n.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const n=this.attributes.lineDistance;n!==void 0&&(n.copyArray(t.lineDistances),n.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=new gS().fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(e.vertices.length*3);if(this.setAttribute("position",new Ne(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const n=new Float32Array(e.normals.length*3);this.setAttribute("normal",new Ne(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const n=new Float32Array(e.colors.length*3);this.setAttribute("color",new Ne(n,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const n=new Float32Array(e.uvs.length*2);this.setAttribute("uv",new Ne(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const n=new Float32Array(e.uvs2.length*2);this.setAttribute("uv2",new Ne(n,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const n in e.morphTargets){const i=[],r=e.morphTargets[n];for(let o=0,s=r.length;o<s;o++){const a=r[o],l=new de(a.data.length*3,3);l.name=a.name,i.push(l.copyVector3sArray(a.data))}this.morphAttributes[n]=i}if(e.skinIndices.length>0){const n=new de(e.skinIndices.length*4,4);this.setAttribute("skinIndex",n.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const n=new de(e.skinWeights.length*4,4);this.setAttribute("skinWeight",n.copyVector4sArray(e.skinWeights))}return e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Zi);const e=this.attributes.position,t=this.morphAttributes.position;if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const r=t[n];Sn.setFromBufferAttribute(r),this.morphTargetsRelative?(Bt.addVectors(this.boundingBox.min,Sn.min),this.boundingBox.expandByPoint(Bt),Bt.addVectors(this.boundingBox.max,Sn.max),this.boundingBox.expandByPoint(Bt)):(this.boundingBox.expandByPoint(Sn.min),this.boundingBox.expandByPoint(Sn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Sr);const e=this.attributes.position,t=this.morphAttributes.position;if(e){const n=this.boundingSphere.center;if(Sn.setFromBufferAttribute(e),t)for(let r=0,o=t.length;r<o;r++){const s=t[r];Ml.setFromBufferAttribute(s),this.morphTargetsRelative?(Bt.addVectors(Sn.min,Ml.min),Sn.expandByPoint(Bt),Bt.addVectors(Sn.max,Ml.max),Sn.expandByPoint(Bt)):(Sn.expandByPoint(Ml.min),Sn.expandByPoint(Ml.max))}Sn.getCenter(n);let i=0;for(let r=0,o=e.count;r<o;r++)Bt.fromBufferAttribute(e,r),i=Math.max(i,n.distanceToSquared(Bt));if(t)for(let r=0,o=t.length;r<o;r++){const s=t[r],a=this.morphTargetsRelative;for(let l=0,c=s.count;l<c;l++)Bt.fromBufferAttribute(s,l),a&&(Ts.fromBufferAttribute(e,l),Bt.add(Ts)),i=Math.max(i,n.distanceToSquared(Bt))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new Ne(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let f=0,h=n.count;f<h;f++)n.setXYZ(f,0,0,0);const i=new E,r=new E,o=new E,s=new E,a=new E,l=new E,c=new E,u=new E;if(e)for(let f=0,h=e.count;f<h;f+=3){const d=e.getX(f+0),m=e.getX(f+1),v=e.getX(f+2);i.fromBufferAttribute(t,d),r.fromBufferAttribute(t,m),o.fromBufferAttribute(t,v),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),s.fromBufferAttribute(n,d),a.fromBufferAttribute(n,m),l.fromBufferAttribute(n,v),s.add(c),a.add(c),l.add(c),n.setXYZ(d,s.x,s.y,s.z),n.setXYZ(m,a.x,a.y,a.z),n.setXYZ(v,l.x,l.y,l.z)}else for(let f=0,h=t.count;f<h;f+=3)i.fromBufferAttribute(t,f+0),r.fromBufferAttribute(t,f+1),o.fromBufferAttribute(t,f+2),c.subVectors(o,r),u.subVectors(i,r),c.cross(u),n.setXYZ(f+0,c.x,c.y,c.z),n.setXYZ(f+1,c.x,c.y,c.z),n.setXYZ(f+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!(e&&e.isBufferGeometry)){console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);return}t===void 0&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const i in n){if(e.attributes[i]===void 0)continue;const o=n[i].array,s=e.attributes[i],a=s.array,l=s.itemSize*t,c=Math.min(a.length,o.length-l);for(let u=0,f=l;u<c;u++,f++)o[f]=a[u]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Bt.fromBufferAttribute(e,t),Bt.normalize(),e.setXYZ(t,Bt.x,Bt.y,Bt.z)},toNonIndexed:function(){function e(s,a){const l=s.array,c=s.itemSize,u=s.normalized,f=new l.constructor(a.length*c);let h=0,d=0;for(let m=0,v=a.length;m<v;m++){h=a[m]*c;for(let x=0;x<c;x++)f[d++]=l[h++]}return new Ne(f,c,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new ve,n=this.index.array,i=this.attributes;for(const s in i){const a=i[s],l=e(a,n);t.setAttribute(s,l)}const r=this.morphAttributes;for(const s in r){const a=[],l=r[s];for(let c=0,u=l.length;c<u;c++){const f=l[c],h=e(f,n);a.push(h)}t.morphAttributes[s]=a}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,a=o.length;s<a;s++){const l=o[s];t.addGroup(l.start,l.count,l.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const a=this.parameters;for(const l in a)a[l]!==void 0&&(e[l]=a[l]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const a in n){const l=n[a],c=l.toJSON(e.data);l.name!==""&&(c.name=l.name),e.data.attributes[a]=c}const i={};let r=!1;for(const a in this.morphAttributes){const l=this.morphAttributes[a],c=[];for(let u=0,f=l.length;u<f;u++){const h=l[u],d=h.toJSON(e.data);h.name!==""&&(d.name=h.name),c.push(d)}c.length>0&&(i[a]=c,r=!0)}r&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e},clone:function(){return new ve().copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone(t));const i=e.attributes;for(const l in i){const c=i[l];this.setAttribute(l,c.clone(t))}const r=e.morphAttributes;for(const l in r){const c=[],u=r[l];for(let f=0,h=u.length;f<h;f++)c.push(u[f].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const u=o[l];this.addGroup(u.start,u.count,u.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const a=e.boundingSphere;return a!==null&&(this.boundingSphere=a.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const i_=new Ge,So=new rl,Im=new Sr,Dr=new E,Nr=new E,Ir=new E,km=new E,Fm=new E,Bm=new E,gf=new E,yf=new E,vf=new E,Ks=new X,Qs=new X,ea=new X,Ql=new E,xf=new E;function Je(e,t){ue.call(this),this.type="Mesh",this.geometry=e!==void 0?e:new ve,this.material=t!==void 0?t:new cn,this.updateMorphTargets()}Je.prototype=Object.assign(Object.create(ue.prototype),{constructor:Je,isMesh:!0,copy:function(e){return ue.prototype.copy.call(this,e),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const s=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,i=this.material,r=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),Im.copy(n.boundingSphere),Im.applyMatrix4(r),e.ray.intersectsSphere(Im)===!1)||(i_.getInverse(r),So.copy(e.ray).applyMatrix4(i_),n.boundingBox!==null&&So.intersectsBox(n.boundingBox)===!1))return;let o;if(n.isBufferGeometry){const s=n.index,a=n.attributes.position,l=n.morphAttributes.position,c=n.morphTargetsRelative,u=n.attributes.uv,f=n.attributes.uv2,h=n.groups,d=n.drawRange;if(s!==null)if(Array.isArray(i))for(let m=0,v=h.length;m<v;m++){const x=h[m],p=i[x.materialIndex],g=Math.max(x.start,d.start),w=Math.min(x.start+x.count,d.start+d.count);for(let y=g,_=w;y<_;y+=3){const b=s.getX(y),M=s.getX(y+1),N=s.getX(y+2);o=wf(this,p,e,So,a,l,c,u,f,b,M,N),o&&(o.faceIndex=Math.floor(y/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const m=Math.max(0,d.start),v=Math.min(s.count,d.start+d.count);for(let x=m,p=v;x<p;x+=3){const g=s.getX(x),w=s.getX(x+1),y=s.getX(x+2);o=wf(this,i,e,So,a,l,c,u,f,g,w,y),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}else if(a!==void 0)if(Array.isArray(i))for(let m=0,v=h.length;m<v;m++){const x=h[m],p=i[x.materialIndex],g=Math.max(x.start,d.start),w=Math.min(x.start+x.count,d.start+d.count);for(let y=g,_=w;y<_;y+=3){const b=y,M=y+1,N=y+2;o=wf(this,p,e,So,a,l,c,u,f,b,M,N),o&&(o.faceIndex=Math.floor(y/3),o.face.materialIndex=x.materialIndex,t.push(o))}}else{const m=Math.max(0,d.start),v=Math.min(a.count,d.start+d.count);for(let x=m,p=v;x<p;x+=3){const g=x,w=x+1,y=x+2;o=wf(this,i,e,So,a,l,c,u,f,g,w,y),o&&(o.faceIndex=Math.floor(x/3),t.push(o))}}}else if(n.isGeometry){const s=Array.isArray(i),a=n.vertices,l=n.faces;let c;const u=n.faceVertexUvs[0];u.length>0&&(c=u);for(let f=0,h=l.length;f<h;f++){const d=l[f],m=s?i[d.materialIndex]:i;if(m===void 0)continue;const v=a[d.a],x=a[d.b],p=a[d.c];if(o=vS(this,m,e,So,v,x,p,Ql),o){if(c&&c[f]){const g=c[f];Ks.copy(g[0]),Qs.copy(g[1]),ea.copy(g[2]),o.uv=jt.getUV(Ql,v,x,p,Ks,Qs,ea,new X)}o.face=d,o.faceIndex=f,t.push(o)}}}}});function vS(e,t,n,i,r,o,s,a){let l;if(t.side===At?l=i.intersectTriangle(s,o,r,!0,a):l=i.intersectTriangle(r,o,s,t.side!==_p,a),l===null)return null;xf.copy(a),xf.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(xf);return c<n.near||c>n.far?null:{distance:c,point:xf.clone(),object:e}}function wf(e,t,n,i,r,o,s,a,l,c,u,f){Dr.fromBufferAttribute(r,c),Nr.fromBufferAttribute(r,u),Ir.fromBufferAttribute(r,f);const h=e.morphTargetInfluences;if(t.morphTargets&&o&&h){gf.set(0,0,0),yf.set(0,0,0),vf.set(0,0,0);for(let m=0,v=o.length;m<v;m++){const x=h[m],p=o[m];x!==0&&(km.fromBufferAttribute(p,c),Fm.fromBufferAttribute(p,u),Bm.fromBufferAttribute(p,f),s?(gf.addScaledVector(km,x),yf.addScaledVector(Fm,x),vf.addScaledVector(Bm,x)):(gf.addScaledVector(km.sub(Dr),x),yf.addScaledVector(Fm.sub(Nr),x),vf.addScaledVector(Bm.sub(Ir),x)))}Dr.add(gf),Nr.add(yf),Ir.add(vf)}e.isSkinnedMesh&&(e.boneTransform(c,Dr),e.boneTransform(u,Nr),e.boneTransform(f,Ir));const d=vS(e,t,n,i,Dr,Nr,Ir,Ql);if(d){a&&(Ks.fromBufferAttribute(a,c),Qs.fromBufferAttribute(a,u),ea.fromBufferAttribute(a,f),d.uv=jt.getUV(Ql,Dr,Nr,Ir,Ks,Qs,ea,new X)),l&&(Ks.fromBufferAttribute(l,c),Qs.fromBufferAttribute(l,u),ea.fromBufferAttribute(l,f),d.uv2=jt.getUV(Ql,Dr,Nr,Ir,Ks,Qs,ea,new X));const m=new Oc(c,u,f);jt.getNormal(Dr,Nr,Ir,m.normal),d.face=m}return d}let eO=0;const Ci=new Ge,zm=new ue,_f=new E;function ke(){Object.defineProperty(this,"id",{value:eO+=2}),this.uuid=ze.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}ke.prototype=Object.assign(Object.create(Gt.prototype),{constructor:ke,isGeometry:!0,applyMatrix4:function(e){const t=new sn().getNormalMatrix(e);for(let n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(e);for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];r.normal.applyMatrix3(t).normalize();for(let o=0,s=r.vertexNormals.length;o<s;o++)r.vertexNormals[o].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return Ci.makeRotationX(e),this.applyMatrix4(Ci),this},rotateY:function(e){return Ci.makeRotationY(e),this.applyMatrix4(Ci),this},rotateZ:function(e){return Ci.makeRotationZ(e),this.applyMatrix4(Ci),this},translate:function(e,t,n){return Ci.makeTranslation(e,t,n),this.applyMatrix4(Ci),this},scale:function(e,t,n){return Ci.makeScale(e,t,n),this.applyMatrix4(Ci),this},lookAt:function(e){return zm.lookAt(e),zm.updateMatrix(),this.applyMatrix4(zm.matrix),this},fromBufferGeometry:function(e){const t=this,n=e.index!==null?e.index:void 0,i=e.attributes;if(i.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const r=i.position,o=i.normal,s=i.color,a=i.uv,l=i.uv2;l!==void 0&&(this.faceVertexUvs[1]=[]);for(let f=0;f<r.count;f++)t.vertices.push(new E().fromBufferAttribute(r,f)),s!==void 0&&t.colors.push(new me().fromBufferAttribute(s,f));function c(f,h,d,m){const v=s===void 0?[]:[t.colors[f].clone(),t.colors[h].clone(),t.colors[d].clone()],x=o===void 0?[]:[new E().fromBufferAttribute(o,f),new E().fromBufferAttribute(o,h),new E().fromBufferAttribute(o,d)],p=new Oc(f,h,d,x,v,m);t.faces.push(p),a!==void 0&&t.faceVertexUvs[0].push([new X().fromBufferAttribute(a,f),new X().fromBufferAttribute(a,h),new X().fromBufferAttribute(a,d)]),l!==void 0&&t.faceVertexUvs[1].push([new X().fromBufferAttribute(l,f),new X().fromBufferAttribute(l,h),new X().fromBufferAttribute(l,d)])}const u=e.groups;if(u.length>0)for(let f=0;f<u.length;f++){const h=u[f],d=h.start,m=h.count;for(let v=d,x=d+m;v<x;v+=3)n!==void 0?c(n.getX(v),n.getX(v+1),n.getX(v+2),h.materialIndex):c(v,v+1,v+2,h.materialIndex)}else if(n!==void 0)for(let f=0;f<n.count;f+=3)c(n.getX(f),n.getX(f+1),n.getX(f+2));else for(let f=0;f<r.count;f+=3)c(f,f+1,f+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(_f).negate(),this.translate(_f.x,_f.y,_f.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=t===0?1:1/t,i=new Ge;return i.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals:function(){const e=new E,t=new E;for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],o=this.vertices[r.a],s=this.vertices[r.b],a=this.vertices[r.c];e.subVectors(a,s),t.subVectors(o,s),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){e===void 0&&(e=!0);const t=new Array(this.vertices.length);for(let n=0,i=this.vertices.length;n<i;n++)t[n]=new E;if(e){const n=new E,i=new E;for(let r=0,o=this.faces.length;r<o;r++){const s=this.faces[r],a=this.vertices[s.a],l=this.vertices[s.b],c=this.vertices[s.c];n.subVectors(c,l),i.subVectors(a,l),n.cross(i),t[s.a].add(n),t[s.b].add(n),t[s.c].add(n)}}else{this.computeFaceNormals();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n];t[r.a].add(r.normal),t[r.b].add(r.normal),t[r.c].add(r.normal)}}for(let n=0,i=this.vertices.length;n<i;n++)t[n].normalize();for(let n=0,i=this.faces.length;n<i;n++){const r=this.faces[n],o=r.vertexNormals;o.length===3?(o[0].copy(t[r.a]),o[1].copy(t[r.b]),o[2].copy(t[r.c])):(o[0]=t[r.a].clone(),o[1]=t[r.b].clone(),o[2]=t[r.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const n=this.faces[e],i=n.vertexNormals;i.length===3?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]);for(let r=0,o=i.vertexNormals.length;r<o;r++)i.__originalVertexNormals[r]?i.__originalVertexNormals[r].copy(i.vertexNormals[r]):i.__originalVertexNormals[r]=i.vertexNormals[r].clone()}const e=new ke;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const r=this.morphNormals[t].faceNormals,o=this.morphNormals[t].vertexNormals;for(let s=0,a=this.faces.length;s<a;s++){const l=new E,c={a:new E,b:new E,c:new E};r.push(l),o.push(c)}}const i=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let r=0,o=this.faces.length;r<o;r++){const s=this.faces[r],a=i.faceNormals[r],l=i.vertexNormals[r];a.copy(s.normal),l.a.copy(s.vertexNormals[0]),l.b.copy(s.vertexNormals[1]),l.c.copy(s.vertexNormals[2])}}for(let t=0,n=this.faces.length;t<n;t++){const i=this.faces[t];i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals}},computeBoundingBox:function(){this.boundingBox===null&&(this.boundingBox=new Zi),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){this.boundingSphere===null&&(this.boundingSphere=new Sr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let i,r=this.vertices.length,o=this.vertices,s=e.vertices,a=this.faces,l=e.faces,c=this.colors,u=e.colors;n===void 0&&(n=0),t!==void 0&&(i=new sn().getNormalMatrix(t));for(let f=0,h=s.length;f<h;f++){const m=s[f].clone();t!==void 0&&m.applyMatrix4(t),o.push(m)}for(let f=0,h=u.length;f<h;f++)c.push(u[f].clone());for(let f=0,h=l.length;f<h;f++){let d=l[f],m,v,x,p=d.vertexNormals,g=d.vertexColors;m=new Oc(d.a+r,d.b+r,d.c+r),m.normal.copy(d.normal),i!==void 0&&m.normal.applyMatrix3(i).normalize();for(let w=0,y=p.length;w<y;w++)v=p[w].clone(),i!==void 0&&v.applyMatrix3(i).normalize(),m.vertexNormals.push(v);m.color.copy(d.color);for(let w=0,y=g.length;w<y;w++)x=g[w],m.vertexColors.push(x.clone());m.materialIndex=d.materialIndex+n,a.push(m)}for(let f=0,h=e.faceVertexUvs.length;f<h;f++){const d=e.faceVertexUvs[f];this.faceVertexUvs[f]===void 0&&(this.faceVertexUvs[f]=[]);for(let m=0,v=d.length;m<v;m++){const x=d[m],p=[];for(let g=0,w=x.length;g<w;g++)p.push(x[g].clone());this.faceVertexUvs[f].push(p)}}},mergeMesh:function(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)},mergeVertices:function(){const e={},t=[],n=[],r=Math.pow(10,4);for(let a=0,l=this.vertices.length;a<l;a++){const c=this.vertices[a],u=Math.round(c.x*r)+"_"+Math.round(c.y*r)+"_"+Math.round(c.z*r);e[u]===void 0?(e[u]=a,t.push(this.vertices[a]),n[a]=t.length-1):n[a]=n[e[u]]}const o=[];for(let a=0,l=this.faces.length;a<l;a++){const c=this.faces[a];c.a=n[c.a],c.b=n[c.b],c.c=n[c.c];const u=[c.a,c.b,c.c];for(let f=0;f<3;f++)if(u[f]===u[(f+1)%3]){o.push(a);break}}for(let a=o.length-1;a>=0;a--){const l=o[a];this.faces.splice(l,1);for(let c=0,u=this.faceVertexUvs.length;c<u;c++)this.faceVertexUvs[c].splice(l,1)}const s=this.vertices.length-t.length;return this.vertices=t,s},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const i=e[t];this.vertices.push(new E(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let a=0;a<t;a++)e[a]._id=a;function n(a,l){return a.materialIndex-l.materialIndex}e.sort(n);const i=this.faceVertexUvs[0],r=this.faceVertexUvs[1];let o,s;i&&i.length===t&&(o=[]),r&&r.length===t&&(s=[]);for(let a=0;a<t;a++){const l=e[a]._id;o&&o.push(i[l]),s&&s.push(r[l])}o&&(this.faceVertexUvs[0]=o),s&&(this.faceVertexUvs[1]=s)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){const d=this.parameters;for(const m in d)d[m]!==void 0&&(e[m]=d[m]);return e}const t=[];for(let d=0;d<this.vertices.length;d++){const m=this.vertices[d];t.push(m.x,m.y,m.z)}const n=[],i=[],r={},o=[],s={},a=[],l={};for(let d=0;d<this.faces.length;d++){const m=this.faces[d],v=!0,x=!1,p=this.faceVertexUvs[0][d]!==void 0,g=m.normal.length()>0,w=m.vertexNormals.length>0,y=m.color.r!==1||m.color.g!==1||m.color.b!==1,_=m.vertexColors.length>0;let b=0;if(b=c(b,0,0),b=c(b,1,v),b=c(b,2,x),b=c(b,3,p),b=c(b,4,g),b=c(b,5,w),b=c(b,6,y),b=c(b,7,_),n.push(b),n.push(m.a,m.b,m.c),n.push(m.materialIndex),p){const M=this.faceVertexUvs[0][d];n.push(h(M[0]),h(M[1]),h(M[2]))}if(g&&n.push(u(m.normal)),w){const M=m.vertexNormals;n.push(u(M[0]),u(M[1]),u(M[2]))}if(y&&n.push(f(m.color)),_){const M=m.vertexColors;n.push(f(M[0]),f(M[1]),f(M[2]))}}function c(d,m,v){return v?d|1<<m:d&~(1<<m)}function u(d){const m=d.x.toString()+d.y.toString()+d.z.toString();return r[m]!==void 0||(r[m]=i.length/3,i.push(d.x,d.y,d.z)),r[m]}function f(d){const m=d.r.toString()+d.g.toString()+d.b.toString();return s[m]!==void 0||(s[m]=o.length,o.push(d.getHex())),s[m]}function h(d){const m=d.x.toString()+d.y.toString();return l[m]!==void 0||(l[m]=a.length/2,a.push(d.x,d.y)),l[m]}return e.data={},e.data.vertices=t,e.data.normals=i,o.length>0&&(e.data.colors=o),a.length>0&&(e.data.uvs=[a]),e.data.faces=n,e},clone:function(){return new ke().copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let f=0,h=t.length;f<h;f++)this.vertices.push(t[f].clone());const n=e.colors;for(let f=0,h=n.length;f<h;f++)this.colors.push(n[f].clone());const i=e.faces;for(let f=0,h=i.length;f<h;f++)this.faces.push(i[f].clone());for(let f=0,h=e.faceVertexUvs.length;f<h;f++){const d=e.faceVertexUvs[f];this.faceVertexUvs[f]===void 0&&(this.faceVertexUvs[f]=[]);for(let m=0,v=d.length;m<v;m++){const x=d[m],p=[];for(let g=0,w=x.length;g<w;g++){const y=x[g];p.push(y.clone())}this.faceVertexUvs[f].push(p)}}const r=e.morphTargets;for(let f=0,h=r.length;f<h;f++){const d={};if(d.name=r[f].name,r[f].vertices!==void 0){d.vertices=[];for(let m=0,v=r[f].vertices.length;m<v;m++)d.vertices.push(r[f].vertices[m].clone())}if(r[f].normals!==void 0){d.normals=[];for(let m=0,v=r[f].normals.length;m<v;m++)d.normals.push(r[f].normals[m].clone())}this.morphTargets.push(d)}const o=e.morphNormals;for(let f=0,h=o.length;f<h;f++){const d={};if(o[f].vertexNormals!==void 0){d.vertexNormals=[];for(let m=0,v=o[f].vertexNormals.length;m<v;m++){const x=o[f].vertexNormals[m],p={};p.a=x.a.clone(),p.b=x.b.clone(),p.c=x.c.clone(),d.vertexNormals.push(p)}}if(o[f].faceNormals!==void 0){d.faceNormals=[];for(let m=0,v=o[f].faceNormals.length;m<v;m++)d.faceNormals.push(o[f].faceNormals[m].clone())}this.morphNormals.push(d)}const s=e.skinWeights;for(let f=0,h=s.length;f<h;f++)this.skinWeights.push(s[f].clone());const a=e.skinIndices;for(let f=0,h=a.length;f<h;f++)this.skinIndices.push(a[f].clone());const l=e.lineDistances;for(let f=0,h=l.length;f<h;f++)this.lineDistances.push(l[f]);const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class xS extends ke{constructor(t,n,i,r,o,s){super(),this.type="BoxGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:s},this.fromBufferGeometry(new Tp(t,n,i,r,o,s)),this.mergeVertices()}}class Tp extends ve{constructor(t,n,i,r,o,s){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:n,depth:i,widthSegments:r,heightSegments:o,depthSegments:s};const a=this;t=t||1,n=n||1,i=i||1,r=Math.floor(r)||1,o=Math.floor(o)||1,s=Math.floor(s)||1;const l=[],c=[],u=[],f=[];let h=0,d=0;m("z","y","x",-1,-1,i,n,t,s,o,0),m("z","y","x",1,-1,i,n,-t,s,o,1),m("x","z","y",1,1,t,i,n,r,s,2),m("x","z","y",1,-1,t,i,-n,r,s,3),m("x","y","z",1,-1,t,n,i,r,o,4),m("x","y","z",-1,-1,t,n,-i,r,o,5),this.setIndex(l),this.setAttribute("position",new de(c,3)),this.setAttribute("normal",new de(u,3)),this.setAttribute("uv",new de(f,2));function m(v,x,p,g,w,y,_,b,M,N,S){const U=y/M,R=_/N,F=y/2,k=_/2,P=b/2,C=M+1,B=N+1;let L=0,I=0;const H=new E;for(let W=0;W<B;W++){const ee=W*R-k;for(let ce=0;ce<C;ce++){const ge=ce*U-F;H[v]=ge*g,H[x]=ee*w,H[p]=P,c.push(H.x,H.y,H.z),H[v]=0,H[x]=0,H[p]=b>0?1:-1,u.push(H.x,H.y,H.z),f.push(ce/M),f.push(1-W/N),L+=1}}for(let W=0;W<N;W++)for(let ee=0;ee<M;ee++){const ce=h+ee+C*W,ge=h+ee+C*(W+1),Re=h+(ee+1)+C*(W+1),Se=h+(ee+1)+C*W;l.push(ce,ge,Se),l.push(ge,Re,Se),I+=6}a.addGroup(d,I,S),d+=I,h+=L}}}function Sa(e){const t={};for(const n in e){t[n]={};for(const i in e[n]){const r=e[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?t[n][i]=r.clone():Array.isArray(r)?t[n][i]=r.slice():t[n][i]=r}}return t}function Jt(e){const t={};for(let n=0;n<e.length;n++){const i=Sa(e[n]);for(const r in i)t[r]=i[r]}return t}const tO={clone:Sa,merge:Jt};var nO=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,iO=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;function un(e){Ie.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader=nO,this.fragmentShader=iO,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,e!==void 0&&(e.attributes!==void 0&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}un.prototype=Object.create(Ie.prototype);un.prototype.constructor=un;un.prototype.isShaderMaterial=!0;un.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Sa(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this};un.prototype.toJSON=function(e){const t=Ie.prototype.toJSON.call(this,e);t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t};function yr(){ue.call(this),this.type="Camera",this.matrixWorldInverse=new Ge,this.projectionMatrix=new Ge,this.projectionMatrixInverse=new Ge}yr.prototype=Object.assign(Object.create(ue.prototype),{constructor:yr,isCamera:!0,copy:function(e,t){return ue.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){e===void 0&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new E),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){ue.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){ue.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return new this.constructor().copy(this)}});function Pt(e,t,n,i){yr.call(this),this.type="PerspectiveCamera",this.fov=e!==void 0?e:50,this.zoom=1,this.near=n!==void 0?n:.1,this.far=i!==void 0?i:2e3,this.focus=10,this.aspect=t!==void 0?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Pt.prototype=Object.assign(Object.create(yr.prototype),{constructor:Pt,isPerspectiveCamera:!0,copy:function(e,t){return yr.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=ze.RAD2DEG*2*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(ze.DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/e},getEffectiveFOV:function(){return ze.RAD2DEG*2*Math.atan(Math.tan(ze.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,i,r,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){let e=this.near,t=e*Math.tan(ze.DEG2RAD*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,r=-.5*i,o=this.view;if(this.view!==null&&this.view.enabled){const a=o.fullWidth,l=o.fullHeight;r+=o.offsetX*i/a,t-=o.offsetY*n/l,i*=o.width/a,n*=o.height/l}const s=this.filmOffset;s!==0&&(r+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=ue.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});const As=90,Ps=1;function Ic(e,t,n){if(ue.call(this),this.type="CubeCamera",n.isWebGLCubeRenderTarget!==!0){console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");return}this.renderTarget=n;const i=new Pt(As,Ps,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new E(1,0,0)),this.add(i);const r=new Pt(As,Ps,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new E(-1,0,0)),this.add(r);const o=new Pt(As,Ps,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new E(0,1,0)),this.add(o);const s=new Pt(As,Ps,e,t);s.layers=this.layers,s.up.set(0,0,-1),s.lookAt(new E(0,-1,0)),this.add(s);const a=new Pt(As,Ps,e,t);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new E(0,0,1)),this.add(a);const l=new Pt(As,Ps,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new E(0,0,-1)),this.add(l),this.update=function(c,u){this.parent===null&&this.updateMatrixWorld();const f=c.xr.enabled,h=c.getRenderTarget();c.xr.enabled=!1;const d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,c.setRenderTarget(n,0),c.render(u,i),c.setRenderTarget(n,1),c.render(u,r),c.setRenderTarget(n,2),c.render(u,o),c.setRenderTarget(n,3),c.render(u,s),c.setRenderTarget(n,4),c.render(u,a),n.texture.generateMipmaps=d,c.setRenderTarget(n,5),c.render(u,l),c.setRenderTarget(h),c.xr.enabled=f},this.clear=function(c,u,f,h){const d=c.getRenderTarget();for(let m=0;m<6;m++)c.setRenderTarget(n,m),c.clear(u,f,h);c.setRenderTarget(d)}}Ic.prototype=Object.create(ue.prototype);Ic.prototype.constructor=Ic;function kc(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),Yn.call(this,e,e,t)}kc.prototype=Object.create(Yn.prototype);kc.prototype.constructor=kc;kc.prototype.isWebGLCubeRenderTarget=!0;kc.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;const n=new Rc,i={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","	vWorldDirection = transformDirection( position, modelMatrix );","	#include <begin_vertex>","	#include <project_vertex>","}"].join(`
`),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#include <common>","void main() {","	vec3 direction = normalize( vWorldDirection );","	vec2 sampleUV = equirectUv( direction );","	gl_FragColor = texture2D( tEquirect, sampleUV );","}"].join(`
`)},r=new un({name:"CubemapFromEquirect",uniforms:Sa(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:At,blending:so});r.uniforms.tEquirect.value=t;const o=new Je(new Tp(5,5,5),r);return n.add(o),new Ic(1,10,this).update(e,n),o.geometry.dispose(),o.material.dispose(),this};function Ta(e,t,n,i,r,o,s,a,l,c,u,f){nt.call(this,null,o,s,a,l,c,i,r,u,f),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=l!==void 0?l:Ut,this.minFilter=c!==void 0?c:Ut,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Ta.prototype=Object.create(nt.prototype);Ta.prototype.constructor=Ta;Ta.prototype.isDataTexture=!0;const Cs=new Sr,bf=new E;function Ou(e,t,n,i,r,o){this.planes=[e!==void 0?e:new Oi,t!==void 0?t:new Oi,n!==void 0?n:new Oi,i!==void 0?i:new Oi,r!==void 0?r:new Oi,o!==void 0?o:new Oi]}Object.assign(Ou.prototype,{set:function(e,t,n,i,r,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(n),s[3].copy(i),s[4].copy(r),s[5].copy(o),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromProjectionMatrix:function(e){const t=this.planes,n=e.elements,i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=n[7],f=n[8],h=n[9],d=n[10],m=n[11],v=n[12],x=n[13],p=n[14],g=n[15];return t[0].setComponents(s-i,u-a,m-f,g-v).normalize(),t[1].setComponents(s+i,u+a,m+f,g+v).normalize(),t[2].setComponents(s+r,u+l,m+h,g+x).normalize(),t[3].setComponents(s-r,u-l,m-h,g-x).normalize(),t[4].setComponents(s-o,u-c,m-d,g-p).normalize(),t[5].setComponents(s+o,u+c,m+d,g+p).normalize(),this},intersectsObject:function(e){const t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Cs.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Cs)},intersectsSprite:function(e){return Cs.center.set(0,0,0),Cs.radius=.7071067811865476,Cs.applyMatrix4(e.matrixWorld),this.intersectsSphere(Cs)},intersectsSphere:function(e){const t=this.planes,n=e.center,i=-e.radius;for(let r=0;r<6;r++)if(t[r].distanceToPoint(n)<i)return!1;return!0},intersectsBox:function(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(bf.x=i.normal.x>0?e.max.x:e.min.x,bf.y=i.normal.y>0?e.max.y:e.min.y,bf.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(bf)<0)return!1}return!0},containsPoint:function(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});const he={common:{diffuse:{value:new me(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new sn},uv2Transform:{value:new sn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new X(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new me(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new me(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new sn}},sprite:{diffuse:{value:new me(15658734)},opacity:{value:1},center:{value:new X(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new sn}}};function wS(){let e=null,t=!1,n=null,i=null;function r(o,s){n(o,s),i=e.requestAnimationFrame(r)}return{start:function(){t!==!0&&n!==null&&(i=e.requestAnimationFrame(r),t=!0)},stop:function(){e.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(o){n=o},setContext:function(o){e=o}}}function rO(e,t){const n=t.isWebGL2,i=new WeakMap;function r(c,u){const f=c.array,h=c.usage,d=e.createBuffer();e.bindBuffer(u,d),e.bufferData(u,f,h),c.onUploadCallback();let m=5126;return f instanceof Float32Array?m=5126:f instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):f instanceof Uint16Array?m=5123:f instanceof Int16Array?m=5122:f instanceof Uint32Array?m=5125:f instanceof Int32Array?m=5124:f instanceof Int8Array?m=5120:f instanceof Uint8Array&&(m=5121),{buffer:d,type:m,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function o(c,u,f){const h=u.array,d=u.updateRange;e.bindBuffer(f,c),d.count===-1?e.bufferSubData(f,0,h):(n?e.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h,d.offset,d.count):e.bufferSubData(f,d.offset*h.BYTES_PER_ELEMENT,h.subarray(d.offset,d.offset+d.count)),d.count=-1)}function s(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(e.deleteBuffer(u.buffer),i.delete(c))}function l(c,u){c.isInterleavedBufferAttribute&&(c=c.data);const f=i.get(c);f===void 0?i.set(c,r(c,u)):f.version<c.version&&(o(f.buffer,c,u),f.version=c.version)}return{get:s,remove:a,update:l}}function cd(e,t,n,i){ke.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Aa(e,t,n,i)),this.mergeVertices()}cd.prototype=Object.create(ke.prototype);cd.prototype.constructor=cd;function Aa(e,t,n,i){ve.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i},e=e||1,t=t||1;const r=e/2,o=t/2,s=Math.floor(n)||1,a=Math.floor(i)||1,l=s+1,c=a+1,u=e/s,f=t/a,h=[],d=[],m=[],v=[];for(let x=0;x<c;x++){const p=x*f-o;for(let g=0;g<l;g++){const w=g*u-r;d.push(w,-p,0),m.push(0,0,1),v.push(g/s),v.push(1-x/a)}}for(let x=0;x<a;x++)for(let p=0;p<s;p++){const g=p+l*x,w=p+l*(x+1),y=p+1+l*(x+1),_=p+1+l*x;h.push(g,w,_),h.push(w,y,_)}this.setIndex(h),this.setAttribute("position",new de(d,3)),this.setAttribute("normal",new de(m,3)),this.setAttribute("uv",new de(v,2))}Aa.prototype=Object.create(ve.prototype);Aa.prototype.constructor=Aa;var oO=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,sO=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aO=`#ifdef ALPHATEST
	if ( diffuseColor.a < ALPHATEST ) discard;
#endif`,lO=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );
	#endif
#endif`,cO=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,uO="vec3 transformed = vec3( position );",fO=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,hO=`vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	return vec2( -1.04, 1.04 ) * a004 + r.zw;
}
float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
#if defined ( PHYSICALLY_CORRECT_LIGHTS )
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
#else
	if( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
		return pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );
	}
	return 1.0;
#endif
}
vec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {
	float fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );
	return ( 1.0 - specularColor ) * fresnel + specularColor;
}
vec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {
	float fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );
	vec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;
	return Fr * fresnel + F0;
}
float G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	float gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	return 1.0 / ( gl * gv );
}
float G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( incidentLight.direction + viewDir );
	float dotNL = saturate( dot( normal, incidentLight.direction ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( G * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE  = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS  = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
vec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	return specularColor * brdf.x + brdf.y;
}
void BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
	float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
	vec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );
	vec2 brdf = integrateSpecularBRDF( dotNV, roughness );
	vec3 FssEss = F * brdf.x + brdf.y;
	float Ess = brdf.x + brdf.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );
	float dotNH = saturate( dot( geometry.normal, halfDir ) );
	float dotLH = saturate( dot( incidentLight.direction, halfDir ) );
	vec3 F = F_Schlick( specularColor, dotLH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
float GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {
	return ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );
}
float BlinnExponentToGGXRoughness( const in float blinnExponent ) {
	return sqrt( 2.0 / ( blinnExponent + 2.0 ) );
}
#if defined( USE_SHEEN )
float D_Charlie(float roughness, float NoH) {
	float invAlpha  = 1.0 / roughness;
	float cos2h = NoH * NoH;
	float sin2h = max(1.0 - cos2h, 0.0078125);	return (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);
}
float V_Neubelt(float NoV, float NoL) {
	return saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));
}
vec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {
	vec3 N = geometry.normal;
	vec3 V = geometry.viewDir;
	vec3 H = normalize( V + L );
	float dotNH = saturate( dot( N, H ) );
	return specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );
}
#endif`,dO=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {
		vec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );
		vec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 );
		fDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,pO=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,mO=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,gO=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,yO=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,vO=`#ifdef USE_COLOR
	diffuseColor.rgb *= vColor;
#endif`,xO=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,wO=`#ifdef USE_COLOR
	varying vec3 vColor;
#endif`,_O=`#ifdef USE_COLOR
	vColor.xyz = color.xyz;
#endif`,bO=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement(a) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract(sin(sn) * c);
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
vec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	float distance = dot( planeNormal, point - pointOnPlane );
	return - distance * planeNormal + point;
}
float sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return sign( dot( point - pointOnPlane, planeNormal ) );
}
vec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {
	return lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float linearToRelativeLuminance( const in vec3 color ) {
	vec3 weights = vec3( 0.2126, 0.7152, 0.0722 );
	return dot( weights, color.rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
  return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,MO=`#ifdef ENVMAP_TYPE_CUBE_UV
#define cubeUV_maxMipLevel 8.0
#define cubeUV_minMipLevel 4.0
#define cubeUV_maxTileSize 256.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction) {
    vec3 absDirection = abs(direction);
    float face = -1.0;
    if (absDirection.x > absDirection.z) {
      if (absDirection.x > absDirection.y)
        face = direction.x > 0.0 ? 0.0 : 3.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    } else {
      if (absDirection.z > absDirection.y)
        face = direction.z > 0.0 ? 2.0 : 5.0;
      else
        face = direction.y > 0.0 ? 1.0 : 4.0;
    }
    return face;
}
vec2 getUV(vec3 direction, float face) {
    vec2 uv;
    if (face == 0.0) {
      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {
      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {
      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {
      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {
      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {
      uv = vec2(direction.x, direction.y) / abs(direction.z);    }
    return 0.5 * (uv + 1.0);
}
vec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
  float face = getFace(direction);
  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
  mipInt = max(mipInt, cubeUV_minMipLevel);
  float faceSize = exp2(mipInt);
  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
  vec2 uv = getUV(direction, face) * (faceSize - 1.0);
  vec2 f = fract(uv);
  uv += 0.5 - f;
  if (face > 2.0) {
    uv.y += faceSize;
    face -= 3.0;
  }
  uv.x += face * faceSize;
  if(mipInt < cubeUV_maxMipLevel){
    uv.y += 2.0 * cubeUV_maxTileSize;
  }
  uv.y += filterInt * 2.0 * cubeUV_minTileSize;
  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
  uv *= texelSize;
  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x += texelSize;
  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.y += texelSize;
  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  uv.x -= texelSize;
  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
  vec3 tm = mix(tl, tr, f.x);
  vec3 bm = mix(bl, br, f.x);
  return mix(tm, bm, f.y);
}
#define r0 1.0
#define v0 0.339
#define m0 -2.0
#define r1 0.8
#define v1 0.276
#define m1 -1.0
#define r4 0.4
#define v4 0.046
#define m4 2.0
#define r5 0.305
#define v5 0.016
#define m5 3.0
#define r6 0.21
#define v6 0.0038
#define m6 4.0
float roughnessToMip(float roughness) {
  float mip = 0.0;
  if (roughness >= r1) {
    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
  } else if (roughness >= r4) {
    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
  } else if (roughness >= r5) {
    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
  } else if (roughness >= r6) {
    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
  } else {
    mip = -2.0 * log2(1.16 * roughness);  }
  return mip;
}
vec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {
  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);
  float mipF = fract(mip);
  float mipInt = floor(mip);
  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);
  if (mipF == 0.0) {
    return vec4(color0, 1.0);
  } else {
    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);
    return vec4(mix(color0, color1, mipF), 1.0);
  }
}
#endif`,EO=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,SO=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,TO=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,AO=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	emissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,PO=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,CO="gl_FragColor = linearToOutputTexel( gl_FragColor );",LO=`
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 GammaToLinear( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );
}
vec4 LinearToGamma( in vec4 value, in float gammaFactor ) {
	return vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );
}
vec4 sRGBToLinear( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 RGBEToLinear( in vec4 value ) {
	return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );
}
vec4 LinearToRGBE( in vec4 value ) {
	float maxComponent = max( max( value.r, value.g ), value.b );
	float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );
	return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );
}
vec4 RGBMToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * value.a * maxRange, 1.0 );
}
vec4 LinearToRGBM( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float M = clamp( maxRGB / maxRange, 0.0, 1.0 );
	M = ceil( M * 255.0 ) / 255.0;
	return vec4( value.rgb / ( M * maxRange ), M );
}
vec4 RGBDToLinear( in vec4 value, in float maxRange ) {
	return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );
}
vec4 LinearToRGBD( in vec4 value, in float maxRange ) {
	float maxRGB = max( value.r, max( value.g, value.b ) );
	float D = max( maxRange / maxRGB, 1.0 );
	D = clamp( floor( D ) / 255.0, 0.0, 1.0 );
	return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );
}
const mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );
vec4 LinearToLogLuv( in vec4 value )  {
	vec3 Xp_Y_XYZp = cLogLuvM * value.rgb;
	Xp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );
	vec4 vResult;
	vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;
	float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;
	vResult.w = fract( Le );
	vResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;
	return vResult;
}
const mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );
vec4 LogLuvToLinear( in vec4 value ) {
	float Le = value.z * 255.0 + value.w;
	vec3 Xp_Y_XYZp;
	Xp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );
	Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;
	Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;
	vec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;
	return vec4( max( vRGB, 0.0 ), 1.0 );
}`,RO=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		}  else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );
	#elif defined( ENVMAP_TYPE_EQUIREC )
		reflectVec = normalize( reflectVec );
		vec2 sampleUV = equirectUv( reflectVec );
		vec4 envColor = texture2D( envMap, sampleUV );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifndef ENVMAP_TYPE_CUBE_UV
		envColor = envMapTexelToLinear( envColor );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,OO=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform int maxMipLevel;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,DO=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,NO=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,IO=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) { 
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,kO=`#ifdef USE_FOG
	fogDepth = -mvPosition.z;
#endif`,FO=`#ifdef USE_FOG
	varying float fogDepth;
#endif`,BO=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, fogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,zO=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float fogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,UO=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return texture2D( gradientMap, coord ).rgb;
	#else
		return ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );
	#endif
}`,HO=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel= texture2D( lightMap, vUv2 );
	reflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
#endif`,GO=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,VO=`vec3 diffuse = vec3( 1.0 );
GeometricContext geometry;
geometry.position = mvPosition.xyz;
geometry.normal = normalize( transformedNormal );
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
GeometricContext backGeometry;
backGeometry.position = geometry.position;
backGeometry.normal = -geometry.normal;
backGeometry.viewDir = geometry.viewDir;
vLightFront = vec3( 0.0 );
vIndirectFront = vec3( 0.0 );
#ifdef DOUBLE_SIDED
	vLightBack = vec3( 0.0 );
	vIndirectBack = vec3( 0.0 );
#endif
IncidentLight directLight;
float dotNL;
vec3 directLightColor_Diffuse;
vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
vIndirectFront += getLightProbeIrradiance( lightProbe, geometry );
#ifdef DOUBLE_SIDED
	vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
	vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );
#endif
#if NUM_POINT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		getPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_SPOT_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		getSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_DIR_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );
		dotNL = dot( geometry.normal, directLight.direction );
		directLightColor_Diffuse = PI * directLight.color;
		vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
		#ifdef DOUBLE_SIDED
			vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
		#endif
	}
	#pragma unroll_loop_end
#endif
#if NUM_HEMI_LIGHTS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
		vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		#ifdef DOUBLE_SIDED
			vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );
		#endif
	}
	#pragma unroll_loop_end
#endif`,WO=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {
	vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	return irradiance;
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		directLight.color = directionalLight.color;
		directLight.direction = directionalLight.direction;
		directLight.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {
		vec3 lVector = pointLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		directLight.color = pointLight.color;
		directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );
		directLight.visible = ( directLight.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {
		vec3 lVector = spotLight.position - geometry.position;
		directLight.direction = normalize( lVector );
		float lightDistance = length( lVector );
		float angleCos = dot( directLight.direction, spotLight.direction );
		if ( angleCos > spotLight.coneCos ) {
			float spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );
			directLight.color = spotLight.color;
			directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );
			directLight.visible = true;
		} else {
			directLight.color = vec3( 0.0 );
			directLight.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {
		float dotNL = dot( geometry.normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			irradiance *= PI;
		#endif
		return irradiance;
	}
#endif`,jO=`#if defined( USE_ENVMAP )
	#ifdef ENVMAP_MODE_REFRACTION
		uniform float refractionRatio;
	#endif
	vec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {
		vec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );
			#else
				vec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
		#else
			vec4 envMapColor = vec4( 0.0 );
		#endif
		return PI * envMapColor.rgb * envMapIntensity;
	}
	float getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {
		float maxMIPLevelScalar = float( maxMIPLevel );
		float sigma = PI * roughness * roughness / ( 1.0 + roughness );
		float desiredMIPLevel = maxMIPLevelScalar + log2( sigma );
		return clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );
	}
	vec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {
		#ifdef ENVMAP_MODE_REFLECTION
		  vec3 reflectVec = reflect( -viewDir, normal );
		  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
		#else
		  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );
		#endif
		reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
		float specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );
		#ifdef ENVMAP_TYPE_CUBE
			vec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );
			#else
				vec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#elif defined( ENVMAP_TYPE_CUBE_UV )
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
		#elif defined( ENVMAP_TYPE_EQUIREC )
			vec2 sampleUV = equirectUv( reflectVec );
			#ifdef TEXTURE_LOD_EXT
				vec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );
			#else
				vec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );
			#endif
			envMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;
		#endif
		return envMapColor.rgb * envMapIntensity;
	}
#endif`,qO=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,$O=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct ToonMaterial {
	vec3	diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
#define Material_LightProbeLOD( material )	(0)`,XO=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,YO=`varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
struct BlinnPhongMaterial {
	vec3	diffuseColor;
	vec3	specularColor;
	float	specularShininess;
	float	specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong
#define Material_LightProbeLOD( material )	(0)`,JO=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;
material.specularRoughness = min( material.specularRoughness, 1.0 );
#ifdef REFLECTIVITY
	material.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );
#endif
#ifdef CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheen;
#endif`,ZO=`struct PhysicalMaterial {
	vec3	diffuseColor;
	float	specularRoughness;
	vec3	specularColor;
#ifdef CLEARCOAT
	float clearcoat;
	float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	vec3 sheenColor;
#endif
};
#define MAXIMUM_SPECULAR_COEFFICIENT 0.16
#define DEFAULT_SPECULAR_COEFFICIENT 0.04
float clearcoatDHRApprox( const in float roughness, const in float dotNL ) {
	return DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.specularRoughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifndef PHYSICALLY_CORRECT_LIGHTS
		irradiance *= PI;
	#endif
	#ifdef CLEARCOAT
		float ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = ccDotNL * directLight.color;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			ccIrradiance *= PI;
		#endif
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
		reflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
	#else
		float clearcoatDHR = 0.0;
	#endif
	#ifdef USE_SHEEN
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(
			material.specularRoughness,
			directLight.direction,
			geometry,
			material.sheenColor
		);
	#else
		reflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);
	#endif
	reflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef CLEARCOAT
		float ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		reflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );
		float ccDotNL = ccDotNV;
		float clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );
	#else
		float clearcoatDHR = 0.0;
	#endif
	float clearcoatInv = 1.0 - clearcoatDHR;
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	BRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );
	vec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );
	reflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,KO=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointDirectLightIrradiance( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotDirectLightIrradiance( spotLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,QO=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
		#ifndef PHYSICALLY_CORRECT_LIGHTS
			lightMapIrradiance *= PI;
		#endif
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );
	#ifdef CLEARCOAT
		clearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );
	#endif
#endif`,eD=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,tD=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,nD=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,iD=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,rD=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,oD=`#ifdef USE_MAP
	vec4 texelColor = texture2D( map, vUv );
	texelColor = mapTexelToLinear( texelColor );
	diffuseColor *= texelColor;
#endif`,sD=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,aD=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	vec4 mapTexel = texture2D( map, uv );
	diffuseColor *= mapTexelToLinear( mapTexel );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,lD=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,cD=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,uD=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,fD=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
	objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
	objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
	objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
#endif`,hD=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifndef USE_MORPHNORMALS
	uniform float morphTargetInfluences[ 8 ];
	#else
	uniform float morphTargetInfluences[ 4 ];
	#endif
#endif`,dD=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	transformed += morphTarget0 * morphTargetInfluences[ 0 ];
	transformed += morphTarget1 * morphTargetInfluences[ 1 ];
	transformed += morphTarget2 * morphTargetInfluences[ 2 ];
	transformed += morphTarget3 * morphTargetInfluences[ 3 ];
	#ifndef USE_MORPHNORMALS
	transformed += morphTarget4 * morphTargetInfluences[ 4 ];
	transformed += morphTarget5 * morphTargetInfluences[ 5 ];
	transformed += morphTarget6 * morphTargetInfluences[ 6 ];
	transformed += morphTarget7 * morphTargetInfluences[ 7 ];
	#endif
#endif`,pD=`#ifdef FLAT_SHADED
	vec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );
	vec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
			bitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,mD=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( -vViewPosition, normal, mapN );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );
#endif`,gD=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {
		vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );
		vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		float scale = sign( st1.t * st0.s - st0.t * st1.s );
		vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );
		vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );
		vec3 N = normalize( surf_norm );
		mat3 tsn = mat3( S, T, N );
		mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );
		return normalize( tsn * mapN );
	}
#endif`,yD=`#ifdef CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,vD=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );
	#endif
#endif`,xD=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,wD=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return (( near + viewZ ) * far ) / (( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,_D=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,bD=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,MD=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,ED=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,SD=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,TD=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,AD=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
		bool inFrustum = all( inFrustumVec );
		bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );
		bool frustumTest = all( frustumTestVec );
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), 
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), 
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,PD=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];
		varying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,CD=`#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );
		vSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,LD=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,RD=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,OD=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	#ifdef BONE_TEXTURE
		uniform highp sampler2D boneTexture;
		uniform int boneTextureSize;
		mat4 getBoneMatrix( const in float i ) {
			float j = i * 4.0;
			float x = mod( j, float( boneTextureSize ) );
			float y = floor( j / float( boneTextureSize ) );
			float dx = 1.0 / float( boneTextureSize );
			float dy = 1.0 / float( boneTextureSize );
			y = dy * ( y + 0.5 );
			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
			mat4 bone = mat4( v1, v2, v3, v4 );
			return bone;
		}
	#else
		uniform mat4 boneMatrices[ MAX_BONES ];
		mat4 getBoneMatrix( const in float i ) {
			mat4 bone = boneMatrices[ int(i) ];
			return bone;
		}
	#endif
#endif`,DD=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,ND=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,ID=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,kD=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,FD=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,BD=`#ifndef saturate
#define saturate(a) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,zD=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,UD=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,HD=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,GD=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,VD=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,WD=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,jD=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,qD=`uniform sampler2D t2D;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,$D=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,XD=`#include <envmap_common_pars_fragment>
uniform float opacity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	vec3 vReflect = vWorldDirection;
	#include <envmap_fragment>
	gl_FragColor = envColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,YD=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,JD=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,ZD=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,KD=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,QD=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,eN=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	vec4 texColor = texture2D( tEquirect, sampleUV );
	gl_FragColor = mapTexelToLinear( texColor );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,tN=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,nN=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,iN=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rN=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
	
		vec4 lightMapTexel= texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oN=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <skinbase_vertex>
	#ifdef USE_ENVMAP
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,sN=`uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <fog_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <emissivemap_fragment>
	#ifdef DOUBLE_SIDED
		reflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;
	#else
		reflectedLight.indirectDiffuse += vIndirectFront;
	#endif
	#include <lightmap_fragment>
	reflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );
	#ifdef DOUBLE_SIDED
		reflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;
	#else
		reflectedLight.directDiffuse = vLightFront;
	#endif
	reflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,aN=`#define LAMBERT
varying vec3 vLightFront;
varying vec3 vIndirectFront;
#ifdef DOUBLE_SIDED
	varying vec3 vLightBack;
	varying vec3 vIndirectBack;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <bsdfs>
#include <lights_pars_begin>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <lights_lambert_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,lN=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
		matcapColor = matcapTexelToLinear( matcapColor );
	#else
		vec4 matcapColor = vec4( 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cN=`#define MATCAP
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#ifndef FLAT_SHADED
		vNormal = normalize( transformedNormal );
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,uN=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fN=`#define TOON
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hN=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dN=`#define PHONG
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,pN=`#define STANDARD
#ifdef PHYSICAL
	#define REFLECTIVITY
	#define CLEARCOAT
	#define TRANSPARENCY
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef TRANSPARENCY
	uniform float transparency;
#endif
#ifdef REFLECTIVITY
	uniform float reflectivity;
#endif
#ifdef CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheen;
#endif
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <lights_physical_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#ifdef TRANSPARENCY
		diffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );
	#endif
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mN=`#define STANDARD
varying vec3 vViewPosition;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gN=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <packing>
#include <uv_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
}`,yN=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,vN=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xN=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,wN=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,_N=`#include <common>
#include <fog_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <begin_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bN=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	gl_FragColor = vec4( outgoingLight, diffuseColor.a );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,MN=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`;const Ve={alphamap_fragment:oO,alphamap_pars_fragment:sO,alphatest_fragment:aO,aomap_fragment:lO,aomap_pars_fragment:cO,begin_vertex:uO,beginnormal_vertex:fO,bsdfs:hO,bumpmap_pars_fragment:dO,clipping_planes_fragment:pO,clipping_planes_pars_fragment:mO,clipping_planes_pars_vertex:gO,clipping_planes_vertex:yO,color_fragment:vO,color_pars_fragment:xO,color_pars_vertex:wO,color_vertex:_O,common:bO,cube_uv_reflection_fragment:MO,defaultnormal_vertex:EO,displacementmap_pars_vertex:SO,displacementmap_vertex:TO,emissivemap_fragment:AO,emissivemap_pars_fragment:PO,encodings_fragment:CO,encodings_pars_fragment:LO,envmap_fragment:RO,envmap_common_pars_fragment:OO,envmap_pars_fragment:DO,envmap_pars_vertex:NO,envmap_physical_pars_fragment:jO,envmap_vertex:IO,fog_vertex:kO,fog_pars_vertex:FO,fog_fragment:BO,fog_pars_fragment:zO,gradientmap_pars_fragment:UO,lightmap_fragment:HO,lightmap_pars_fragment:GO,lights_lambert_vertex:VO,lights_pars_begin:WO,lights_toon_fragment:qO,lights_toon_pars_fragment:$O,lights_phong_fragment:XO,lights_phong_pars_fragment:YO,lights_physical_fragment:JO,lights_physical_pars_fragment:ZO,lights_fragment_begin:KO,lights_fragment_maps:QO,lights_fragment_end:eD,logdepthbuf_fragment:tD,logdepthbuf_pars_fragment:nD,logdepthbuf_pars_vertex:iD,logdepthbuf_vertex:rD,map_fragment:oD,map_pars_fragment:sD,map_particle_fragment:aD,map_particle_pars_fragment:lD,metalnessmap_fragment:cD,metalnessmap_pars_fragment:uD,morphnormal_vertex:fD,morphtarget_pars_vertex:hD,morphtarget_vertex:dD,normal_fragment_begin:pD,normal_fragment_maps:mD,normalmap_pars_fragment:gD,clearcoat_normal_fragment_begin:yD,clearcoat_normal_fragment_maps:vD,clearcoat_pars_fragment:xD,packing:wD,premultiplied_alpha_fragment:_D,project_vertex:bD,dithering_fragment:MD,dithering_pars_fragment:ED,roughnessmap_fragment:SD,roughnessmap_pars_fragment:TD,shadowmap_pars_fragment:AD,shadowmap_pars_vertex:PD,shadowmap_vertex:CD,shadowmask_pars_fragment:LD,skinbase_vertex:RD,skinning_pars_vertex:OD,skinning_vertex:DD,skinnormal_vertex:ND,specularmap_fragment:ID,specularmap_pars_fragment:kD,tonemapping_fragment:FD,tonemapping_pars_fragment:BD,uv_pars_fragment:zD,uv_pars_vertex:UD,uv_vertex:HD,uv2_pars_fragment:GD,uv2_pars_vertex:VD,uv2_vertex:WD,worldpos_vertex:jD,background_frag:qD,background_vert:$D,cube_frag:XD,cube_vert:YD,depth_frag:JD,depth_vert:ZD,distanceRGBA_frag:KD,distanceRGBA_vert:QD,equirect_frag:eN,equirect_vert:tN,linedashed_frag:nN,linedashed_vert:iN,meshbasic_frag:rN,meshbasic_vert:oN,meshlambert_frag:sN,meshlambert_vert:aN,meshmatcap_frag:lN,meshmatcap_vert:cN,meshtoon_frag:uN,meshtoon_vert:fN,meshphong_frag:hN,meshphong_vert:dN,meshphysical_frag:pN,meshphysical_vert:mN,normal_frag:gN,normal_vert:yN,points_frag:vN,points_vert:xN,shadow_frag:wN,shadow_vert:_N,sprite_frag:bN,sprite_vert:MN},ar={basic:{uniforms:Jt([he.common,he.specularmap,he.envmap,he.aomap,he.lightmap,he.fog]),vertexShader:Ve.meshbasic_vert,fragmentShader:Ve.meshbasic_frag},lambert:{uniforms:Jt([he.common,he.specularmap,he.envmap,he.aomap,he.lightmap,he.emissivemap,he.fog,he.lights,{emissive:{value:new me(0)}}]),vertexShader:Ve.meshlambert_vert,fragmentShader:Ve.meshlambert_frag},phong:{uniforms:Jt([he.common,he.specularmap,he.envmap,he.aomap,he.lightmap,he.emissivemap,he.bumpmap,he.normalmap,he.displacementmap,he.fog,he.lights,{emissive:{value:new me(0)},specular:{value:new me(1118481)},shininess:{value:30}}]),vertexShader:Ve.meshphong_vert,fragmentShader:Ve.meshphong_frag},standard:{uniforms:Jt([he.common,he.envmap,he.aomap,he.lightmap,he.emissivemap,he.bumpmap,he.normalmap,he.displacementmap,he.roughnessmap,he.metalnessmap,he.fog,he.lights,{emissive:{value:new me(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ve.meshphysical_vert,fragmentShader:Ve.meshphysical_frag},toon:{uniforms:Jt([he.common,he.aomap,he.lightmap,he.emissivemap,he.bumpmap,he.normalmap,he.displacementmap,he.gradientmap,he.fog,he.lights,{emissive:{value:new me(0)}}]),vertexShader:Ve.meshtoon_vert,fragmentShader:Ve.meshtoon_frag},matcap:{uniforms:Jt([he.common,he.bumpmap,he.normalmap,he.displacementmap,he.fog,{matcap:{value:null}}]),vertexShader:Ve.meshmatcap_vert,fragmentShader:Ve.meshmatcap_frag},points:{uniforms:Jt([he.points,he.fog]),vertexShader:Ve.points_vert,fragmentShader:Ve.points_frag},dashed:{uniforms:Jt([he.common,he.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ve.linedashed_vert,fragmentShader:Ve.linedashed_frag},depth:{uniforms:Jt([he.common,he.displacementmap]),vertexShader:Ve.depth_vert,fragmentShader:Ve.depth_frag},normal:{uniforms:Jt([he.common,he.bumpmap,he.normalmap,he.displacementmap,{opacity:{value:1}}]),vertexShader:Ve.normal_vert,fragmentShader:Ve.normal_frag},sprite:{uniforms:Jt([he.sprite,he.fog]),vertexShader:Ve.sprite_vert,fragmentShader:Ve.sprite_frag},background:{uniforms:{uvTransform:{value:new sn},t2D:{value:null}},vertexShader:Ve.background_vert,fragmentShader:Ve.background_frag},cube:{uniforms:Jt([he.envmap,{opacity:{value:1}}]),vertexShader:Ve.cube_vert,fragmentShader:Ve.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ve.equirect_vert,fragmentShader:Ve.equirect_frag},distanceRGBA:{uniforms:Jt([he.common,he.displacementmap,{referencePosition:{value:new E},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ve.distanceRGBA_vert,fragmentShader:Ve.distanceRGBA_frag},shadow:{uniforms:Jt([he.lights,he.fog,{color:{value:new me(0)},opacity:{value:1}}]),vertexShader:Ve.shadow_vert,fragmentShader:Ve.shadow_frag}};ar.physical={uniforms:Jt([ar.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new X(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new me(0)},transparency:{value:0}}]),vertexShader:Ve.meshphysical_vert,fragmentShader:Ve.meshphysical_frag};function EN(e,t,n,i){const r=new me(0);let o=0,s,a,l=null,c=0,u=null;function f(d,m,v,x){let p=m.isScene===!0?m.background:null;const g=e.xr,w=g.getSession&&g.getSession();if(w&&w.environmentBlendMode==="additive"&&(p=null),p===null?h(r,o):p&&p.isColor&&(h(p,1),x=!0),(e.autoClear||x)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.isWebGLCubeRenderTarget||p.mapping===Lu)){a===void 0&&(a=new Je(new Tp(1,1,1),new un({name:"BackgroundCubeMaterial",uniforms:Sa(ar.cube.uniforms),vertexShader:ar.cube.vertexShader,fragmentShader:ar.cube.fragmentShader,side:At,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(_,b,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(a));const y=p.isWebGLCubeRenderTarget?p.texture:p;a.material.uniforms.envMap.value=y,a.material.uniforms.flipEnvMap.value=y.isCubeTexture?-1:1,(l!==p||c!==y.version||u!==e.toneMapping)&&(a.material.needsUpdate=!0,l=p,c=y.version,u=e.toneMapping),d.unshift(a,a.geometry,a.material,0,0,null)}else p&&p.isTexture&&(s===void 0&&(s=new Je(new Aa(2,2),new un({name:"BackgroundMaterial",uniforms:Sa(ar.background.uniforms),vertexShader:ar.background.vertexShader,fragmentShader:ar.background.fragmentShader,side:Cu,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(s)),s.material.uniforms.t2D.value=p,p.matrixAutoUpdate===!0&&p.updateMatrix(),s.material.uniforms.uvTransform.value.copy(p.matrix),(l!==p||c!==p.version||u!==e.toneMapping)&&(s.material.needsUpdate=!0,l=p,c=p.version,u=e.toneMapping),d.unshift(s,s.geometry,s.material,0,0,null))}function h(d,m){t.buffers.color.setClear(d.r,d.g,d.b,m,i)}return{getClearColor:function(){return r},setClearColor:function(d,m){r.set(d),o=m!==void 0?m:1,h(r,o)},getClearAlpha:function(){return o},setClearAlpha:function(d){o=d,h(r,o)},render:f}}function SN(e,t,n,i){const r=e.getParameter(34921),o=i.isWebGL2?null:t.get("OES_vertex_array_object"),s=i.isWebGL2||o!==null,a={},l=v(null);let c=l;function u(k,P,C,B,L){let I=!1;if(s){const H=m(B,C,P);c!==H&&(c=H,h(c.object)),I=x(B),I&&p(B)}else{const H=P.wireframe===!0;(c.geometry!==B.id||c.program!==C.id||c.wireframe!==H)&&(c.geometry=B.id,c.program=C.id,c.wireframe=H,I=!0)}k.isInstancedMesh===!0&&(I=!0),L!==null&&n.update(L,34963),I&&(M(k,P,C,B),L!==null&&e.bindBuffer(34963,n.get(L).buffer))}function f(){return i.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function h(k){return i.isWebGL2?e.bindVertexArray(k):o.bindVertexArrayOES(k)}function d(k){return i.isWebGL2?e.deleteVertexArray(k):o.deleteVertexArrayOES(k)}function m(k,P,C){const B=C.wireframe===!0;let L=a[k.id];L===void 0&&(L={},a[k.id]=L);let I=L[P.id];I===void 0&&(I={},L[P.id]=I);let H=I[B];return H===void 0&&(H=v(f()),I[B]=H),H}function v(k){const P=[],C=[],B=[];for(let L=0;L<r;L++)P[L]=0,C[L]=0,B[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:P,enabledAttributes:C,attributeDivisors:B,object:k,attributes:{}}}function x(k){const P=c.attributes,C=k.attributes;if(Object.keys(P).length!==Object.keys(C).length)return!0;for(const B in C){const L=P[B],I=C[B];if(L.attribute!==I||L.data!==I.data)return!0}return!1}function p(k){const P={},C=k.attributes;for(const B in C){const L=C[B],I={};I.attribute=L,L.data&&(I.data=L.data),P[B]=I}c.attributes=P}function g(){const k=c.newAttributes;for(let P=0,C=k.length;P<C;P++)k[P]=0}function w(k){y(k,0)}function y(k,P){const C=c.newAttributes,B=c.enabledAttributes,L=c.attributeDivisors;C[k]=1,B[k]===0&&(e.enableVertexAttribArray(k),B[k]=1),L[k]!==P&&((i.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,P),L[k]=P)}function _(){const k=c.newAttributes,P=c.enabledAttributes;for(let C=0,B=P.length;C<B;C++)P[C]!==k[C]&&(e.disableVertexAttribArray(C),P[C]=0)}function b(k,P,C,B,L,I){i.isWebGL2===!0&&(C===5124||C===5125)?e.vertexAttribIPointer(k,P,C,B,L,I):e.vertexAttribPointer(k,P,C,B,L,I)}function M(k,P,C,B){if(i.isWebGL2===!1&&(k.isInstancedMesh||B.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;g();const L=B.attributes,I=C.getAttributes(),H=P.defaultAttributeValues;for(const W in I){const ee=I[W];if(ee>=0){const ce=L[W];if(ce!==void 0){const ge=ce.normalized,Re=ce.itemSize,Se=n.get(ce);if(Se===void 0)continue;const Y=Se.buffer,We=Se.type,Pe=Se.bytesPerElement;if(ce.isInterleavedBufferAttribute){const De=ce.data,Me=De.stride,te=ce.offset;De&&De.isInstancedInterleavedBuffer?(y(ee,De.meshPerAttribute),B._maxInstanceCount===void 0&&(B._maxInstanceCount=De.meshPerAttribute*De.count)):w(ee),e.bindBuffer(34962,Y),b(ee,Re,We,ge,Me*Pe,te*Pe)}else ce.isInstancedBufferAttribute?(y(ee,ce.meshPerAttribute),B._maxInstanceCount===void 0&&(B._maxInstanceCount=ce.meshPerAttribute*ce.count)):w(ee),e.bindBuffer(34962,Y),b(ee,Re,We,ge,0,0)}else if(W==="instanceMatrix"){const ge=n.get(k.instanceMatrix);if(ge===void 0)continue;const Re=ge.buffer,Se=ge.type;y(ee+0,1),y(ee+1,1),y(ee+2,1),y(ee+3,1),e.bindBuffer(34962,Re),e.vertexAttribPointer(ee+0,4,Se,!1,64,0),e.vertexAttribPointer(ee+1,4,Se,!1,64,16),e.vertexAttribPointer(ee+2,4,Se,!1,64,32),e.vertexAttribPointer(ee+3,4,Se,!1,64,48)}else if(H!==void 0){const ge=H[W];if(ge!==void 0)switch(ge.length){case 2:e.vertexAttrib2fv(ee,ge);break;case 3:e.vertexAttrib3fv(ee,ge);break;case 4:e.vertexAttrib4fv(ee,ge);break;default:e.vertexAttrib1fv(ee,ge)}}}}_()}function N(){R();for(const k in a){const P=a[k];for(const C in P){const B=P[C];for(const L in B)d(B[L].object),delete B[L];delete P[C]}delete a[k]}}function S(k){if(a[k.id]===void 0)return;const P=a[k.id];for(const C in P){const B=P[C];for(const L in B)d(B[L].object),delete B[L];delete P[C]}delete a[k.id]}function U(k){for(const P in a){const C=a[P];if(C[k.id]===void 0)continue;const B=C[k.id];for(const L in B)d(B[L].object),delete B[L];delete C[k.id]}}function R(){F(),c!==l&&(c=l,h(c.object))}function F(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:u,reset:R,resetDefaultState:F,dispose:N,releaseStatesOfGeometry:S,releaseStatesOfProgram:U,initAttributes:g,enableAttribute:w,disableUnusedAttributes:_}}function TN(e,t,n,i){const r=i.isWebGL2;let o;function s(c){o=c}function a(c,u){e.drawArrays(o,c,u),n.update(u,o)}function l(c,u,f,h){if(h===0)return;let d,m;if(r)d=e,m="drawArraysInstanced";else if(d=t.get("ANGLE_instanced_arrays"),m="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[m](o,u,f,h),n.update(f,o,h)}this.setMode=s,this.render=a,this.renderInstances=l}function AN(e,t,n){let i;function r(){if(i!==void 0)return i;const b=t.get("EXT_texture_filter_anisotropic");return b!==null?i=e.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT):i=0,i}function o(b){if(b==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";b="mediump"}return b==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&e instanceof WebGL2ComputeRenderingContext;let a=n.precision!==void 0?n.precision:"highp";const l=o(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=n.logarithmicDepthBuffer===!0,u=e.getParameter(34930),f=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),m=e.getParameter(34921),v=e.getParameter(36347),x=e.getParameter(36348),p=e.getParameter(36349),g=f>0,w=s||!!t.get("OES_texture_float"),y=g&&w,_=s?e.getParameter(36183):0;return{isWebGL2:s,getMaxAnisotropy:r,getMaxPrecision:o,precision:a,logarithmicDepthBuffer:c,maxTextures:u,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:d,maxAttributes:m,maxVertexUniforms:v,maxVaryings:x,maxFragmentUniforms:p,vertexTextures:g,floatFragmentTextures:w,floatVertexTextures:y,maxSamples:_}}function PN(){const e=this;let t=null,n=0,i=!1,r=!1;const o=new Oi,s=new sn,a={value:null,needsUpdate:!1};this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(u,f,h){const d=u.length!==0||f||n!==0||i;return i=f,t=c(u,h,0),n=u.length,d},this.beginShadows=function(){r=!0,c(null)},this.endShadows=function(){r=!1,l()},this.setState=function(u,f,h,d,m,v){if(!i||u===null||u.length===0||r&&!h)r?c(null):l();else{const x=r?0:n,p=x*4;let g=m.clippingState||null;a.value=g,g=c(u,d,p,v);for(let w=0;w!==p;++w)g[w]=t[w];m.clippingState=g,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=x}};function l(){a.value!==t&&(a.value=t,a.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(u,f,h,d){let m=u!==null?u.length:0,v=null;if(m!==0){if(v=a.value,d!==!0||v===null){const x=h+m*4,p=f.matrixWorldInverse;s.getNormalMatrix(p),(v===null||v.length<x)&&(v=new Float32Array(x));for(let g=0,w=h;g!==m;++g,w+=4)o.copy(u[g]).applyMatrix4(p,s),o.normal.toArray(v,w),v[w+3]=o.constant}a.value=v,a.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,v}}function CN(e){const t={};return{get:function(n){if(t[n]!==void 0)return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=i,i}}}function LN(e,t,n,i){const r=new WeakMap,o=new WeakMap;function s(f){const h=f.target,d=r.get(h);d.index!==null&&t.remove(d.index);for(const v in d.attributes)t.remove(d.attributes[v]);h.removeEventListener("dispose",s),r.delete(h);const m=o.get(d);m&&(t.remove(m),o.delete(d)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(f,h){let d=r.get(h);return d||(h.addEventListener("dispose",s),h.isBufferGeometry?d=h:h.isGeometry&&(h._bufferGeometry===void 0&&(h._bufferGeometry=new ve().setFromObject(f)),d=h._bufferGeometry),r.set(h,d),n.memory.geometries++,d)}function l(f){const h=f.attributes;for(const m in h)t.update(h[m],34962);const d=f.morphAttributes;for(const m in d){const v=d[m];for(let x=0,p=v.length;x<p;x++)t.update(v[x],34962)}}function c(f){const h=[],d=f.index,m=f.attributes.position;let v=0;if(d!==null){const g=d.array;v=d.version;for(let w=0,y=g.length;w<y;w+=3){const _=g[w+0],b=g[w+1],M=g[w+2];h.push(_,b,b,M,M,_)}}else{const g=m.array;v=m.version;for(let w=0,y=g.length/3-1;w<y;w+=3){const _=w+0,b=w+1,M=w+2;h.push(_,b,b,M,M,_)}}const x=new(yS(h)>65535?Nc:Dc)(h,1);x.version=v;const p=o.get(f);p&&t.remove(p),o.set(f,x)}function u(f){const h=o.get(f);if(h){const d=f.index;d!==null&&h.version<d.version&&c(f)}else c(f);return o.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function RN(e,t,n,i){const r=i.isWebGL2;let o;function s(h){o=h}let a,l;function c(h){a=h.type,l=h.bytesPerElement}function u(h,d){e.drawElements(o,d,a,h*l),n.update(d,o)}function f(h,d,m,v){if(v===0)return;let x,p;if(r)x=e,p="drawElementsInstanced";else if(x=t.get("ANGLE_instanced_arrays"),p="drawElementsInstancedANGLE",x===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}x[p](o,m,a,d*l,v),n.update(m,o,v)}this.setMode=s,this.setIndex=c,this.render=u,this.renderInstances=f}function ON(e){const t={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,s,a){switch(a=a||1,n.calls++,s){case 4:n.triangles+=a*(o/3);break;case 1:n.lines+=a*(o/2);break;case 3:n.lines+=a*(o-1);break;case 2:n.lines+=a*o;break;case 0:n.points+=a*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",s);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:t,render:n,programs:null,autoReset:!0,reset:r,update:i}}function DN(e,t){return e[0]-t[0]}function NN(e,t){return Math.abs(t[1])-Math.abs(e[1])}function IN(e){const t={},n=new Float32Array(8),i=[];for(let o=0;o<8;o++)i[o]=[o,0];function r(o,s,a,l){const c=o.morphTargetInfluences,u=c===void 0?0:c.length;let f=t[s.id];if(f===void 0){f=[];for(let x=0;x<u;x++)f[x]=[x,0];t[s.id]=f}for(let x=0;x<u;x++){const p=f[x];p[0]=x,p[1]=c[x]}f.sort(NN);for(let x=0;x<8;x++)x<u&&f[x][1]?(i[x][0]=f[x][0],i[x][1]=f[x][1]):(i[x][0]=Number.MAX_SAFE_INTEGER,i[x][1]=0);i.sort(DN);const h=a.morphTargets&&s.morphAttributes.position,d=a.morphNormals&&s.morphAttributes.normal;let m=0;for(let x=0;x<8;x++){const p=i[x],g=p[0],w=p[1];g!==Number.MAX_SAFE_INTEGER&&w?(h&&s.getAttribute("morphTarget"+x)!==h[g]&&s.setAttribute("morphTarget"+x,h[g]),d&&s.getAttribute("morphNormal"+x)!==d[g]&&s.setAttribute("morphNormal"+x,d[g]),n[x]=w,m+=w):(h&&s.getAttribute("morphTarget"+x)!==void 0&&s.deleteAttribute("morphTarget"+x),d&&s.getAttribute("morphNormal"+x)!==void 0&&s.deleteAttribute("morphNormal"+x),n[x]=0)}const v=s.morphTargetsRelative?1:1-m;l.getUniforms().setValue(e,"morphTargetBaseInfluence",v),l.getUniforms().setValue(e,"morphTargetInfluences",n)}return{update:r}}function kN(e,t,n,i){let r=new WeakMap;function o(a){const l=i.render.frame,c=a.geometry,u=t.get(a,c);return r.get(u)!==l&&(c.isGeometry&&u.updateFromObject(a),t.update(u),r.set(u,l)),a.isInstancedMesh&&n.update(a.instanceMatrix,34962),u}function s(){r=new WeakMap}return{update:o,dispose:s}}function ho(e,t,n,i,r,o,s,a,l,c){e=e!==void 0?e:[],t=t!==void 0?t:T0,s=s!==void 0?s:jo,nt.call(this,e,t,n,i,r,o,s,a,l,c),this.flipY=!1}ho.prototype=Object.create(nt.prototype);ho.prototype.constructor=ho;ho.prototype.isCubeTexture=!0;Object.defineProperty(ho.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function Fc(e,t,n,i){nt.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=Ut,this.minFilter=Ut,this.wrapR=mn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Fc.prototype=Object.create(nt.prototype);Fc.prototype.constructor=Fc;Fc.prototype.isDataTexture2DArray=!0;function Bc(e,t,n,i){nt.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:i||1},this.magFilter=Ut,this.minFilter=Ut,this.wrapR=mn,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Bc.prototype=Object.create(nt.prototype);Bc.prototype.constructor=Bc;Bc.prototype.isDataTexture3D=!0;const _S=new nt,FN=new Fc,BN=new Bc,bS=new ho,r_=[],o_=[],s_=new Float32Array(16),a_=new Float32Array(9),l_=new Float32Array(4);function ol(e,t,n){const i=e[0];if(i<=0||i>0)return e;let r=t*n,o=r_[r];if(o===void 0&&(o=new Float32Array(r),r_[r]=o),t!==0){i.toArray(o,0);for(let s=1,a=0;s!==t;++s)a+=n,e[s].toArray(o,a)}return o}function ei(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function Rn(e,t){for(let n=0,i=t.length;n<i;n++)e[n]=t[n]}function MS(e,t){let n=o_[t];n===void 0&&(n=new Int32Array(t),o_[t]=n);for(let i=0;i!==t;++i)n[i]=e.allocateTextureUnit();return n}function zN(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function UN(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ei(n,t))return;e.uniform2fv(this.addr,t),Rn(n,t)}}function HN(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(t.r!==void 0)(n[0]!==t.r||n[1]!==t.g||n[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(ei(n,t))return;e.uniform3fv(this.addr,t),Rn(n,t)}}function GN(e,t){const n=this.cache;if(t.x!==void 0)(n[0]!==t.x||n[1]!==t.y||n[2]!==t.z||n[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ei(n,t))return;e.uniform4fv(this.addr,t),Rn(n,t)}}function VN(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(ei(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Rn(n,t)}else{if(ei(n,i))return;l_.set(i),e.uniformMatrix2fv(this.addr,!1,l_),Rn(n,i)}}function WN(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(ei(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Rn(n,t)}else{if(ei(n,i))return;a_.set(i),e.uniformMatrix3fv(this.addr,!1,a_),Rn(n,i)}}function jN(e,t){const n=this.cache,i=t.elements;if(i===void 0){if(ei(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Rn(n,t)}else{if(ei(n,i))return;s_.set(i),e.uniformMatrix4fv(this.addr,!1,s_),Rn(n,i)}}function qN(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(t||_S,r)}function $N(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(t||FN,r)}function XN(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(t||BN,r)}function YN(e,t,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(e.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(t||bS,r)}function JN(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function ZN(e,t){const n=this.cache;ei(n,t)||(e.uniform2iv(this.addr,t),Rn(n,t))}function KN(e,t){const n=this.cache;ei(n,t)||(e.uniform3iv(this.addr,t),Rn(n,t))}function QN(e,t){const n=this.cache;ei(n,t)||(e.uniform4iv(this.addr,t),Rn(n,t))}function eI(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function tI(e){switch(e){case 5126:return zN;case 35664:return UN;case 35665:return HN;case 35666:return GN;case 35674:return VN;case 35675:return WN;case 35676:return jN;case 5124:case 35670:return JN;case 35667:case 35671:return ZN;case 35668:case 35672:return KN;case 35669:case 35673:return QN;case 5125:return eI;case 35678:case 36198:case 36298:case 36306:case 35682:return qN;case 35679:case 36299:case 36307:return XN;case 35680:case 36300:case 36308:case 36293:return YN;case 36289:case 36303:case 36311:case 36292:return $N}}function nI(e,t){e.uniform1fv(this.addr,t)}function iI(e,t){e.uniform1iv(this.addr,t)}function rI(e,t){e.uniform2iv(this.addr,t)}function oI(e,t){e.uniform3iv(this.addr,t)}function sI(e,t){e.uniform4iv(this.addr,t)}function aI(e,t){const n=ol(t,this.size,2);e.uniform2fv(this.addr,n)}function lI(e,t){const n=ol(t,this.size,3);e.uniform3fv(this.addr,n)}function cI(e,t){const n=ol(t,this.size,4);e.uniform4fv(this.addr,n)}function uI(e,t){const n=ol(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function fI(e,t){const n=ol(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function hI(e,t){const n=ol(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function dI(e,t,n){const i=t.length,r=MS(n,i);e.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)n.safeSetTexture2D(t[o]||_S,r[o])}function pI(e,t,n){const i=t.length,r=MS(n,i);e.uniform1iv(this.addr,r);for(let o=0;o!==i;++o)n.safeSetTextureCube(t[o]||bS,r[o])}function mI(e){switch(e){case 5126:return nI;case 35664:return aI;case 35665:return lI;case 35666:return cI;case 35674:return uI;case 35675:return fI;case 35676:return hI;case 5124:case 35670:return iI;case 35667:case 35671:return rI;case 35668:case 35672:return oI;case 35669:case 35673:return sI;case 35678:case 36198:case 36298:case 36306:case 35682:return dI;case 35680:case 36300:case 36308:case 36293:return pI}}function gI(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=tI(t.type)}function ES(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=mI(t.type)}ES.prototype.updateCache=function(e){let t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Rn(t,e)};function SS(e){this.id=e,this.seq=[],this.map={}}SS.prototype.setValue=function(e,t,n){const i=this.seq;for(let r=0,o=i.length;r!==o;++r){const s=i[r];s.setValue(e,t[s.id],n)}};const Um=/([\w\d_]+)(\])?(\[|\.)?/g;function c_(e,t){e.seq.push(t),e.map[t.id]=t}function yI(e,t,n){const i=e.name,r=i.length;for(Um.lastIndex=0;;){const o=Um.exec(i),s=Um.lastIndex;let a=o[1],l=o[2]==="]",c=o[3];if(l&&(a=a|0),c===void 0||c==="["&&s+2===r){c_(n,c===void 0?new gI(a,e,t):new ES(a,e,t));break}else{let f=n.map[a];f===void 0&&(f=new SS(a),c_(n,f)),n=f}}}function ao(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let i=0;i<n;++i){const r=e.getActiveUniform(t,i),o=e.getUniformLocation(t,r.name);yI(r,o,this)}}ao.prototype.setValue=function(e,t,n,i){const r=this.map[t];r!==void 0&&r.setValue(e,n,i)};ao.prototype.setOptional=function(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)};ao.upload=function(e,t,n,i){for(let r=0,o=t.length;r!==o;++r){const s=t[r],a=n[s.id];a.needsUpdate!==!1&&s.setValue(e,a.value,i)}};ao.seqWithValue=function(e,t){const n=[];for(let i=0,r=e.length;i!==r;++i){const o=e[i];o.id in t&&n.push(o)}return n};function u_(e,t,n){const i=e.createShader(t);return e.shaderSource(i,n),e.compileShader(i),i}let vI=0;function xI(e){const t=e.split(`
`);for(let n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join(`
`)}function TS(e){switch(e){case Mn:return["Linear","( value )"];case Ep:return["sRGB","( value )"];case O0:return["RGBE","( value )"];case hS:return["RGBM","( value, 7.0 )"];case dS:return["RGBM","( value, 16.0 )"];case pS:return["RGBD","( value, 256.0 )"];case R0:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case k3:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function f_(e,t,n){const i=e.getShaderParameter(t,35713),r=e.getShaderInfoLog(t).trim();if(i&&r==="")return"";const o=e.getShaderSource(t);return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+`
`+r+xI(o)}function El(e,t){const n=TS(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function wI(e,t){const n=TS(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function _I(e,t){let n;switch(t){case IR:n="Linear";break;case kR:n="Reinhard";break;case FR:n="OptimizedCineon";break;case BR:n="ACESFilmic";break;case zR:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function bI(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Bl).join(`
`)}function MI(e){const t=[];for(const n in e){const i=e[n];i!==!1&&t.push("#define "+n+" "+i)}return t.join(`
`)}function EI(e,t){const n={},i=e.getProgramParameter(t,35721);for(let r=0;r<i;r++){const s=e.getActiveAttrib(t,r).name;n[s]=e.getAttribLocation(t,s)}return n}function Bl(e){return e!==""}function h_(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function d_(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const SI=/^[ \t]*#include +<([\w\d./]+)>/gm;function vy(e){return e.replace(SI,TI)}function TI(e,t){const n=Ve[t];if(n===void 0)throw new Error("Can not resolve #include <"+t+">");return vy(n)}const AI=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,PI=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function p_(e){return e.replace(PI,AS).replace(AI,CI)}function CI(e,t,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),AS(e,t,n,i)}function AS(e,t,n,i){let r="";for(let o=parseInt(t);o<parseInt(n);o++)r+=i.replace(/\[ i \]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function m_(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function LI(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===oS?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===dR?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===Fl&&(t="SHADOWMAP_TYPE_VSM"),t}function RI(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case T0:case A0:t="ENVMAP_TYPE_CUBE";break;case Lu:case C0:t="ENVMAP_TYPE_CUBE_UV";break;case cS:case P0:t="ENVMAP_TYPE_EQUIREC";break}return t}function OI(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case A0:case P0:t="ENVMAP_MODE_REFRACTION";break}return t}function DI(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case bp:t="ENVMAP_BLENDING_MULTIPLY";break;case DR:t="ENVMAP_BLENDING_MIX";break;case NR:t="ENVMAP_BLENDING_ADD";break}return t}function NI(e,t,n,i){const r=e.getContext(),o=n.defines;let s=n.vertexShader,a=n.fragmentShader;const l=LI(n),c=RI(n),u=OI(n),f=DI(n),h=e.gammaFactor>0?e.gammaFactor:1,d=n.isWebGL2?"":bI(n),m=MI(o),v=r.createProgram();let x,p;if(n.isRawShaderMaterial?(x=[m].filter(Bl).join(`
`),x.length>0&&(x+=`
`),p=[d,m].filter(Bl).join(`
`),p.length>0&&(p+=`
`)):(x=[m_(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+h,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Bl).join(`
`),p=[d,m_(n),"#define SHADER_NAME "+n.shaderName,m,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+h,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==fa?"#define TONE_MAPPING":"",n.toneMapping!==fa?Ve.tonemapping_pars_fragment:"",n.toneMapping!==fa?_I("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Ve.encodings_pars_fragment,n.map?El("mapTexelToLinear",n.mapEncoding):"",n.matcap?El("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?El("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?El("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?El("lightMapTexelToLinear",n.lightMapEncoding):"",wI("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Bl).join(`
`)),s=vy(s),s=h_(s,n),s=d_(s,n),a=vy(a),a=h_(a,n),a=d_(a,n),s=p_(s),a=p_(a),n.isWebGL2&&!n.isRawShaderMaterial){let N=!1;const S=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&s.match(S)!==null&&a.match(S)!==null&&(N=!0,s=s.replace(S,""),a=a.replace(S,"")),x=[`#version 300 es
`,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,p=[`#version 300 es
`,"#define varying in",N?"":"out highp vec4 pc_fragColor;",N?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p}const g=x+s,w=p+a,y=u_(r,35633,g),_=u_(r,35632,w);if(r.attachShader(v,y),r.attachShader(v,_),n.index0AttributeName!==void 0?r.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(v,0,"position"),r.linkProgram(v),e.debug.checkShaderErrors){const N=r.getProgramInfoLog(v).trim(),S=r.getShaderInfoLog(y).trim(),U=r.getShaderInfoLog(_).trim();let R=!0,F=!0;if(r.getProgramParameter(v,35714)===!1){R=!1;const k=f_(r,y,"vertex"),P=f_(r,_,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(v,35715),"gl.getProgramInfoLog",N,k,P)}else N!==""?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",N):(S===""||U==="")&&(F=!1);F&&(this.diagnostics={runnable:R,programLog:N,vertexShader:{log:S,prefix:x},fragmentShader:{log:U,prefix:p}})}r.deleteShader(y),r.deleteShader(_);let b;this.getUniforms=function(){return b===void 0&&(b=new ao(r,v)),b};let M;return this.getAttributes=function(){return M===void 0&&(M=EI(r,v)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(v),this.program=void 0},this.name=n.shaderName,this.id=vI++,this.cacheKey=t,this.usedTimes=1,this.program=v,this.vertexShader=y,this.fragmentShader=_,this}function II(e,t,n,i){const r=[],o=n.isWebGL2,s=n.logarithmicDepthBuffer,a=n.floatVertexTextures,l=n.maxVertexUniforms,c=n.vertexTextures;let u=n.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},h=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function d(y,_){let b;if(_){const M=ar[_];b={name:y.name||y.type,uniforms:tO.clone(M.uniforms),vertexShader:M.vertexShader,fragmentShader:M.fragmentShader}}else b={name:y.name||y.type,uniforms:y.uniforms,vertexShader:y.vertexShader,fragmentShader:y.fragmentShader};return b}function m(y){const b=y.skeleton.bones;if(a)return 1024;{const N=Math.floor((l-20)/4),S=Math.min(N,b.length);return S<b.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+b.length+" bones. This GPU supports "+S+"."),0):S}}function v(y){let _;return y?y.isTexture?_=y.encoding:y.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),_=y.texture.encoding):_=Mn,_}function x(y,_,b,M,N,S,U){const R=M.fog,F=y.isMeshStandardMaterial?M.environment:null,k=y.envMap||F,P=f[y.type],C=U.isSkinnedMesh?m(U):0;y.precision!==null&&(u=n.getMaxPrecision(y.precision),u!==y.precision&&console.warn("THREE.WebGLProgram.getParameters:",y.precision,"not supported, using",u,"instead."));const B=d(y,P);y.onBeforeCompile(B,e);const L=e.getRenderTarget();return{isWebGL2:o,shaderID:P,shaderName:B.name,uniforms:B.uniforms,vertexShader:B.vertexShader,fragmentShader:B.fragmentShader,defines:y.defines,isRawShaderMaterial:y.isRawShaderMaterial,isShaderMaterial:y.isShaderMaterial,precision:u,instancing:U.isInstancedMesh===!0,supportsVertexTextures:c,outputEncoding:L!==null?v(L.texture):e.outputEncoding,map:!!y.map,mapEncoding:v(y.map),matcap:!!y.matcap,matcapEncoding:v(y.matcap),envMap:!!k,envMapMode:k&&k.mapping,envMapEncoding:v(k),envMapCubeUV:!!k&&(k.mapping===Lu||k.mapping===C0),lightMap:!!y.lightMap,lightMapEncoding:v(y.lightMap),aoMap:!!y.aoMap,emissiveMap:!!y.emissiveMap,emissiveMapEncoding:v(y.emissiveMap),bumpMap:!!y.bumpMap,normalMap:!!y.normalMap,objectSpaceNormalMap:y.normalMapType===z3,tangentSpaceNormalMap:y.normalMapType===nl,clearcoatMap:!!y.clearcoatMap,clearcoatRoughnessMap:!!y.clearcoatRoughnessMap,clearcoatNormalMap:!!y.clearcoatNormalMap,displacementMap:!!y.displacementMap,roughnessMap:!!y.roughnessMap,metalnessMap:!!y.metalnessMap,specularMap:!!y.specularMap,alphaMap:!!y.alphaMap,gradientMap:!!y.gradientMap,sheen:!!y.sheen,combine:y.combine,vertexTangents:y.normalMap&&y.vertexTangents,vertexColors:y.vertexColors,vertexUvs:!!y.map||!!y.bumpMap||!!y.normalMap||!!y.specularMap||!!y.alphaMap||!!y.emissiveMap||!!y.roughnessMap||!!y.metalnessMap||!!y.clearcoatMap||!!y.clearcoatRoughnessMap||!!y.clearcoatNormalMap||!!y.displacementMap,uvsVertexOnly:!(y.map||y.bumpMap||y.normalMap||y.specularMap||y.alphaMap||y.emissiveMap||y.roughnessMap||y.metalnessMap||y.clearcoatNormalMap)&&!!y.displacementMap,fog:!!R,useFog:y.fog,fogExp2:R&&R.isFogExp2,flatShading:y.flatShading,sizeAttenuation:y.sizeAttenuation,logarithmicDepthBuffer:s,skinning:y.skinning&&C>0,maxBones:C,useVertexTexture:a,morphTargets:y.morphTargets,morphNormals:y.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:_.directional.length,numPointLights:_.point.length,numSpotLights:_.spot.length,numRectAreaLights:_.rectArea.length,numHemiLights:_.hemi.length,numDirLightShadows:_.directionalShadowMap.length,numPointLightShadows:_.pointShadowMap.length,numSpotLightShadows:_.spotShadowMap.length,numClippingPlanes:N,numClipIntersection:S,dithering:y.dithering,shadowMapEnabled:e.shadowMap.enabled&&b.length>0,shadowMapType:e.shadowMap.type,toneMapping:y.toneMapped?e.toneMapping:fa,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:y.premultipliedAlpha,alphaTest:y.alphaTest,doubleSided:y.side===_p,flipSided:y.side===At,depthPacking:y.depthPacking!==void 0?y.depthPacking:!1,index0AttributeName:y.index0AttributeName,extensionDerivatives:y.extensions&&y.extensions.derivatives,extensionFragDepth:y.extensions&&y.extensions.fragDepth,extensionDrawBuffers:y.extensions&&y.extensions.drawBuffers,extensionShaderTextureLOD:y.extensions&&y.extensions.shaderTextureLOD,rendererExtensionFragDepth:o||t.get("EXT_frag_depth")!==null,rendererExtensionDrawBuffers:o||t.get("WEBGL_draw_buffers")!==null,rendererExtensionShaderTextureLod:o||t.get("EXT_shader_texture_lod")!==null,customProgramCacheKey:y.customProgramCacheKey()}}function p(y){const _=[];if(y.shaderID?_.push(y.shaderID):(_.push(y.fragmentShader),_.push(y.vertexShader)),y.defines!==void 0)for(const b in y.defines)_.push(b),_.push(y.defines[b]);if(y.isRawShaderMaterial===void 0){for(let b=0;b<h.length;b++)_.push(y[h[b]]);_.push(e.outputEncoding),_.push(e.gammaFactor)}return _.push(y.customProgramCacheKey),_.join()}function g(y,_){let b;for(let M=0,N=r.length;M<N;M++){const S=r[M];if(S.cacheKey===_){b=S,++b.usedTimes;break}}return b===void 0&&(b=new NI(e,_,y,i),r.push(b)),b}function w(y){if(--y.usedTimes===0){const _=r.indexOf(y);r[_]=r[r.length-1],r.pop(),y.destroy()}}return{getParameters:x,getProgramCacheKey:p,acquireProgram:g,releaseProgram:w,programs:r}}function kI(){let e=new WeakMap;function t(o){let s=e.get(o);return s===void 0&&(s={},e.set(o,s)),s}function n(o){e.delete(o)}function i(o,s,a){e.get(o)[s]=a}function r(){e=new WeakMap}return{get:t,remove:n,update:i,dispose:r}}function FI(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function BI(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function g_(){const e=[];let t=0;const n=[],i=[],r={id:-1};function o(){t=0,n.length=0,i.length=0}function s(f,h,d,m,v,x){let p=e[t];return p===void 0?(p={id:f.id,object:f,geometry:h,material:d,program:d.program||r,groupOrder:m,renderOrder:f.renderOrder,z:v,group:x},e[t]=p):(p.id=f.id,p.object=f,p.geometry=h,p.material=d,p.program=d.program||r,p.groupOrder=m,p.renderOrder=f.renderOrder,p.z=v,p.group=x),t++,p}function a(f,h,d,m,v,x){const p=s(f,h,d,m,v,x);(d.transparent===!0?i:n).push(p)}function l(f,h,d,m,v,x){const p=s(f,h,d,m,v,x);(d.transparent===!0?i:n).unshift(p)}function c(f,h){n.length>1&&n.sort(f||FI),i.length>1&&i.sort(h||BI)}function u(){for(let f=t,h=e.length;f<h;f++){const d=e[f];if(d.id===null)break;d.id=null,d.object=null,d.geometry=null,d.material=null,d.program=null,d.group=null}}return{opaque:n,transparent:i,init:o,push:a,unshift:l,finish:u,sort:c}}function zI(){let e=new WeakMap;function t(r){const o=r.target;o.removeEventListener("dispose",t),e.delete(o)}function n(r,o){const s=e.get(r);let a;return s===void 0?(a=new g_,e.set(r,new WeakMap),e.get(r).set(o,a),r.addEventListener("dispose",t)):(a=s.get(o),a===void 0&&(a=new g_,s.set(o,a))),a}function i(){e=new WeakMap}return{get:n,dispose:i}}function UI(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new E,color:new me};break;case"SpotLight":n={position:new E,direction:new E,color:new me,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new E,color:new me,distance:0,decay:0};break;case"HemisphereLight":n={direction:new E,skyColor:new me,groundColor:new me};break;case"RectAreaLight":n={color:new me,position:new E,halfWidth:new E,halfHeight:new E};break}return e[t.id]=n,n}}}function HI(){const e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let n;switch(t.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new X};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new X};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new X,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=n,n}}}let GI=0;function VI(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function WI(){const e=new UI,t=HI(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let a=0;a<9;a++)n.probe.push(new E);const i=new E,r=new Ge,o=new Ge;function s(a,l,c){let u=0,f=0,h=0;for(let M=0;M<9;M++)n.probe[M].set(0,0,0);let d=0,m=0,v=0,x=0,p=0,g=0,w=0,y=0;const _=c.matrixWorldInverse;a.sort(VI);for(let M=0,N=a.length;M<N;M++){const S=a[M],U=S.color,R=S.intensity,F=S.distance,k=S.shadow&&S.shadow.map?S.shadow.map.texture:null;if(S.isAmbientLight)u+=U.r*R,f+=U.g*R,h+=U.b*R;else if(S.isLightProbe)for(let P=0;P<9;P++)n.probe[P].addScaledVector(S.sh.coefficients[P],R);else if(S.isDirectionalLight){const P=e.get(S);if(P.color.copy(S.color).multiplyScalar(S.intensity),P.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),P.direction.sub(i),P.direction.transformDirection(_),S.castShadow){const C=S.shadow,B=t.get(S);B.shadowBias=C.bias,B.shadowNormalBias=C.normalBias,B.shadowRadius=C.radius,B.shadowMapSize=C.mapSize,n.directionalShadow[d]=B,n.directionalShadowMap[d]=k,n.directionalShadowMatrix[d]=S.shadow.matrix,g++}n.directional[d]=P,d++}else if(S.isSpotLight){const P=e.get(S);if(P.position.setFromMatrixPosition(S.matrixWorld),P.position.applyMatrix4(_),P.color.copy(U).multiplyScalar(R),P.distance=F,P.direction.setFromMatrixPosition(S.matrixWorld),i.setFromMatrixPosition(S.target.matrixWorld),P.direction.sub(i),P.direction.transformDirection(_),P.coneCos=Math.cos(S.angle),P.penumbraCos=Math.cos(S.angle*(1-S.penumbra)),P.decay=S.decay,S.castShadow){const C=S.shadow,B=t.get(S);B.shadowBias=C.bias,B.shadowNormalBias=C.normalBias,B.shadowRadius=C.radius,B.shadowMapSize=C.mapSize,n.spotShadow[v]=B,n.spotShadowMap[v]=k,n.spotShadowMatrix[v]=S.shadow.matrix,y++}n.spot[v]=P,v++}else if(S.isRectAreaLight){const P=e.get(S);P.color.copy(U).multiplyScalar(R),P.position.setFromMatrixPosition(S.matrixWorld),P.position.applyMatrix4(_),o.identity(),r.copy(S.matrixWorld),r.premultiply(_),o.extractRotation(r),P.halfWidth.set(S.width*.5,0,0),P.halfHeight.set(0,S.height*.5,0),P.halfWidth.applyMatrix4(o),P.halfHeight.applyMatrix4(o),n.rectArea[x]=P,x++}else if(S.isPointLight){const P=e.get(S);if(P.position.setFromMatrixPosition(S.matrixWorld),P.position.applyMatrix4(_),P.color.copy(S.color).multiplyScalar(S.intensity),P.distance=S.distance,P.decay=S.decay,S.castShadow){const C=S.shadow,B=t.get(S);B.shadowBias=C.bias,B.shadowNormalBias=C.normalBias,B.shadowRadius=C.radius,B.shadowMapSize=C.mapSize,B.shadowCameraNear=C.camera.near,B.shadowCameraFar=C.camera.far,n.pointShadow[m]=B,n.pointShadowMap[m]=k,n.pointShadowMatrix[m]=S.shadow.matrix,w++}n.point[m]=P,m++}else if(S.isHemisphereLight){const P=e.get(S);P.direction.setFromMatrixPosition(S.matrixWorld),P.direction.transformDirection(_),P.direction.normalize(),P.skyColor.copy(S.color).multiplyScalar(R),P.groundColor.copy(S.groundColor).multiplyScalar(R),n.hemi[p]=P,p++}}n.ambient[0]=u,n.ambient[1]=f,n.ambient[2]=h;const b=n.hash;(b.directionalLength!==d||b.pointLength!==m||b.spotLength!==v||b.rectAreaLength!==x||b.hemiLength!==p||b.numDirectionalShadows!==g||b.numPointShadows!==w||b.numSpotShadows!==y)&&(n.directional.length=d,n.spot.length=v,n.rectArea.length=x,n.point.length=m,n.hemi.length=p,n.directionalShadow.length=g,n.directionalShadowMap.length=g,n.pointShadow.length=w,n.pointShadowMap.length=w,n.spotShadow.length=y,n.spotShadowMap.length=y,n.directionalShadowMatrix.length=g,n.pointShadowMatrix.length=w,n.spotShadowMatrix.length=y,b.directionalLength=d,b.pointLength=m,b.spotLength=v,b.rectAreaLength=x,b.hemiLength=p,b.numDirectionalShadows=g,b.numPointShadows=w,b.numSpotShadows=y,n.version=GI++)}return{setup:s,state:n}}function y_(){const e=new WI,t=[],n=[];function i(){t.length=0,n.length=0}function r(l){t.push(l)}function o(l){n.push(l)}function s(l){e.setup(t,n,l)}return{init:i,state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:s,pushLight:r,pushShadow:o}}function jI(){let e=new WeakMap;function t(r){const o=r.target;o.removeEventListener("dispose",t),e.delete(o)}function n(r,o){let s;return e.has(r)===!1?(s=new y_,e.set(r,new WeakMap),e.get(r).set(o,s),r.addEventListener("dispose",t)):e.get(r).has(o)===!1?(s=new y_,e.get(r).set(o,s)):s=e.get(r).get(o),s}function i(){e=new WeakMap}return{get:n,dispose:i}}function ns(e){Ie.call(this),this.type="MeshDepthMaterial",this.depthPacking=F3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}ns.prototype=Object.create(Ie.prototype);ns.prototype.constructor=ns;ns.prototype.isMeshDepthMaterial=!0;ns.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this};function is(e){Ie.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new E,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}is.prototype=Object.create(Ie.prototype);is.prototype.constructor=is;is.prototype.isMeshDistanceMaterial=!0;is.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};var qI=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
  float mean = 0.0;
  float squared_mean = 0.0;
	float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );
  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {
    #ifdef HORIZONAL_PASS
      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );
      mean += distribution.x;
      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
    #else
      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );
      mean += depth;
      squared_mean += depth * depth;
    #endif
  }
  mean = mean * HALF_SAMPLE_RATE;
  squared_mean = squared_mean * HALF_SAMPLE_RATE;
  float std_dev = sqrt( squared_mean - mean * mean );
  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`,$I=`void main() {
	gl_Position = vec4( position, 1.0 );
}`;function PS(e,t,n){let i=new Ou;const r=new X,o=new X,s=new Ke,a=[],l=[],c={},u={0:At,1:Cu,2:_p},f=new un({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new X},radius:{value:4}},vertexShader:$I,fragmentShader:qI}),h=f.clone();h.defines.HORIZONAL_PASS=1;const d=new ve;d.setAttribute("position",new Ne(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Je(d,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=oS,this.render=function(_,b,M){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||_.length===0)return;const N=e.getRenderTarget(),S=e.getActiveCubeFace(),U=e.getActiveMipmapLevel(),R=e.state;R.setBlending(so),R.buffers.color.setClear(1,1,1,1),R.buffers.depth.setTest(!0),R.setScissorTest(!1);for(let F=0,k=_.length;F<k;F++){const P=_[F],C=P.shadow;if(C.autoUpdate===!1&&C.needsUpdate===!1)continue;if(C===void 0){console.warn("THREE.WebGLShadowMap:",P,"has no shadow.");continue}r.copy(C.mapSize);const B=C.getFrameExtents();if(r.multiply(B),o.copy(C.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(o.x=Math.floor(n/B.x),r.x=o.x*B.x,C.mapSize.x=o.x),r.y>n&&(o.y=Math.floor(n/B.y),r.y=o.y*B.y,C.mapSize.y=o.y)),C.map===null&&!C.isPointLightShadow&&this.type===Fl){const I={minFilter:Qt,magFilter:Qt,format:wi};C.map=new Yn(r.x,r.y,I),C.map.texture.name=P.name+".shadowMap",C.mapPass=new Yn(r.x,r.y,I),C.camera.updateProjectionMatrix()}if(C.map===null){const I={minFilter:Ut,magFilter:Ut,format:wi};C.map=new Yn(r.x,r.y,I),C.map.texture.name=P.name+".shadowMap",C.camera.updateProjectionMatrix()}e.setRenderTarget(C.map),e.clear();const L=C.getViewportCount();for(let I=0;I<L;I++){const H=C.getViewport(I);s.set(o.x*H.x,o.y*H.y,o.x*H.z,o.y*H.w),R.viewport(s),C.updateMatrices(P,I),i=C.getFrustum(),y(b,M,C.camera,P,this.type)}!C.isPointLightShadow&&this.type===Fl&&x(C,M),C.needsUpdate=!1}v.needsUpdate=!1,e.setRenderTarget(N,S,U)};function x(_,b){const M=t.update(m);f.uniforms.shadow_pass.value=_.map.texture,f.uniforms.resolution.value=_.mapSize,f.uniforms.radius.value=_.radius,e.setRenderTarget(_.mapPass),e.clear(),e.renderBufferDirect(b,null,M,f,m,null),h.uniforms.shadow_pass.value=_.mapPass.texture,h.uniforms.resolution.value=_.mapSize,h.uniforms.radius.value=_.radius,e.setRenderTarget(_.map),e.clear(),e.renderBufferDirect(b,null,M,h,m,null)}function p(_,b,M){const N=_<<0|b<<1|M<<2;let S=a[N];return S===void 0&&(S=new ns({depthPacking:B3,morphTargets:_,skinning:b}),a[N]=S),S}function g(_,b,M){const N=_<<0|b<<1|M<<2;let S=l[N];return S===void 0&&(S=new is({morphTargets:_,skinning:b}),l[N]=S),S}function w(_,b,M,N,S,U,R){let F=null,k=p,P=_.customDepthMaterial;if(N.isPointLight===!0&&(k=g,P=_.customDistanceMaterial),P===void 0){let C=!1;M.morphTargets===!0&&(C=b.morphAttributes&&b.morphAttributes.position&&b.morphAttributes.position.length>0);let B=!1;_.isSkinnedMesh===!0&&(M.skinning===!0?B=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",_));const L=_.isInstancedMesh===!0;F=k(C,B,L)}else F=P;if(e.localClippingEnabled&&M.clipShadows===!0&&M.clippingPlanes.length!==0){const C=F.uuid,B=M.uuid;let L=c[C];L===void 0&&(L={},c[C]=L);let I=L[B];I===void 0&&(I=F.clone(),L[B]=I),F=I}return F.visible=M.visible,F.wireframe=M.wireframe,R===Fl?F.side=M.shadowSide!==null?M.shadowSide:M.side:F.side=M.shadowSide!==null?M.shadowSide:u[M.side],F.clipShadows=M.clipShadows,F.clippingPlanes=M.clippingPlanes,F.clipIntersection=M.clipIntersection,F.wireframeLinewidth=M.wireframeLinewidth,F.linewidth=M.linewidth,N.isPointLight===!0&&F.isMeshDistanceMaterial===!0&&(F.referencePosition.setFromMatrixPosition(N.matrixWorld),F.nearDistance=S,F.farDistance=U),F}function y(_,b,M,N,S){if(_.visible===!1)return;if(_.layers.test(b.layers)&&(_.isMesh||_.isLine||_.isPoints)&&(_.castShadow||_.receiveShadow&&S===Fl)&&(!_.frustumCulled||i.intersectsObject(_))){_.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,_.matrixWorld);const F=t.update(_),k=_.material;if(Array.isArray(k)){const P=F.groups;for(let C=0,B=P.length;C<B;C++){const L=P[C],I=k[L.materialIndex];if(I&&I.visible){const H=w(_,F,I,N,M.near,M.far,S);e.renderBufferDirect(M,null,F,H,_,L)}}}else if(k.visible){const P=w(_,F,k,N,M.near,M.far,S);e.renderBufferDirect(M,null,F,P,_,null)}}const R=_.children;for(let F=0,k=R.length;F<k;F++)y(R[F],b,M,N,S)}}function XI(e,t,n){const i=n.isWebGL2;function r(){let z=!1;const ae=new Ke;let D=null;const oe=new Ke(0,0,0,0);return{setMask:function(Q){D!==Q&&!z&&(e.colorMask(Q,Q,Q,Q),D=Q)},setLocked:function(Q){z=Q},setClear:function(Q,le,Te,be,_e){_e===!0&&(Q*=be,le*=be,Te*=be),ae.set(Q,le,Te,be),oe.equals(ae)===!1&&(e.clearColor(Q,le,Te,be),oe.copy(ae))},reset:function(){z=!1,D=null,oe.set(-1,0,0,0)}}}function o(){let z=!1,ae=null,D=null,oe=null;return{setTest:function(Q){Q?W(2929):ee(2929)},setMask:function(Q){ae!==Q&&!z&&(e.depthMask(Q),ae=Q)},setFunc:function(Q){if(D!==Q){if(Q)switch(Q){case TR:e.depthFunc(512);break;case AR:e.depthFunc(519);break;case PR:e.depthFunc(513);break;case cy:e.depthFunc(515);break;case CR:e.depthFunc(514);break;case LR:e.depthFunc(518);break;case RR:e.depthFunc(516);break;case OR:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);D=Q}},setLocked:function(Q){z=Q},setClear:function(Q){oe!==Q&&(e.clearDepth(Q),oe=Q)},reset:function(){z=!1,ae=null,D=null,oe=null}}}function s(){let z=!1,ae=null,D=null,oe=null,Q=null,le=null,Te=null,be=null,_e=null;return{setTest:function(Ae){z||(Ae?W(2960):ee(2960))},setMask:function(Ae){ae!==Ae&&!z&&(e.stencilMask(Ae),ae=Ae)},setFunc:function(Ae,Ye,it){(D!==Ae||oe!==Ye||Q!==it)&&(e.stencilFunc(Ae,Ye,it),D=Ae,oe=Ye,Q=it)},setOp:function(Ae,Ye,it){(le!==Ae||Te!==Ye||be!==it)&&(e.stencilOp(Ae,Ye,it),le=Ae,Te=Ye,be=it)},setLocked:function(Ae){z=Ae},setClear:function(Ae){_e!==Ae&&(e.clearStencil(Ae),_e=Ae)},reset:function(){z=!1,ae=null,D=null,oe=null,Q=null,le=null,Te=null,be=null,_e=null}}}const a=new r,l=new o,c=new s;let u={},f=null,h=null,d=null,m=null,v=null,x=null,p=null,g=null,w=null,y=!1,_=null,b=null,M=null,N=null,S=null;const U=e.getParameter(35661);let R=!1,F=0;const k=e.getParameter(7938);k.indexOf("WebGL")!==-1?(F=parseFloat(/^WebGL\ ([0-9])/.exec(k)[1]),R=F>=1):k.indexOf("OpenGL ES")!==-1&&(F=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(k)[1]),R=F>=2);let P=null,C={};const B=new Ke,L=new Ke;function I(z,ae,D){const oe=new Uint8Array(4),Q=e.createTexture();e.bindTexture(z,Q),e.texParameteri(z,10241,9728),e.texParameteri(z,10240,9728);for(let le=0;le<D;le++)e.texImage2D(ae+le,0,6408,1,1,0,6408,5121,oe);return Q}const H={};H[3553]=I(3553,3553,1),H[34067]=I(34067,34069,6),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),W(2929),l.setFunc(cy),We(!1),Pe(Ow),W(2884),Se(so);function W(z){u[z]!==!0&&(e.enable(z),u[z]=!0)}function ee(z){u[z]!==!1&&(e.disable(z),u[z]=!1)}function ce(z){return f!==z?(e.useProgram(z),f=z,!0):!1}const ge={[Is]:32774,[mR]:32778,[gR]:32779};if(i)ge[kw]=32775,ge[Fw]=32776;else{const z=t.get("EXT_blend_minmax");z!==null&&(ge[kw]=z.MIN_EXT,ge[Fw]=z.MAX_EXT)}const Re={[yR]:0,[vR]:1,[xR]:768,[aS]:770,[SR]:776,[MR]:774,[_R]:772,[wR]:769,[lS]:771,[ER]:775,[bR]:773};function Se(z,ae,D,oe,Q,le,Te,be){if(z===so){h&&(ee(3042),h=!1);return}if(h||(W(3042),h=!0),z!==pR){if(z!==d||be!==y){if((m!==Is||p!==Is)&&(e.blendEquation(32774),m=Is,p=Is),be)switch(z){case Zl:e.blendFuncSeparate(1,771,1,771);break;case Dw:e.blendFunc(1,1);break;case Nw:e.blendFuncSeparate(0,0,769,771);break;case Iw:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}else switch(z){case Zl:e.blendFuncSeparate(770,771,1,771);break;case Dw:e.blendFunc(770,1);break;case Nw:e.blendFunc(0,769);break;case Iw:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",z);break}v=null,x=null,g=null,w=null,d=z,y=be}return}Q=Q||ae,le=le||D,Te=Te||oe,(ae!==m||Q!==p)&&(e.blendEquationSeparate(ge[ae],ge[Q]),m=ae,p=Q),(D!==v||oe!==x||le!==g||Te!==w)&&(e.blendFuncSeparate(Re[D],Re[oe],Re[le],Re[Te]),v=D,x=oe,g=le,w=Te),d=z,y=null}function Y(z,ae){z.side===_p?ee(2884):W(2884);let D=z.side===At;ae&&(D=!D),We(D),z.blending===Zl&&z.transparent===!1?Se(so):Se(z.blending,z.blendEquation,z.blendSrc,z.blendDst,z.blendEquationAlpha,z.blendSrcAlpha,z.blendDstAlpha,z.premultipliedAlpha),l.setFunc(z.depthFunc),l.setTest(z.depthTest),l.setMask(z.depthWrite),a.setMask(z.colorWrite);const oe=z.stencilWrite;c.setTest(oe),oe&&(c.setMask(z.stencilWriteMask),c.setFunc(z.stencilFunc,z.stencilRef,z.stencilFuncMask),c.setOp(z.stencilFail,z.stencilZFail,z.stencilZPass)),Me(z.polygonOffset,z.polygonOffsetFactor,z.polygonOffsetUnits)}function We(z){_!==z&&(z?e.frontFace(2304):e.frontFace(2305),_=z)}function Pe(z){z!==fR?(W(2884),z!==b&&(z===Ow?e.cullFace(1029):z===hR?e.cullFace(1028):e.cullFace(1032))):ee(2884),b=z}function De(z){z!==M&&(R&&e.lineWidth(z),M=z)}function Me(z,ae,D){z?(W(32823),(N!==ae||S!==D)&&(e.polygonOffset(ae,D),N=ae,S=D)):ee(32823)}function te(z){z?W(3089):ee(3089)}function ne(z){z===void 0&&(z=33984+U-1),P!==z&&(e.activeTexture(z),P=z)}function se(z,ae){P===null&&ne();let D=C[P];D===void 0&&(D={type:void 0,texture:void 0},C[P]=D),(D.type!==z||D.texture!==ae)&&(e.bindTexture(z,ae||H[z]),D.type=z,D.texture=ae)}function xe(){const z=C[P];z!==void 0&&z.type!==void 0&&(e.bindTexture(z.type,null),z.type=void 0,z.texture=void 0)}function fe(){try{e.compressedTexImage2D.apply(e,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function Ce(){try{e.texImage2D.apply(e,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function T(){try{e.texImage3D.apply(e,arguments)}catch(z){console.error("THREE.WebGLState:",z)}}function O(z){B.equals(z)===!1&&(e.scissor(z.x,z.y,z.z,z.w),B.copy(z))}function re(z){L.equals(z)===!1&&(e.viewport(z.x,z.y,z.z,z.w),L.copy(z))}function K(){u={},P=null,C={},f=null,d=null,_=null,b=null,a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:W,disable:ee,useProgram:ce,setBlending:Se,setMaterial:Y,setFlipSided:We,setCullFace:Pe,setLineWidth:De,setPolygonOffset:Me,setScissorTest:te,activeTexture:ne,bindTexture:se,unbindTexture:xe,compressedTexImage2D:fe,texImage2D:Ce,texImage3D:T,scissor:O,viewport:re,reset:K}}function YI(e,t,n,i,r,o,s){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,f=r.maxSamples,h=new WeakMap;let d,m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(T,O){return m?new OffscreenCanvas(T,O):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function x(T,O,re,K){let z=1;if((T.width>K||T.height>K)&&(z=K/Math.max(T.width,T.height)),z<1||O===!0)if(typeof HTMLImageElement<"u"&&T instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&T instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&T instanceof ImageBitmap){const ae=O?ze.floorPowerOfTwo:Math.floor,D=ae(z*T.width),oe=ae(z*T.height);d===void 0&&(d=v(D,oe));const Q=re?v(D,oe):d;return Q.width=D,Q.height=oe,Q.getContext("2d").drawImage(T,0,0,D,oe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+T.width+"x"+T.height+") to ("+D+"x"+oe+")."),Q}else return"data"in T&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+T.width+"x"+T.height+")."),T;return T}function p(T){return ze.isPowerOfTwo(T.width)&&ze.isPowerOfTwo(T.height)}function g(T){return a?!1:T.wrapS!==mn||T.wrapT!==mn||T.minFilter!==Ut&&T.minFilter!==Qt}function w(T,O){return T.generateMipmaps&&O&&T.minFilter!==Ut&&T.minFilter!==Qt}function y(T,O,re,K){e.generateMipmap(T);const z=i.get(O);z.__maxMipLevel=Math.log(Math.max(re,K))*Math.LOG2E}function _(T,O,re){if(a===!1)return O;if(T!==null){if(e[T]!==void 0)return e[T];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+T+"'")}let K=O;return O===6403&&(re===5126&&(K=33326),re===5131&&(K=33325),re===5121&&(K=33321)),O===6407&&(re===5126&&(K=34837),re===5131&&(K=34843),re===5121&&(K=32849)),O===6408&&(re===5126&&(K=34836),re===5131&&(K=34842),re===5121&&(K=32856)),(K===33325||K===33326||K===34842||K===34836)&&t.get("EXT_color_buffer_float"),K}function b(T){return T===Ut||T===uy||T===fy?9728:9729}function M(T){const O=T.target;O.removeEventListener("dispose",M),S(O),O.isVideoTexture&&h.delete(O),s.memory.textures--}function N(T){const O=T.target;O.removeEventListener("dispose",N),U(O),s.memory.textures--}function S(T){const O=i.get(T);O.__webglInit!==void 0&&(e.deleteTexture(O.__webglTexture),i.remove(T))}function U(T){const O=i.get(T),re=i.get(T.texture);if(T){if(re.__webglTexture!==void 0&&e.deleteTexture(re.__webglTexture),T.depthTexture&&T.depthTexture.dispose(),T.isWebGLCubeRenderTarget)for(let K=0;K<6;K++)e.deleteFramebuffer(O.__webglFramebuffer[K]),O.__webglDepthbuffer&&e.deleteRenderbuffer(O.__webglDepthbuffer[K]);else e.deleteFramebuffer(O.__webglFramebuffer),O.__webglDepthbuffer&&e.deleteRenderbuffer(O.__webglDepthbuffer),O.__webglMultisampledFramebuffer&&e.deleteFramebuffer(O.__webglMultisampledFramebuffer),O.__webglColorRenderbuffer&&e.deleteRenderbuffer(O.__webglColorRenderbuffer),O.__webglDepthRenderbuffer&&e.deleteRenderbuffer(O.__webglDepthRenderbuffer);i.remove(T.texture),i.remove(T)}}let R=0;function F(){R=0}function k(){const T=R;return T>=l&&console.warn("THREE.WebGLTextures: Trying to use "+T+" texture units while this GPU supports only "+l),R+=1,T}function P(T,O){const re=i.get(T);if(T.isVideoTexture&&ne(T),T.version>0&&re.__version!==T.version){const K=T.image;if(K===void 0)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else if(K.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ge(re,T,O);return}}n.activeTexture(33984+O),n.bindTexture(3553,re.__webglTexture)}function C(T,O){const re=i.get(T);if(T.version>0&&re.__version!==T.version){ge(re,T,O);return}n.activeTexture(33984+O),n.bindTexture(35866,re.__webglTexture)}function B(T,O){const re=i.get(T);if(T.version>0&&re.__version!==T.version){ge(re,T,O);return}n.activeTexture(33984+O),n.bindTexture(32879,re.__webglTexture)}function L(T,O){if(T.image.length!==6)return;const re=i.get(T);if(T.version>0&&re.__version!==T.version){ce(re,T),n.activeTexture(33984+O),n.bindTexture(34067,re.__webglTexture),e.pixelStorei(37440,T.flipY);const K=T&&(T.isCompressedTexture||T.image[0].isCompressedTexture),z=T.image[0]&&T.image[0].isDataTexture,ae=[];for(let _e=0;_e<6;_e++)!K&&!z?ae[_e]=x(T.image[_e],!1,!0,c):ae[_e]=z?T.image[_e].image:T.image[_e];const D=ae[0],oe=p(D)||a,Q=o.convert(T.format),le=o.convert(T.type),Te=_(T.internalFormat,Q,le);ee(34067,T,oe);let be;if(K){for(let _e=0;_e<6;_e++){be=ae[_e].mipmaps;for(let Ae=0;Ae<be.length;Ae++){const Ye=be[Ae];T.format!==wi&&T.format!==jo?Q!==null?n.compressedTexImage2D(34069+_e,Ae,Te,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+_e,Ae,Te,Ye.width,Ye.height,0,Q,le,Ye.data)}}re.__maxMipLevel=be.length-1}else{be=T.mipmaps;for(let _e=0;_e<6;_e++)if(z){n.texImage2D(34069+_e,0,Te,ae[_e].width,ae[_e].height,0,Q,le,ae[_e].data);for(let Ae=0;Ae<be.length;Ae++){const it=be[Ae].image[_e].image;n.texImage2D(34069+_e,Ae+1,Te,it.width,it.height,0,Q,le,it.data)}}else{n.texImage2D(34069+_e,0,Te,Q,le,ae[_e]);for(let Ae=0;Ae<be.length;Ae++){const Ye=be[Ae];n.texImage2D(34069+_e,Ae+1,Te,Q,le,Ye.image[_e])}}re.__maxMipLevel=be.length}w(T,oe)&&y(34067,T,D.width,D.height),re.__version=T.version,T.onUpdate&&T.onUpdate(T)}else n.activeTexture(33984+O),n.bindTexture(34067,re.__webglTexture)}function I(T,O){n.activeTexture(33984+O),n.bindTexture(34067,i.get(T).__webglTexture)}const H={[id]:10497,[mn]:33071,[rd]:33648},W={[Ut]:9728,[uy]:9984,[fy]:9986,[Qt]:9729,[uS]:9985,[Mp]:9987};function ee(T,O,re){re?(e.texParameteri(T,10242,H[O.wrapS]),e.texParameteri(T,10243,H[O.wrapT]),(T===32879||T===35866)&&e.texParameteri(T,32882,H[O.wrapR]),e.texParameteri(T,10240,W[O.magFilter]),e.texParameteri(T,10241,W[O.minFilter])):(e.texParameteri(T,10242,33071),e.texParameteri(T,10243,33071),(T===32879||T===35866)&&e.texParameteri(T,32882,33071),(O.wrapS!==mn||O.wrapT!==mn)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(T,10240,b(O.magFilter)),e.texParameteri(T,10241,b(O.minFilter)),O.minFilter!==Ut&&O.minFilter!==Qt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const K=t.get("EXT_texture_filter_anisotropic");if(K){if(O.type===Wr&&t.get("OES_texture_float_linear")===null||O.type===sd&&(a||t.get("OES_texture_half_float_linear"))===null)return;(O.anisotropy>1||i.get(O).__currentAnisotropy)&&(e.texParameterf(T,K.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(O.anisotropy,r.getMaxAnisotropy())),i.get(O).__currentAnisotropy=O.anisotropy)}}function ce(T,O){T.__webglInit===void 0&&(T.__webglInit=!0,O.addEventListener("dispose",M),T.__webglTexture=e.createTexture(),s.memory.textures++)}function ge(T,O,re){let K=3553;O.isDataTexture2DArray&&(K=35866),O.isDataTexture3D&&(K=32879),ce(T,O),n.activeTexture(33984+re),n.bindTexture(K,T.__webglTexture),e.pixelStorei(37440,O.flipY),e.pixelStorei(37441,O.premultiplyAlpha),e.pixelStorei(3317,O.unpackAlignment);const z=g(O)&&p(O.image)===!1,ae=x(O.image,z,!1,u),D=p(ae)||a,oe=o.convert(O.format);let Q=o.convert(O.type),le=_(O.internalFormat,oe,Q);ee(K,O,D);let Te;const be=O.mipmaps;if(O.isDepthTexture)le=6402,a?O.type===Wr?le=36012:O.type===Eh?le=33190:O.type===Kl?le=35056:le=33189:O.type===Wr&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),O.format===ha&&le===6402&&O.type!==od&&O.type!==Eh&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),O.type=od,Q=o.convert(O.type)),O.format===Cc&&le===6402&&(le=34041,O.type!==Kl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),O.type=Kl,Q=o.convert(O.type))),n.texImage2D(3553,0,le,ae.width,ae.height,0,oe,Q,null);else if(O.isDataTexture)if(be.length>0&&D){for(let _e=0,Ae=be.length;_e<Ae;_e++)Te=be[_e],n.texImage2D(3553,_e,le,Te.width,Te.height,0,oe,Q,Te.data);O.generateMipmaps=!1,T.__maxMipLevel=be.length-1}else n.texImage2D(3553,0,le,ae.width,ae.height,0,oe,Q,ae.data),T.__maxMipLevel=0;else if(O.isCompressedTexture){for(let _e=0,Ae=be.length;_e<Ae;_e++)Te=be[_e],O.format!==wi&&O.format!==jo?oe!==null?n.compressedTexImage2D(3553,_e,le,Te.width,Te.height,0,Te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,_e,le,Te.width,Te.height,0,oe,Q,Te.data);T.__maxMipLevel=be.length-1}else if(O.isDataTexture2DArray)n.texImage3D(35866,0,le,ae.width,ae.height,ae.depth,0,oe,Q,ae.data),T.__maxMipLevel=0;else if(O.isDataTexture3D)n.texImage3D(32879,0,le,ae.width,ae.height,ae.depth,0,oe,Q,ae.data),T.__maxMipLevel=0;else if(be.length>0&&D){for(let _e=0,Ae=be.length;_e<Ae;_e++)Te=be[_e],n.texImage2D(3553,_e,le,oe,Q,Te);O.generateMipmaps=!1,T.__maxMipLevel=be.length-1}else n.texImage2D(3553,0,le,oe,Q,ae),T.__maxMipLevel=0;w(O,D)&&y(K,O,ae.width,ae.height),T.__version=O.version,O.onUpdate&&O.onUpdate(O)}function Re(T,O,re,K){const z=o.convert(O.texture.format),ae=o.convert(O.texture.type),D=_(O.texture.internalFormat,z,ae);n.texImage2D(K,0,D,O.width,O.height,0,z,ae,null),e.bindFramebuffer(36160,T),e.framebufferTexture2D(36160,re,K,i.get(O.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function Se(T,O,re){if(e.bindRenderbuffer(36161,T),O.depthBuffer&&!O.stencilBuffer){let K=33189;if(re){const z=O.depthTexture;z&&z.isDepthTexture&&(z.type===Wr?K=36012:z.type===Eh&&(K=33190));const ae=te(O);e.renderbufferStorageMultisample(36161,ae,K,O.width,O.height)}else e.renderbufferStorage(36161,K,O.width,O.height);e.framebufferRenderbuffer(36160,36096,36161,T)}else if(O.depthBuffer&&O.stencilBuffer){if(re){const K=te(O);e.renderbufferStorageMultisample(36161,K,35056,O.width,O.height)}else e.renderbufferStorage(36161,34041,O.width,O.height);e.framebufferRenderbuffer(36160,33306,36161,T)}else{const K=o.convert(O.texture.format),z=o.convert(O.texture.type),ae=_(O.texture.internalFormat,K,z);if(re){const D=te(O);e.renderbufferStorageMultisample(36161,D,ae,O.width,O.height)}else e.renderbufferStorage(36161,ae,O.width,O.height)}e.bindRenderbuffer(36161,null)}function Y(T,O){if(O&&O.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,T),!(O.depthTexture&&O.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(O.depthTexture).__webglTexture||O.depthTexture.image.width!==O.width||O.depthTexture.image.height!==O.height)&&(O.depthTexture.image.width=O.width,O.depthTexture.image.height=O.height,O.depthTexture.needsUpdate=!0),P(O.depthTexture,0);const K=i.get(O.depthTexture).__webglTexture;if(O.depthTexture.format===ha)e.framebufferTexture2D(36160,36096,3553,K,0);else if(O.depthTexture.format===Cc)e.framebufferTexture2D(36160,33306,3553,K,0);else throw new Error("Unknown depthTexture format")}function We(T){const O=i.get(T),re=T.isWebGLCubeRenderTarget===!0;if(T.depthTexture){if(re)throw new Error("target.depthTexture not supported in Cube render targets");Y(O.__webglFramebuffer,T)}else if(re){O.__webglDepthbuffer=[];for(let K=0;K<6;K++)e.bindFramebuffer(36160,O.__webglFramebuffer[K]),O.__webglDepthbuffer[K]=e.createRenderbuffer(),Se(O.__webglDepthbuffer[K],T,!1)}else e.bindFramebuffer(36160,O.__webglFramebuffer),O.__webglDepthbuffer=e.createRenderbuffer(),Se(O.__webglDepthbuffer,T,!1);e.bindFramebuffer(36160,null)}function Pe(T){const O=i.get(T),re=i.get(T.texture);T.addEventListener("dispose",N),re.__webglTexture=e.createTexture(),s.memory.textures++;const K=T.isWebGLCubeRenderTarget===!0,z=T.isWebGLMultisampleRenderTarget===!0,ae=p(T)||a;if(a&&T.texture.format===jo&&(T.texture.type===Wr||T.texture.type===sd)&&(T.texture.format=wi,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),K){O.__webglFramebuffer=[];for(let D=0;D<6;D++)O.__webglFramebuffer[D]=e.createFramebuffer()}else if(O.__webglFramebuffer=e.createFramebuffer(),z)if(a){O.__webglMultisampledFramebuffer=e.createFramebuffer(),O.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,O.__webglColorRenderbuffer);const D=o.convert(T.texture.format),oe=o.convert(T.texture.type),Q=_(T.texture.internalFormat,D,oe),le=te(T);e.renderbufferStorageMultisample(36161,le,Q,T.width,T.height),e.bindFramebuffer(36160,O.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,O.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),T.depthBuffer&&(O.__webglDepthRenderbuffer=e.createRenderbuffer(),Se(O.__webglDepthRenderbuffer,T,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(K){n.bindTexture(34067,re.__webglTexture),ee(34067,T.texture,ae);for(let D=0;D<6;D++)Re(O.__webglFramebuffer[D],T,36064,34069+D);w(T.texture,ae)&&y(34067,T.texture,T.width,T.height),n.bindTexture(34067,null)}else n.bindTexture(3553,re.__webglTexture),ee(3553,T.texture,ae),Re(O.__webglFramebuffer,T,36064,3553),w(T.texture,ae)&&y(3553,T.texture,T.width,T.height),n.bindTexture(3553,null);T.depthBuffer&&We(T)}function De(T){const O=T.texture,re=p(T)||a;if(w(O,re)){const K=T.isWebGLCubeRenderTarget?34067:3553,z=i.get(O).__webglTexture;n.bindTexture(K,z),y(K,O,T.width,T.height),n.bindTexture(K,null)}}function Me(T){if(T.isWebGLMultisampleRenderTarget)if(a){const O=i.get(T);e.bindFramebuffer(36008,O.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,O.__webglFramebuffer);const re=T.width,K=T.height;let z=16384;T.depthBuffer&&(z|=256),T.stencilBuffer&&(z|=1024),e.blitFramebuffer(0,0,re,K,0,0,re,K,z,9728),e.bindFramebuffer(36160,O.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")}function te(T){return a&&T.isWebGLMultisampleRenderTarget?Math.min(f,T.samples):0}function ne(T){const O=s.render.frame;h.get(T)!==O&&(h.set(T,O),T.update())}let se=!1,xe=!1;function fe(T,O){T&&T.isWebGLRenderTarget&&(se===!1&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),se=!0),T=T.texture),P(T,O)}function Ce(T,O){T&&T.isWebGLCubeRenderTarget&&(xe===!1&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),xe=!0),T=T.texture),T&&T.isCubeTexture||Array.isArray(T.image)&&T.image.length===6?L(T,O):I(T,O)}this.allocateTextureUnit=k,this.resetTextureUnits=F,this.setTexture2D=P,this.setTexture2DArray=C,this.setTexture3D=B,this.setTextureCube=L,this.setTextureCubeDynamic=I,this.setupRenderTarget=Pe,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=Me,this.safeSetTexture2D=fe,this.safeSetTextureCube=Ce}function JI(e,t,n){const i=n.isWebGL2;function r(o){let s;if(o===Ru)return 5121;if(o===VR)return 32819;if(o===WR)return 32820;if(o===jR)return 33635;if(o===UR)return 5120;if(o===HR)return 5122;if(o===od)return 5123;if(o===GR)return 5124;if(o===Eh)return 5125;if(o===Wr)return 5126;if(o===sd)return i?5131:(s=t.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(o===qR)return 6406;if(o===jo)return 6407;if(o===wi)return 6408;if(o===$R)return 6409;if(o===XR)return 6410;if(o===ha)return 6402;if(o===Cc)return 34041;if(o===JR)return 6403;if(o===ZR)return 36244;if(o===KR)return 33319;if(o===QR)return 33320;if(o===e3)return 36248;if(o===t3)return 36249;if(o===Bw||o===zw||o===Uw||o===Hw)if(s=t.get("WEBGL_compressed_texture_s3tc"),s!==null){if(o===Bw)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===zw)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===Uw)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===Hw)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===Gw||o===Vw||o===Ww||o===jw)if(s=t.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(o===Gw)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===Vw)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===Ww)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===jw)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===n3)return s=t.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if((o===qw||o===$w)&&(s=t.get("WEBGL_compressed_texture_etc"),s!==null)){if(o===qw)return s.COMPRESSED_RGB8_ETC2;if(o===$w)return s.COMPRESSED_RGBA8_ETC2_EAC}if(o===i3||o===r3||o===o3||o===s3||o===a3||o===l3||o===c3||o===u3||o===f3||o===h3||o===d3||o===p3||o===m3||o===g3||o===v3||o===x3||o===w3||o===_3||o===b3||o===M3||o===E3||o===S3||o===T3||o===A3||o===P3||o===C3||o===L3||o===R3)return s=t.get("WEBGL_compressed_texture_astc"),s!==null?o:null;if(o===y3)return s=t.get("EXT_texture_compression_bptc"),s!==null?o:null;if(o===Kl)return i?34042:(s=t.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null)}return{convert:r}}function xy(e){Pt.call(this),this.cameras=e||[]}xy.prototype=Object.assign(Object.create(Pt.prototype),{constructor:xy,isArrayCamera:!0});function Pa(){ue.call(this),this.type="Group"}Pa.prototype=Object.assign(Object.create(ue.prototype),{constructor:Pa,isGroup:!0});function ud(){this._targetRay=null,this._grip=null}Object.assign(ud.prototype,{constructor:ud,getTargetRaySpace:function(){return this._targetRay===null&&(this._targetRay=new Pa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return this._grip===null&&(this._grip=new Pa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this},update:function(e,t,n){let i=null,r=null;const o=this._targetRay,s=this._grip;return e&&(o!==null&&(i=t.getPose(e.targetRaySpace,n),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),s!==null&&e.gripSpace&&(r=t.getPose(e.gripSpace,n),r!==null&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)))),o!==null&&(o.visible=i!==null),s!==null&&(s.visible=r!==null),this}});function CS(e,t){const n=this;let i=null,r=1,o=null,s="local-floor",a=null;const l=[],c=new Map,u=new Pt;u.layers.enable(1),u.viewport=new Ke;const f=new Pt;f.layers.enable(2),f.viewport=new Ke;const h=[u,f],d=new xy;d.layers.enable(1),d.layers.enable(2);let m=null,v=null;this.enabled=!1,this.isPresenting=!1,this.getController=function(R){let F=l[R];return F===void 0&&(F=new ud,l[R]=F),F.getTargetRaySpace()},this.getControllerGrip=function(R){let F=l[R];return F===void 0&&(F=new ud,l[R]=F),F.getGripSpace()};function x(R){const F=c.get(R.inputSource);F&&F.dispatchEvent({type:R.type})}function p(){c.forEach(function(R,F){R.disconnect(F)}),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),U.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function g(R){o=R,U.setContext(i),U.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}this.setFramebufferScaleFactor=function(R){r=R,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(R){s=R,n.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=function(R){if(i=R,i!==null){i.addEventListener("select",x),i.addEventListener("selectstart",x),i.addEventListener("selectend",x),i.addEventListener("squeeze",x),i.addEventListener("squeezestart",x),i.addEventListener("squeezeend",x),i.addEventListener("end",p);const F=t.getContextAttributes();F.xrCompatible!==!0&&t.makeXRCompatible();const k={antialias:F.antialias,alpha:F.alpha,depth:F.depth,stencil:F.stencil,framebufferScaleFactor:r},P=new XRWebGLLayer(i,t,k);i.updateRenderState({baseLayer:P}),i.requestReferenceSpace(s).then(g),i.addEventListener("inputsourceschange",w)}};function w(R){const F=i.inputSources;for(let k=0;k<l.length;k++)c.set(F[k],l[k]);for(let k=0;k<R.removed.length;k++){const P=R.removed[k],C=c.get(P);C&&(C.dispatchEvent({type:"disconnected",data:P}),c.delete(P))}for(let k=0;k<R.added.length;k++){const P=R.added[k],C=c.get(P);C&&C.dispatchEvent({type:"connected",data:P})}}const y=new E,_=new E;function b(R,F,k){y.setFromMatrixPosition(F.matrixWorld),_.setFromMatrixPosition(k.matrixWorld);const P=y.distanceTo(_),C=F.projectionMatrix.elements,B=k.projectionMatrix.elements,L=C[14]/(C[10]-1),I=C[14]/(C[10]+1),H=(C[9]+1)/C[5],W=(C[9]-1)/C[5],ee=(C[8]-1)/C[0],ce=(B[8]+1)/B[0],ge=L*ee,Re=L*ce,Se=P/(-ee+ce),Y=Se*-ee;F.matrixWorld.decompose(R.position,R.quaternion,R.scale),R.translateX(Y),R.translateZ(Se),R.matrixWorld.compose(R.position,R.quaternion,R.scale),R.matrixWorldInverse.getInverse(R.matrixWorld);const We=L+Se,Pe=I+Se,De=ge-Y,Me=Re+(P-Y),te=H*I/Pe*We,ne=W*I/Pe*We;R.projectionMatrix.makePerspective(De,Me,te,ne,We,Pe)}function M(R,F){F===null?R.matrixWorld.copy(R.matrix):R.matrixWorld.multiplyMatrices(F.matrixWorld,R.matrix),R.matrixWorldInverse.getInverse(R.matrixWorld)}this.getCamera=function(R){d.near=f.near=u.near=R.near,d.far=f.far=u.far=R.far,(m!==d.near||v!==d.far)&&(i.updateRenderState({depthNear:d.near,depthFar:d.far}),m=d.near,v=d.far);const F=R.parent,k=d.cameras;M(d,F);for(let C=0;C<k.length;C++)M(k[C],F);R.matrixWorld.copy(d.matrixWorld);const P=R.children;for(let C=0,B=P.length;C<B;C++)P[C].updateMatrixWorld(!0);return k.length===2?b(d,u,f):d.projectionMatrix.copy(u.projectionMatrix),d};let N=null;function S(R,F){if(a=F.getViewerPose(o),a!==null){const P=a.views,C=i.renderState.baseLayer;e.setFramebuffer(C.framebuffer);let B=!1;P.length!==d.cameras.length&&(d.cameras.length=0,B=!0);for(let L=0;L<P.length;L++){const I=P[L],H=C.getViewport(I),W=h[L];W.matrix.fromArray(I.transform.matrix),W.projectionMatrix.fromArray(I.projectionMatrix),W.viewport.set(H.x,H.y,H.width,H.height),L===0&&d.matrix.copy(W.matrix),B===!0&&d.cameras.push(W)}}const k=i.inputSources;for(let P=0;P<l.length;P++){const C=l[P],B=k[P];C.update(B,F,o)}N&&N(R,F)}const U=new wS;U.setAnimationLoop(S),this.setAnimationLoop=function(R){N=R},this.dispose=function(){}}Object.assign(CS.prototype,Gt.prototype);function ZI(e){function t(p,g){p.fogColor.value.copy(g.color),g.isFog?(p.fogNear.value=g.near,p.fogFar.value=g.far):g.isFogExp2&&(p.fogDensity.value=g.density)}function n(p,g,w,y,_){g.isMeshBasicMaterial?i(p,g):g.isMeshLambertMaterial?(i(p,g),l(p,g)):g.isMeshToonMaterial?(i(p,g),u(p,g)):g.isMeshPhongMaterial?(i(p,g),c(p,g)):g.isMeshStandardMaterial?(i(p,g,w),g.isMeshPhysicalMaterial?h(p,g,w):f(p,g,w)):g.isMeshMatcapMaterial?(i(p,g),d(p,g)):g.isMeshDepthMaterial?(i(p,g),m(p,g)):g.isMeshDistanceMaterial?(i(p,g),v(p,g)):g.isMeshNormalMaterial?(i(p,g),x(p,g)):g.isLineBasicMaterial?(r(p,g),g.isLineDashedMaterial&&o(p,g)):g.isPointsMaterial?s(p,g,y,_):g.isSpriteMaterial?a(p,g):g.isShadowMaterial?(p.color.value.copy(g.color),p.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function i(p,g,w){p.opacity.value=g.opacity,g.color&&p.diffuse.value.copy(g.color),g.emissive&&p.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap),g.specularMap&&(p.specularMap.value=g.specularMap);const y=g.envMap||w;y&&(p.envMap.value=y,p.flipEnvMap.value=y.isCubeTexture?-1:1,p.reflectivity.value=g.reflectivity,p.refractionRatio.value=g.refractionRatio,p.maxMipLevel.value=e.get(y).__maxMipLevel),g.lightMap&&(p.lightMap.value=g.lightMap,p.lightMapIntensity.value=g.lightMapIntensity),g.aoMap&&(p.aoMap.value=g.aoMap,p.aoMapIntensity.value=g.aoMapIntensity);let _;g.map?_=g.map:g.specularMap?_=g.specularMap:g.displacementMap?_=g.displacementMap:g.normalMap?_=g.normalMap:g.bumpMap?_=g.bumpMap:g.roughnessMap?_=g.roughnessMap:g.metalnessMap?_=g.metalnessMap:g.alphaMap?_=g.alphaMap:g.emissiveMap&&(_=g.emissiveMap),_!==void 0&&(_.isWebGLRenderTarget&&(_=_.texture),_.matrixAutoUpdate===!0&&_.updateMatrix(),p.uvTransform.value.copy(_.matrix));let b;g.aoMap?b=g.aoMap:g.lightMap&&(b=g.lightMap),b!==void 0&&(b.isWebGLRenderTarget&&(b=b.texture),b.matrixAutoUpdate===!0&&b.updateMatrix(),p.uv2Transform.value.copy(b.matrix))}function r(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity}function o(p,g){p.dashSize.value=g.dashSize,p.totalSize.value=g.dashSize+g.gapSize,p.scale.value=g.scale}function s(p,g,w,y){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.size.value=g.size*w,p.scale.value=y*.5,g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap);let _;g.map?_=g.map:g.alphaMap&&(_=g.alphaMap),_!==void 0&&(_.matrixAutoUpdate===!0&&_.updateMatrix(),p.uvTransform.value.copy(_.matrix))}function a(p,g){p.diffuse.value.copy(g.color),p.opacity.value=g.opacity,p.rotation.value=g.rotation,g.map&&(p.map.value=g.map),g.alphaMap&&(p.alphaMap.value=g.alphaMap);let w;g.map?w=g.map:g.alphaMap&&(w=g.alphaMap),w!==void 0&&(w.matrixAutoUpdate===!0&&w.updateMatrix(),p.uvTransform.value.copy(w.matrix))}function l(p,g){g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap)}function c(p,g){p.specular.value.copy(g.specular),p.shininess.value=Math.max(g.shininess,1e-4),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===At&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===At&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias)}function u(p,g){g.gradientMap&&(p.gradientMap.value=g.gradientMap),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===At&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===At&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias)}function f(p,g,w){p.roughness.value=g.roughness,p.metalness.value=g.metalness,g.roughnessMap&&(p.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(p.metalnessMap.value=g.metalnessMap),g.emissiveMap&&(p.emissiveMap.value=g.emissiveMap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===At&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===At&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),(g.envMap||w)&&(p.envMapIntensity.value=g.envMapIntensity)}function h(p,g,w){f(p,g,w),p.reflectivity.value=g.reflectivity,p.clearcoat.value=g.clearcoat,p.clearcoatRoughness.value=g.clearcoatRoughness,g.sheen&&p.sheen.value.copy(g.sheen),g.clearcoatMap&&(p.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(p.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(p.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),p.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===At&&p.clearcoatNormalScale.value.negate()),p.transparency.value=g.transparency}function d(p,g){g.matcap&&(p.matcap.value=g.matcap),g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===At&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===At&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias)}function m(p,g){g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias)}function v(p,g){g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias),p.referencePosition.value.copy(g.referencePosition),p.nearDistance.value=g.nearDistance,p.farDistance.value=g.farDistance}function x(p,g){g.bumpMap&&(p.bumpMap.value=g.bumpMap,p.bumpScale.value=g.bumpScale,g.side===At&&(p.bumpScale.value*=-1)),g.normalMap&&(p.normalMap.value=g.normalMap,p.normalScale.value.copy(g.normalScale),g.side===At&&p.normalScale.value.negate()),g.displacementMap&&(p.displacementMap.value=g.displacementMap,p.displacementScale.value=g.displacementScale,p.displacementBias.value=g.displacementBias)}return{refreshFogUniforms:t,refreshMaterialUniforms:n}}function Du(e){e=e||{};const t=e.canvas!==void 0?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=e.context!==void 0?e.context:null,i=e.alpha!==void 0?e.alpha:!1,r=e.depth!==void 0?e.depth:!0,o=e.stencil!==void 0?e.stencil:!0,s=e.antialias!==void 0?e.antialias:!1,a=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,l=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,c=e.powerPreference!==void 0?e.powerPreference:"default",u=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1;let f=null,h=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Mn,this.physicallyCorrectLights=!1,this.toneMapping=fa,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const d=this;let m=!1,v=null,x=0,p=0,g=null,w=null,y=-1,_=null,b=null;const M=new Ke,N=new Ke;let S=null,U=t.width,R=t.height,F=1,k=null,P=null;const C=new Ke(0,0,U,R),B=new Ke(0,0,U,R);let L=!1;const I=new Ou,H=new PN;let W=!1,ee=!1;const ce=new Ge,ge=new E,Re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Se(){return g===null?F:1}let Y=n;function We(A,q){for(let G=0;G<A.length;G++){const Z=A[G],pe=t.getContext(Z,q);if(pe!==null)return pe}return null}try{const A={alpha:i,depth:r,stencil:o,antialias:s,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",Ae,!1),t.addEventListener("webglcontextrestored",Ye,!1),Y===null){const q=["webgl2","webgl","experimental-webgl"];if(d.isWebGL1Renderer===!0&&q.shift(),Y=We(q,A),Y===null)throw We(q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}Y.getShaderPrecisionFormat===void 0&&(Y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(A){throw console.error("THREE.WebGLRenderer: "+A.message),A}let Pe,De,Me,te,ne,se,xe,fe,Ce,T,O,re,K,z,ae,D,oe,Q,le;function Te(){Pe=new CN(Y),De=new AN(Y,Pe,e),De.isWebGL2===!1&&(Pe.get("WEBGL_depth_texture"),Pe.get("OES_texture_float"),Pe.get("OES_texture_half_float"),Pe.get("OES_texture_half_float_linear"),Pe.get("OES_standard_derivatives"),Pe.get("OES_element_index_uint"),Pe.get("OES_vertex_array_object"),Pe.get("ANGLE_instanced_arrays")),Pe.get("OES_texture_float_linear"),Q=new JI(Y,Pe,De),Me=new XI(Y,Pe,De),Me.scissor(N.copy(B).multiplyScalar(F).floor()),Me.viewport(M.copy(C).multiplyScalar(F).floor()),te=new ON,ne=new kI,se=new YI(Y,Pe,Me,ne,De,Q,te),xe=new rO(Y,De),le=new SN(Y,Pe,xe,De),fe=new LN(Y,xe,te,le),Ce=new kN(Y,fe,xe,te),ae=new IN(Y),T=new II(d,Pe,De,le),O=new ZI(ne),re=new zI,K=new jI,z=new EN(d,Me,Ce,a),D=new TN(Y,Pe,te,De),oe=new RN(Y,Pe,te,De),te.programs=T.programs,d.capabilities=De,d.extensions=Pe,d.properties=ne,d.renderLists=re,d.state=Me,d.info=te}Te();const be=new CS(d,Y);this.xr=be;const _e=new PS(d,Ce,De.maxTextureSize);this.shadowMap=_e,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const A=Pe.get("WEBGL_lose_context");A&&A.loseContext()},this.forceContextRestore=function(){const A=Pe.get("WEBGL_lose_context");A&&A.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(A){A!==void 0&&(F=A,this.setSize(U,R,!1))},this.getSize=function(A){return A===void 0&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),A=new X),A.set(U,R)},this.setSize=function(A,q,G){if(be.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=A,R=q,t.width=Math.floor(A*F),t.height=Math.floor(q*F),G!==!1&&(t.style.width=A+"px",t.style.height=q+"px"),this.setViewport(0,0,A,q)},this.getDrawingBufferSize=function(A){return A===void 0&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),A=new X),A.set(U*F,R*F).floor()},this.setDrawingBufferSize=function(A,q,G){U=A,R=q,F=G,t.width=Math.floor(A*G),t.height=Math.floor(q*G),this.setViewport(0,0,A,q)},this.getCurrentViewport=function(A){return A===void 0&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),A=new Ke),A.copy(M)},this.getViewport=function(A){return A.copy(C)},this.setViewport=function(A,q,G,Z){A.isVector4?C.set(A.x,A.y,A.z,A.w):C.set(A,q,G,Z),Me.viewport(M.copy(C).multiplyScalar(F).floor())},this.getScissor=function(A){return A.copy(B)},this.setScissor=function(A,q,G,Z){A.isVector4?B.set(A.x,A.y,A.z,A.w):B.set(A,q,G,Z),Me.scissor(N.copy(B).multiplyScalar(F).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(A){Me.setScissorTest(L=A)},this.setOpaqueSort=function(A){k=A},this.setTransparentSort=function(A){P=A},this.getClearColor=function(){return z.getClearColor()},this.setClearColor=function(){z.setClearColor.apply(z,arguments)},this.getClearAlpha=function(){return z.getClearAlpha()},this.setClearAlpha=function(){z.setClearAlpha.apply(z,arguments)},this.clear=function(A,q,G){let Z=0;(A===void 0||A)&&(Z|=16384),(q===void 0||q)&&(Z|=256),(G===void 0||G)&&(Z|=1024),Y.clear(Z)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ae,!1),t.removeEventListener("webglcontextrestored",Ye,!1),re.dispose(),K.dispose(),ne.dispose(),Ce.dispose(),le.dispose(),be.dispose(),He.stop()};function Ae(A){A.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function Ye(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1,Te()}function it(A){const q=A.target;q.removeEventListener("dispose",it),Fp(q)}function Fp(A){$(A),ne.remove(A)}function $(A){const q=ne.get(A).program;A.program=void 0,q!==void 0&&T.releaseProgram(q)}function we(A,q){A.render(function(G){d.renderBufferImmediate(G,q)})}this.renderBufferImmediate=function(A,q){le.initAttributes();const G=ne.get(A);A.hasPositions&&!G.position&&(G.position=Y.createBuffer()),A.hasNormals&&!G.normal&&(G.normal=Y.createBuffer()),A.hasUvs&&!G.uv&&(G.uv=Y.createBuffer()),A.hasColors&&!G.color&&(G.color=Y.createBuffer());const Z=q.getAttributes();A.hasPositions&&(Y.bindBuffer(34962,G.position),Y.bufferData(34962,A.positionArray,35048),le.enableAttribute(Z.position),Y.vertexAttribPointer(Z.position,3,5126,!1,0,0)),A.hasNormals&&(Y.bindBuffer(34962,G.normal),Y.bufferData(34962,A.normalArray,35048),le.enableAttribute(Z.normal),Y.vertexAttribPointer(Z.normal,3,5126,!1,0,0)),A.hasUvs&&(Y.bindBuffer(34962,G.uv),Y.bufferData(34962,A.uvArray,35048),le.enableAttribute(Z.uv),Y.vertexAttribPointer(Z.uv,2,5126,!1,0,0)),A.hasColors&&(Y.bindBuffer(34962,G.color),Y.bufferData(34962,A.colorArray,35048),le.enableAttribute(Z.color),Y.vertexAttribPointer(Z.color,3,5126,!1,0,0)),le.disableUnusedAttributes(),Y.drawArrays(4,0,A.count),A.count=0},this.renderBufferDirect=function(A,q,G,Z,pe,je){q===null&&(q=Re);const Ue=pe.isMesh&&pe.matrixWorld.determinant()<0,Le=Ti(A,q,Z,pe);Me.setMaterial(Z,Ue);let xt=G.index;const dt=G.attributes.position;if(xt===null){if(dt===void 0||dt.count===0)return}else if(xt.count===0)return;let ft=1;Z.wireframe===!0&&(xt=fe.getWireframeAttribute(G),ft=2),(Z.morphTargets||Z.morphNormals)&&ae.update(pe,G,Z,Le),le.setup(pe,Z,Le,G,xt);let Mt,Be=D;xt!==null&&(Mt=xe.get(xt),Be=oe,Be.setIndex(Mt));const wt=xt!==null?xt.count:dt.count,Dt=G.drawRange.start*ft,st=G.drawRange.count*ft,Uu=je!==null?je.start*ft:0,oi=je!==null?je.count*ft:1/0,Tr=Math.max(Dt,Uu),Bp=Math.min(wt,Dt+st,Uu+oi)-1,Hu=Math.max(0,Bp-Tr+1);if(Hu!==0){if(pe.isMesh)Z.wireframe===!0?(Me.setLineWidth(Z.wireframeLinewidth*Se()),Be.setMode(1)):Be.setMode(4);else if(pe.isLine){let ul=Z.linewidth;ul===void 0&&(ul=1),Me.setLineWidth(ul*Se()),pe.isLineSegments?Be.setMode(1):pe.isLineLoop?Be.setMode(2):Be.setMode(3)}else pe.isPoints?Be.setMode(0):pe.isSprite&&Be.setMode(4);if(pe.isInstancedMesh)Be.renderInstances(G,Tr,Hu,pe.count);else if(G.isInstancedBufferGeometry){const ul=Math.min(G.instanceCount,G._maxInstanceCount);Be.renderInstances(G,Tr,Hu,ul)}else Be.render(Tr,Hu)}},this.compile=function(A,q){h=K.get(A,q),h.init(),A.traverse(function(Z){Z.isLight&&(h.pushLight(Z),Z.castShadow&&h.pushShadow(Z))}),h.setupLights(q);const G=new WeakMap;A.traverse(function(Z){let pe=Z.material;if(pe)if(Array.isArray(pe))for(let je=0;je<pe.length;je++){let Ue=pe[je];G.has(Ue)===!1&&(Bn(Ue,A,Z),G.set(Ue))}else G.has(pe)===!1&&(Bn(pe,A,Z),G.set(pe))})};let Oe=null;function Ze(A){be.isPresenting||Oe&&Oe(A)}const He=new wS;He.setAnimationLoop(Ze),typeof window<"u"&&He.setContext(window),this.setAnimationLoop=function(A){Oe=A,be.setAnimationLoop(A),A===null?He.stop():He.start()},this.render=function(A,q){let G,Z;if(arguments[2]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),G=arguments[2]),arguments[3]!==void 0&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),Z=arguments[3]),q!==void 0&&q.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(m===!0)return;le.resetDefaultState(),y=-1,_=null,A.autoUpdate===!0&&A.updateMatrixWorld(),q.parent===null&&q.updateMatrixWorld(),be.enabled===!0&&be.isPresenting===!0&&(q=be.getCamera(q)),A.isScene===!0&&A.onBeforeRender(d,A,q,G||g),h=K.get(A,q),h.init(),ce.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),I.setFromProjectionMatrix(ce),ee=this.localClippingEnabled,W=H.init(this.clippingPlanes,ee,q),f=re.get(A,q),f.init(),Ft(A,q,0,d.sortObjects),f.finish(),d.sortObjects===!0&&f.sort(k,P),W===!0&&H.beginShadows();const pe=h.state.shadowsArray;_e.render(pe,A,q),h.setupLights(q),W===!0&&H.endShadows(),this.info.autoReset===!0&&this.info.reset(),G!==void 0&&this.setRenderTarget(G),z.render(f,A,q,Z);const je=f.opaque,Ue=f.transparent;je.length>0&&nn(je,A,q),Ue.length>0&&nn(Ue,A,q),A.isScene===!0&&A.onAfterRender(d,A,q),g!==null&&(se.updateRenderTargetMipmap(g),se.updateMultisampleRenderTarget(g)),Me.buffers.depth.setTest(!0),Me.buffers.depth.setMask(!0),Me.buffers.color.setMask(!0),Me.setPolygonOffset(!1),f=null,h=null};function Ft(A,q,G,Z){if(A.visible===!1)return;if(A.layers.test(q.layers)){if(A.isGroup)G=A.renderOrder;else if(A.isLOD)A.autoUpdate===!0&&A.update(q);else if(A.isLight)h.pushLight(A),A.castShadow&&h.pushShadow(A);else if(A.isSprite){if(!A.frustumCulled||I.intersectsSprite(A)){Z&&ge.setFromMatrixPosition(A.matrixWorld).applyMatrix4(ce);const Ue=Ce.update(A),Le=A.material;Le.visible&&f.push(A,Ue,Le,G,ge.z,null)}}else if(A.isImmediateRenderObject)Z&&ge.setFromMatrixPosition(A.matrixWorld).applyMatrix4(ce),f.push(A,null,A.material,G,ge.z,null);else if((A.isMesh||A.isLine||A.isPoints)&&(A.isSkinnedMesh&&A.skeleton.frame!==te.render.frame&&(A.skeleton.update(),A.skeleton.frame=te.render.frame),!A.frustumCulled||I.intersectsObject(A))){Z&&ge.setFromMatrixPosition(A.matrixWorld).applyMatrix4(ce);const Ue=Ce.update(A),Le=A.material;if(Array.isArray(Le)){const xt=Ue.groups;for(let dt=0,ft=xt.length;dt<ft;dt++){const Mt=xt[dt],Be=Le[Mt.materialIndex];Be&&Be.visible&&f.push(A,Ue,Be,G,ge.z,Mt)}}else Le.visible&&f.push(A,Ue,Le,G,ge.z,null)}}const je=A.children;for(let Ue=0,Le=je.length;Ue<Le;Ue++)Ft(je[Ue],q,G,Z)}function nn(A,q,G){const Z=q.isScene===!0?q.overrideMaterial:null;for(let pe=0,je=A.length;pe<je;pe++){const Ue=A[pe],Le=Ue.object,xt=Ue.geometry,dt=Z===null?Ue.material:Z,ft=Ue.group;if(G.isArrayCamera){b=G;const Mt=G.cameras;for(let Be=0,wt=Mt.length;Be<wt;Be++){const Dt=Mt[Be];Le.layers.test(Dt.layers)&&(Me.viewport(M.copy(Dt.viewport)),h.setupLights(Dt),Ki(Le,q,Dt,xt,dt,ft))}}else b=null,Ki(Le,q,G,xt,dt,ft)}}function Ki(A,q,G,Z,pe,je){if(A.onBeforeRender(d,q,G,Z,pe,je),h=K.get(q,b||G),A.modelViewMatrix.multiplyMatrices(G.matrixWorldInverse,A.matrixWorld),A.normalMatrix.getNormalMatrix(A.modelViewMatrix),A.isImmediateRenderObject){const Ue=Ti(G,q,pe,A);Me.setMaterial(pe),le.reset(),we(A,Ue)}else d.renderBufferDirect(G,q,Z,pe,A,je);A.onAfterRender(d,q,G,Z,pe,je),h=K.get(q,b||G)}function Bn(A,q,G){q.isScene!==!0&&(q=Re);const Z=ne.get(A),pe=h.state.lights,je=h.state.shadowsArray,Ue=pe.state.version,Le=T.getParameters(A,pe.state,je,q,H.numPlanes,H.numIntersection,G),xt=T.getProgramCacheKey(Le);let dt=Z.program,ft=!0;if(dt===void 0)A.addEventListener("dispose",it);else if(dt.cacheKey!==xt)$(A);else if(Z.lightsStateVersion!==Ue)Z.lightsStateVersion=Ue,ft=!1;else{if(Le.shaderID!==void 0)return;ft=!1}ft&&(dt=T.acquireProgram(Le,xt),Z.program=dt,Z.uniforms=Le.uniforms,Z.outputEncoding=Le.outputEncoding,A.program=dt);const Mt=dt.getAttributes();if(A.morphTargets){A.numSupportedMorphTargets=0;for(let st=0;st<d.maxMorphTargets;st++)Mt["morphTarget"+st]>=0&&A.numSupportedMorphTargets++}if(A.morphNormals){A.numSupportedMorphNormals=0;for(let st=0;st<d.maxMorphNormals;st++)Mt["morphNormal"+st]>=0&&A.numSupportedMorphNormals++}const Be=Z.uniforms;(!A.isShaderMaterial&&!A.isRawShaderMaterial||A.clipping===!0)&&(Z.numClippingPlanes=H.numPlanes,Z.numIntersection=H.numIntersection,Be.clippingPlanes=H.uniform),Z.environment=A.isMeshStandardMaterial?q.environment:null,Z.fog=q.fog,Z.needsLights=gs(A),Z.lightsStateVersion=Ue,Z.needsLights&&(Be.ambientLightColor.value=pe.state.ambient,Be.lightProbe.value=pe.state.probe,Be.directionalLights.value=pe.state.directional,Be.directionalLightShadows.value=pe.state.directionalShadow,Be.spotLights.value=pe.state.spot,Be.spotLightShadows.value=pe.state.spotShadow,Be.rectAreaLights.value=pe.state.rectArea,Be.pointLights.value=pe.state.point,Be.pointLightShadows.value=pe.state.pointShadow,Be.hemisphereLights.value=pe.state.hemi,Be.directionalShadowMap.value=pe.state.directionalShadowMap,Be.directionalShadowMatrix.value=pe.state.directionalShadowMatrix,Be.spotShadowMap.value=pe.state.spotShadowMap,Be.spotShadowMatrix.value=pe.state.spotShadowMatrix,Be.pointShadowMap.value=pe.state.pointShadowMap,Be.pointShadowMatrix.value=pe.state.pointShadowMatrix);const wt=Z.program.getUniforms(),Dt=ao.seqWithValue(wt.seq,Be);Z.uniformsList=Dt}function Ti(A,q,G,Z){q.isScene!==!0&&(q=Re),se.resetTextureUnits();const pe=q.fog,je=G.isMeshStandardMaterial?q.environment:null,Ue=g===null?d.outputEncoding:g.texture.encoding,Le=ne.get(G),xt=h.state.lights;if(W===!0&&(ee===!0||A!==_)){const st=A===_&&G.id===y;H.setState(G.clippingPlanes,G.clipIntersection,G.clipShadows,A,Le,st)}G.version===Le.__version?(Le.program===void 0||G.fog&&Le.fog!==pe||Le.environment!==je||Le.needsLights&&Le.lightsStateVersion!==xt.state.version||Le.numClippingPlanes!==void 0&&(Le.numClippingPlanes!==H.numPlanes||Le.numIntersection!==H.numIntersection)||Le.outputEncoding!==Ue)&&Bn(G,q,Z):(Bn(G,q,Z),Le.__version=G.version);let dt=!1,ft=!1,Mt=!1;const Be=Le.program,wt=Be.getUniforms(),Dt=Le.uniforms;if(Me.useProgram(Be.program)&&(dt=!0,ft=!0,Mt=!0),G.id!==y&&(y=G.id,ft=!0),dt||_!==A){if(wt.setValue(Y,"projectionMatrix",A.projectionMatrix),De.logarithmicDepthBuffer&&wt.setValue(Y,"logDepthBufFC",2/(Math.log(A.far+1)/Math.LN2)),_!==A&&(_=A,ft=!0,Mt=!0),G.isShaderMaterial||G.isMeshPhongMaterial||G.isMeshToonMaterial||G.isMeshStandardMaterial||G.envMap){const st=wt.map.cameraPosition;st!==void 0&&st.setValue(Y,ge.setFromMatrixPosition(A.matrixWorld))}(G.isMeshPhongMaterial||G.isMeshToonMaterial||G.isMeshLambertMaterial||G.isMeshBasicMaterial||G.isMeshStandardMaterial||G.isShaderMaterial)&&wt.setValue(Y,"isOrthographic",A.isOrthographicCamera===!0),(G.isMeshPhongMaterial||G.isMeshToonMaterial||G.isMeshLambertMaterial||G.isMeshBasicMaterial||G.isMeshStandardMaterial||G.isShaderMaterial||G.isShadowMaterial||G.skinning)&&wt.setValue(Y,"viewMatrix",A.matrixWorldInverse)}if(G.skinning){wt.setOptional(Y,Z,"bindMatrix"),wt.setOptional(Y,Z,"bindMatrixInverse");const st=Z.skeleton;if(st){const Uu=st.bones;if(De.floatVertexTextures){if(st.boneTexture===void 0){let oi=Math.sqrt(Uu.length*4);oi=ze.ceilPowerOfTwo(oi),oi=Math.max(oi,4);const Tr=new Float32Array(oi*oi*4);Tr.set(st.boneMatrices);const Bp=new Ta(Tr,oi,oi,wi,Wr);st.boneMatrices=Tr,st.boneTexture=Bp,st.boneTextureSize=oi}wt.setValue(Y,"boneTexture",st.boneTexture,se),wt.setValue(Y,"boneTextureSize",st.boneTextureSize)}else wt.setOptional(Y,st,"boneMatrices")}}return(ft||Le.receiveShadow!==Z.receiveShadow)&&(Le.receiveShadow=Z.receiveShadow,wt.setValue(Y,"receiveShadow",Z.receiveShadow)),ft&&(wt.setValue(Y,"toneMappingExposure",d.toneMappingExposure),Le.needsLights&&cl(Dt,Mt),pe&&G.fog&&O.refreshFogUniforms(Dt,pe),O.refreshMaterialUniforms(Dt,G,je,F,R),Dt.ltc_1!==void 0&&(Dt.ltc_1.value=he.LTC_1),Dt.ltc_2!==void 0&&(Dt.ltc_2.value=he.LTC_2),ao.upload(Y,Le.uniformsList,Dt,se)),G.isShaderMaterial&&G.uniformsNeedUpdate===!0&&(ao.upload(Y,Le.uniformsList,Dt,se),G.uniformsNeedUpdate=!1),G.isSpriteMaterial&&wt.setValue(Y,"center",Z.center),wt.setValue(Y,"modelViewMatrix",Z.modelViewMatrix),wt.setValue(Y,"normalMatrix",Z.normalMatrix),wt.setValue(Y,"modelMatrix",Z.matrixWorld),Be}function cl(A,q){A.ambientLightColor.needsUpdate=q,A.lightProbe.needsUpdate=q,A.directionalLights.needsUpdate=q,A.directionalLightShadows.needsUpdate=q,A.pointLights.needsUpdate=q,A.pointLightShadows.needsUpdate=q,A.spotLights.needsUpdate=q,A.spotLightShadows.needsUpdate=q,A.rectAreaLights.needsUpdate=q,A.hemisphereLights.needsUpdate=q}function gs(A){return A.isMeshLambertMaterial||A.isMeshToonMaterial||A.isMeshPhongMaterial||A.isMeshStandardMaterial||A.isShadowMaterial||A.isShaderMaterial&&A.lights===!0}this.setFramebuffer=function(A){v!==A&&g===null&&Y.bindFramebuffer(36160,A),v=A},this.getActiveCubeFace=function(){return x},this.getActiveMipmapLevel=function(){return p},this.getRenderTarget=function(){return g},this.setRenderTarget=function(A,q,G){g=A,x=q,p=G,A&&ne.get(A).__webglFramebuffer===void 0&&se.setupRenderTarget(A);let Z=v,pe=!1;if(A){const je=ne.get(A).__webglFramebuffer;A.isWebGLCubeRenderTarget?(Z=je[q||0],pe=!0):A.isWebGLMultisampleRenderTarget?Z=ne.get(A).__webglMultisampledFramebuffer:Z=je,M.copy(A.viewport),N.copy(A.scissor),S=A.scissorTest}else M.copy(C).multiplyScalar(F).floor(),N.copy(B).multiplyScalar(F).floor(),S=L;if(w!==Z&&(Y.bindFramebuffer(36160,Z),w=Z),Me.viewport(M),Me.scissor(N),Me.setScissorTest(S),pe){const je=ne.get(A.texture);Y.framebufferTexture2D(36160,36064,34069+(q||0),je.__webglTexture,G||0)}},this.readRenderTargetPixels=function(A,q,G,Z,pe,je,Ue){if(!(A&&A.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Le=ne.get(A).__webglFramebuffer;if(A.isWebGLCubeRenderTarget&&Ue!==void 0&&(Le=Le[Ue]),Le){let xt=!1;Le!==w&&(Y.bindFramebuffer(36160,Le),xt=!0);try{const dt=A.texture,ft=dt.format,Mt=dt.type;if(ft!==wi&&Q.convert(ft)!==Y.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(Mt!==Ru&&Q.convert(Mt)!==Y.getParameter(35738)&&!(Mt===Wr&&(De.isWebGL2||Pe.get("OES_texture_float")||Pe.get("WEBGL_color_buffer_float")))&&!(Mt===sd&&(De.isWebGL2?Pe.get("EXT_color_buffer_float"):Pe.get("EXT_color_buffer_half_float")))){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Y.checkFramebufferStatus(36160)===36053?q>=0&&q<=A.width-Z&&G>=0&&G<=A.height-pe&&Y.readPixels(q,G,Z,pe,Q.convert(ft),Q.convert(Mt),je):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{xt&&Y.bindFramebuffer(36160,w)}}},this.copyFramebufferToTexture=function(A,q,G){G===void 0&&(G=0);const Z=Math.pow(2,-G),pe=Math.floor(q.image.width*Z),je=Math.floor(q.image.height*Z),Ue=Q.convert(q.format);se.setTexture2D(q,0),Y.copyTexImage2D(3553,G,Ue,A.x,A.y,pe,je,0),Me.unbindTexture()},this.copyTextureToTexture=function(A,q,G,Z){Z===void 0&&(Z=0);const pe=q.image.width,je=q.image.height,Ue=Q.convert(G.format),Le=Q.convert(G.type);se.setTexture2D(G,0),Y.pixelStorei(37440,G.flipY),Y.pixelStorei(37441,G.premultiplyAlpha),Y.pixelStorei(3317,G.unpackAlignment),q.isDataTexture?Y.texSubImage2D(3553,Z,A.x,A.y,pe,je,Ue,Le,q.image.data):q.isCompressedTexture?Y.compressedTexSubImage2D(3553,Z,A.x,A.y,q.mipmaps[0].width,q.mipmaps[0].height,Ue,q.mipmaps[0].data):Y.texSubImage2D(3553,Z,A.x,A.y,Ue,Le,q.image),Z===0&&G.generateMipmaps&&Y.generateMipmap(3553),Me.unbindTexture()},this.initTexture=function(A){se.setTexture2D(A,0),Me.unbindTexture()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function v_(e){Du.call(this,e)}v_.prototype=Object.assign(Object.create(Du.prototype),{constructor:v_,isWebGL1Renderer:!0});function wy(e,t){this.name="",this.color=new me(e),this.density=t!==void 0?t:25e-5}Object.assign(wy.prototype,{isFogExp2:!0,clone:function(){return new wy(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}});function _y(e,t,n){this.name="",this.color=new me(e),this.near=t!==void 0?t:1,this.far=n!==void 0?n:1e3}Object.assign(_y.prototype,{isFog:!0,clone:function(){return new _y(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}});function qn(e,t){this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Sp,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ze.generateUUID()}Object.defineProperty(qn.prototype,"needsUpdate",{set:function(e){e===!0&&this.version++}});Object.assign(qn.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,r=this.stride;i<r;i++)this.array[e+i]=t.array[n+i];return this},set:function(e,t){return t===void 0&&(t=0),this.array.set(e,t),this},clone:function(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ze.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new qn(t,this.stride);return n.setUsage(this.usage),n},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ze.generateUUID()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const To=new E;function rs(e,t,n,i){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i===!0}Object.defineProperties(rs.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}});Object.assign(rs.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)To.x=this.getX(t),To.y=this.getY(t),To.z=this.getZ(t),To.applyMatrix4(e),this.setXYZ(t,To.x,To.y,To.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this},setXYZW:function(e,t,n,i,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=r,this},clone:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return new Ne(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new rs(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let r=0;r<this.itemSize;r++)t.push(this.data.array[i+r])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});function os(e){Ie.call(this),this.type="SpriteMaterial",this.color=new me(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}os.prototype=Object.create(Ie.prototype);os.prototype.constructor=os;os.prototype.isSpriteMaterial=!0;os.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};let Ls;const Sl=new E,Rs=new E,Os=new E,Ds=new X,Tl=new X,LS=new Ge,Mf=new E,Al=new E,Ef=new E,x_=new X,Hm=new X,w_=new X;function by(e){if(ue.call(this),this.type="Sprite",Ls===void 0){Ls=new ve;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new qn(t,5);Ls.setIndex([0,1,2,0,2,3]),Ls.setAttribute("position",new rs(n,3,0,!1)),Ls.setAttribute("uv",new rs(n,2,3,!1))}this.geometry=Ls,this.material=e!==void 0?e:new os,this.center=new X(.5,.5)}by.prototype=Object.assign(Object.create(ue.prototype),{constructor:by,isSprite:!0,raycast:function(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Rs.setFromMatrixScale(this.matrixWorld),LS.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Os.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Rs.multiplyScalar(-Os.z);const n=this.material.rotation;let i,r;n!==0&&(r=Math.cos(n),i=Math.sin(n));const o=this.center;Sf(Mf.set(-.5,-.5,0),Os,o,Rs,i,r),Sf(Al.set(.5,-.5,0),Os,o,Rs,i,r),Sf(Ef.set(.5,.5,0),Os,o,Rs,i,r),x_.set(0,0),Hm.set(1,0),w_.set(1,1);let s=e.ray.intersectTriangle(Mf,Al,Ef,!1,Sl);if(s===null&&(Sf(Al.set(-.5,.5,0),Os,o,Rs,i,r),Hm.set(0,1),s=e.ray.intersectTriangle(Mf,Ef,Al,!1,Sl),s===null))return;const a=e.ray.origin.distanceTo(Sl);a<e.near||a>e.far||t.push({distance:a,point:Sl.clone(),uv:jt.getUV(Sl,Mf,Al,Ef,x_,Hm,w_,new X),face:null,object:this})},copy:function(e){return ue.prototype.copy.call(this,e),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}});function Sf(e,t,n,i,r,o){Ds.subVectors(e,n).addScalar(.5).multiply(i),r!==void 0?(Tl.x=o*Ds.x-r*Ds.y,Tl.y=r*Ds.x+o*Ds.y):Tl.copy(Ds),e.copy(t),e.x+=Tl.x,e.y+=Tl.y,e.applyMatrix4(LS)}const Tf=new E,__=new E;function fd(){ue.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}fd.prototype=Object.assign(Object.create(ue.prototype),{constructor:fd,isLOD:!0,copy:function(e){ue.prototype.copy.call(this,e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const r=t[n];this.addLevel(r.object.clone(),r.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){t===void 0&&(t=0),t=Math.abs(t);const n=this.levels;let i;for(i=0;i<n.length&&!(t<n[i].distance);i++);return n.splice(i,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){Tf.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Tf);this.getObjectForDistance(i).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){Tf.setFromMatrixPosition(e.matrixWorld),__.setFromMatrixPosition(this.matrixWorld);const n=Tf.distanceTo(__)/e.zoom;t[0].object.visible=!0;let i,r;for(i=1,r=t.length;i<r&&n>=t[i].distance;i++)t[i-1].object.visible=!1,t[i].object.visible=!0;for(this._currentLevel=i-1;i<r;i++)t[i].object.visible=!1}},toJSON:function(e){const t=ue.prototype.toJSON.call(this,e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,r=n.length;i<r;i++){const o=n[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}});function My(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Je.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ge,this.bindMatrixInverse=new Ge}My.prototype=Object.assign(Object.create(Je.prototype),{constructor:My,isSkinnedMesh:!0,copy:function(e){return Je.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new Ke,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Je.prototype.updateMatrixWorld.call(this,e),this.bindMode==="attached"?this.bindMatrixInverse.getInverse(this.matrixWorld):this.bindMode==="detached"?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const e=new E,t=new Ke,n=new Ke,i=new E,r=new Ge;return function(o,s){const a=this.skeleton,l=this.geometry;t.fromBufferAttribute(l.attributes.skinIndex,o),n.fromBufferAttribute(l.attributes.skinWeight,o),e.fromBufferAttribute(l.attributes.position,o).applyMatrix4(this.bindMatrix),s.set(0,0,0);for(let c=0;c<4;c++){const u=n.getComponent(c);if(u!==0){const f=t.getComponent(c);r.multiplyMatrices(a.bones[f].matrixWorld,a.boneInverses[f]),s.addScaledVector(i.copy(e).applyMatrix4(r),u)}}return s.applyMatrix4(this.bindMatrixInverse)}}()});const b_=new Ge,KI=new Ge;function Ey(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(this.bones.length*16),this.frame=-1,t===void 0)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Ge)}}Object.assign(Ey.prototype,{calculateInverses:function(){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++){const n=new Ge;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.getInverse(this.boneInverses[e])}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let r=0,o=e.length;r<o;r++){const s=e[r]?e[r].matrixWorld:KI;b_.multiplyMatrices(s,t[r]),b_.toArray(n,r*16)}i!==void 0&&(i.needsUpdate=!0)},clone:function(){return new Ey(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}});function M_(){ue.call(this),this.type="Bone"}M_.prototype=Object.assign(Object.create(ue.prototype),{constructor:M_,isBone:!0});const E_=new Ge,S_=new Ge,Af=[],Pl=new Je;function Sy(e,t,n){Je.call(this,e,t),this.instanceMatrix=new Ne(new Float32Array(n*16),16),this.count=n,this.frustumCulled=!1}Sy.prototype=Object.assign(Object.create(Je.prototype),{constructor:Sy,isInstancedMesh:!0,copy:function(e){return Je.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,e*16)},raycast:function(e,t){const n=this.matrixWorld,i=this.count;if(Pl.geometry=this.geometry,Pl.material=this.material,Pl.material!==void 0)for(let r=0;r<i;r++){this.getMatrixAt(r,E_),S_.multiplyMatrices(n,E_),Pl.matrixWorld=S_,Pl.raycast(e,Af);for(let o=0,s=Af.length;o<s;o++){const a=Af[o];a.instanceId=r,a.object=this,t.push(a)}Af.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,e*16)},updateMorphTargets:function(){}});function Tt(e){Ie.call(this),this.type="LineBasicMaterial",this.color=new me(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Tt.prototype=Object.create(Ie.prototype);Tt.prototype.constructor=Tt;Tt.prototype.isLineBasicMaterial=!0;Tt.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const T_=new E,A_=new E,P_=new Ge,Pf=new rl,Cf=new Sr;function ti(e,t,n){n===1&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),ue.call(this),this.type="Line",this.geometry=e!==void 0?e:new ve,this.material=t!==void 0?t:new Tt,this.updateMorphTargets()}ti.prototype=Object.assign(Object.create(ue.prototype),{constructor:ti,isLine:!0,copy:function(e){return ue.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,r=t.count;i<r;i++)T_.fromBufferAttribute(t,i-1),A_.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=T_.distanceTo(A_);e.setAttribute("lineDistance",new de(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let i=1,r=t.length;i<r;i++)n[i]=n[i-1],n[i]+=t[i-1].distanceTo(t[i])}return this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Line.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),Cf.copy(n.boundingSphere),Cf.applyMatrix4(i),Cf.radius+=r,e.ray.intersectsSphere(Cf)===!1)return;P_.getInverse(i),Pf.copy(e.ray).applyMatrix4(P_);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,a=new E,l=new E,c=new E,u=new E,f=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){const h=n.index,m=n.attributes.position.array;if(h!==null){const v=h.array;for(let x=0,p=v.length-1;x<p;x+=f){const g=v[x],w=v[x+1];if(a.fromArray(m,g*3),l.fromArray(m,w*3),Pf.distanceSqToSegment(a,l,u,c)>s)continue;u.applyMatrix4(this.matrixWorld);const _=e.ray.origin.distanceTo(u);_<e.near||_>e.far||t.push({distance:_,point:c.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else for(let v=0,x=m.length/3-1;v<x;v+=f){if(a.fromArray(m,3*v),l.fromArray(m,3*v+3),Pf.distanceSqToSegment(a,l,u,c)>s)continue;u.applyMatrix4(this.matrixWorld);const g=e.ray.origin.distanceTo(u);g<e.near||g>e.far||t.push({distance:g,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const h=n.vertices,d=h.length;for(let m=0;m<d-1;m+=f){if(Pf.distanceSqToSegment(h[m],h[m+1],u,c)>s)continue;u.applyMatrix4(this.matrixWorld);const x=e.ray.origin.distanceTo(u);x<e.near||x>e.far||t.push({distance:x,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const s=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const Lf=new E,Rf=new E;function Ot(e,t){ti.call(this,e,t),this.type="LineSegments"}Ot.prototype=Object.assign(Object.create(ti.prototype),{constructor:Ot,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,r=t.count;i<r;i+=2)Lf.fromBufferAttribute(t,i),Rf.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+Lf.distanceTo(Rf);e.setAttribute("lineDistance",new de(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let i=0,r=t.length;i<r;i+=2)Lf.copy(t[i]),Rf.copy(t[i+1]),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+Lf.distanceTo(Rf)}return this}});function Ty(e,t){ti.call(this,e,t),this.type="LineLoop"}Ty.prototype=Object.assign(Object.create(ti.prototype),{constructor:Ty,isLineLoop:!0});function ss(e){Ie.call(this),this.type="PointsMaterial",this.color=new me(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}ss.prototype=Object.create(Ie.prototype);ss.prototype.constructor=ss;ss.prototype.isPointsMaterial=!0;ss.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const C_=new Ge,Ay=new rl,Of=new Sr,Df=new E;function Py(e,t){ue.call(this),this.type="Points",this.geometry=e!==void 0?e:new ve,this.material=t!==void 0?t:new ss,this.updateMorphTargets()}Py.prototype=Object.assign(Object.create(ue.prototype),{constructor:Py,isPoints:!0,copy:function(e){return ue.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,i=this.matrixWorld,r=e.params.Points.threshold;if(n.boundingSphere===null&&n.computeBoundingSphere(),Of.copy(n.boundingSphere),Of.applyMatrix4(i),Of.radius+=r,e.ray.intersectsSphere(Of)===!1)return;C_.getInverse(i),Ay.copy(e.ray).applyMatrix4(C_);const o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){const a=n.index,c=n.attributes.position.array;if(a!==null){const u=a.array;for(let f=0,h=u.length;f<h;f++){const d=u[f];Df.fromArray(c,d*3),Gm(Df,d,s,i,e,t,this)}}else for(let u=0,f=c.length/3;u<f;u++)Df.fromArray(c,u*3),Gm(Df,u,s,i,e,t,this)}else{const a=n.vertices;for(let l=0,c=a.length;l<c;l++)Gm(a[l],l,s,i,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let r=0,o=i.length;r<o;r++){const s=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=r}}}}else{const t=e.morphTargets;t!==void 0&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});function Gm(e,t,n,i,r,o,s){const a=Ay.distanceSqToPoint(e);if(a<n){const l=new E;Ay.closestPointToPoint(e,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;o.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:t,face:null,object:s})}}function L_(e,t,n,i,r,o,s,a,l){nt.call(this,e,t,n,i,r,o,s,a,l),this.format=s!==void 0?s:jo,this.minFilter=o!==void 0?o:Qt,this.magFilter=r!==void 0?r:Qt,this.generateMipmaps=!1}L_.prototype=Object.assign(Object.create(nt.prototype),{constructor:L_,isVideoTexture:!0,update:function(){const e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}});function zc(e,t,n,i,r,o,s,a,l,c,u,f){nt.call(this,null,o,s,a,l,c,i,r,u,f),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}zc.prototype=Object.create(nt.prototype);zc.prototype.constructor=zc;zc.prototype.isCompressedTexture=!0;function hd(e,t,n,i,r,o,s,a,l){nt.call(this,e,t,n,i,r,o,s,a,l),this.needsUpdate=!0}hd.prototype=Object.create(nt.prototype);hd.prototype.constructor=hd;hd.prototype.isCanvasTexture=!0;function dd(e,t,n,i,r,o,s,a,l,c){if(c=c!==void 0?c:ha,c!==ha&&c!==Cc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");n===void 0&&c===ha&&(n=od),n===void 0&&c===Cc&&(n=Kl),nt.call(this,null,i,r,o,s,a,c,n,l),this.image={width:e,height:t},this.magFilter=s!==void 0?s:Ut,this.minFilter=a!==void 0?a:Ut,this.flipY=!1,this.generateMipmaps=!1}dd.prototype=Object.create(nt.prototype);dd.prototype.constructor=dd;dd.prototype.isDepthTexture=!0;function pd(e){ve.call(this),this.type="WireframeGeometry";const t=[],n=[0,0],i={},r=["a","b","c"];if(e&&e.isGeometry){const o=e.faces;for(let s=0,a=o.length;s<a;s++){const l=o[s];for(let c=0;c<3;c++){const u=l[r[c]],f=l[r[(c+1)%3]];n[0]=Math.min(u,f),n[1]=Math.max(u,f);const h=n[0]+","+n[1];i[h]===void 0&&(i[h]={index1:n[0],index2:n[1]})}}for(const s in i){const a=i[s];let l=e.vertices[a.index1];t.push(l.x,l.y,l.z),l=e.vertices[a.index2],t.push(l.x,l.y,l.z)}}else if(e&&e.isBufferGeometry){let o=new E;if(e.index!==null){const s=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],h=f.start,d=f.count;for(let m=h,v=h+d;m<v;m+=3)for(let x=0;x<3;x++){const p=a.getX(m+x),g=a.getX(m+(x+1)%3);n[0]=Math.min(p,g),n[1]=Math.max(p,g);const w=n[0]+","+n[1];i[w]===void 0&&(i[w]={index1:n[0],index2:n[1]})}}for(const c in i){const u=i[c];o.fromBufferAttribute(s,u.index1),t.push(o.x,o.y,o.z),o.fromBufferAttribute(s,u.index2),t.push(o.x,o.y,o.z)}}else{const s=e.attributes.position;for(let a=0,l=s.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c;o.fromBufferAttribute(s,u),t.push(o.x,o.y,o.z);const f=3*a+(c+1)%3;o.fromBufferAttribute(s,f),t.push(o.x,o.y,o.z)}}}this.setAttribute("position",new de(t,3))}pd.prototype=Object.create(ve.prototype);pd.prototype.constructor=pd;function md(e,t,n){ke.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Uc(e,t,n)),this.mergeVertices()}md.prototype=Object.create(ke.prototype);md.prototype.constructor=md;function Uc(e,t,n){ve.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const i=[],r=[],o=[],s=[],a=1e-5,l=new E,c=new E,u=new E,f=new E,h=new E;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const d=t+1;for(let m=0;m<=n;m++){const v=m/n;for(let x=0;x<=t;x++){const p=x/t;e(p,v,c),r.push(c.x,c.y,c.z),p-a>=0?(e(p-a,v,u),f.subVectors(c,u)):(e(p+a,v,u),f.subVectors(u,c)),v-a>=0?(e(p,v-a,u),h.subVectors(c,u)):(e(p,v+a,u),h.subVectors(u,c)),l.crossVectors(f,h).normalize(),o.push(l.x,l.y,l.z),s.push(p,v)}}for(let m=0;m<n;m++)for(let v=0;v<t;v++){const x=m*d+v,p=m*d+v+1,g=(m+1)*d+v+1,w=(m+1)*d+v;i.push(x,p,w),i.push(p,g,w)}this.setIndex(i),this.setAttribute("position",new de(r,3)),this.setAttribute("normal",new de(o,3)),this.setAttribute("uv",new de(s,2))}Uc.prototype=Object.create(ve.prototype);Uc.prototype.constructor=Uc;function gd(e,t,n,i){ke.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},this.fromBufferGeometry(new On(e,t,n,i)),this.mergeVertices()}gd.prototype=Object.create(ke.prototype);gd.prototype.constructor=gd;function On(e,t,n,i){ve.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i},n=n||1,i=i||0;const r=[],o=[];s(i),l(n),c(),this.setAttribute("position",new de(r,3)),this.setAttribute("normal",new de(r.slice(),3)),this.setAttribute("uv",new de(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(p){const g=new E,w=new E,y=new E;for(let _=0;_<t.length;_+=3)h(t[_+0],g),h(t[_+1],w),h(t[_+2],y),a(g,w,y,p)}function a(p,g,w,y){const _=Math.pow(2,y),b=[];for(let M=0;M<=_;M++){b[M]=[];const N=p.clone().lerp(w,M/_),S=g.clone().lerp(w,M/_),U=_-M;for(let R=0;R<=U;R++)R===0&&M===_?b[M][R]=N:b[M][R]=N.clone().lerp(S,R/U)}for(let M=0;M<_;M++)for(let N=0;N<2*(_-M)-1;N++){const S=Math.floor(N/2);N%2===0?(f(b[M][S+1]),f(b[M+1][S]),f(b[M][S])):(f(b[M][S+1]),f(b[M+1][S+1]),f(b[M+1][S]))}}function l(p){const g=new E;for(let w=0;w<r.length;w+=3)g.x=r[w+0],g.y=r[w+1],g.z=r[w+2],g.normalize().multiplyScalar(p),r[w+0]=g.x,r[w+1]=g.y,r[w+2]=g.z}function c(){const p=new E;for(let g=0;g<r.length;g+=3){p.x=r[g+0],p.y=r[g+1],p.z=r[g+2];const w=v(p)/2/Math.PI+.5,y=x(p)/Math.PI+.5;o.push(w,1-y)}d(),u()}function u(){for(let p=0;p<o.length;p+=6){const g=o[p+0],w=o[p+2],y=o[p+4],_=Math.max(g,w,y),b=Math.min(g,w,y);_>.9&&b<.1&&(g<.2&&(o[p+0]+=1),w<.2&&(o[p+2]+=1),y<.2&&(o[p+4]+=1))}}function f(p){r.push(p.x,p.y,p.z)}function h(p,g){const w=p*3;g.x=e[w+0],g.y=e[w+1],g.z=e[w+2]}function d(){const p=new E,g=new E,w=new E,y=new E,_=new X,b=new X,M=new X;for(let N=0,S=0;N<r.length;N+=9,S+=6){p.set(r[N+0],r[N+1],r[N+2]),g.set(r[N+3],r[N+4],r[N+5]),w.set(r[N+6],r[N+7],r[N+8]),_.set(o[S+0],o[S+1]),b.set(o[S+2],o[S+3]),M.set(o[S+4],o[S+5]),y.copy(p).add(g).add(w).divideScalar(3);const U=v(y);m(_,S+0,p,U),m(b,S+2,g,U),m(M,S+4,w,U)}}function m(p,g,w,y){y<0&&p.x===1&&(o[g]=p.x-1),w.x===0&&w.z===0&&(o[g]=y/2/Math.PI+.5)}function v(p){return Math.atan2(p.z,-p.x)}function x(p){return Math.atan2(-p.y,Math.sqrt(p.x*p.x+p.z*p.z))}}On.prototype=Object.create(ve.prototype);On.prototype.constructor=On;function yd(e,t){ke.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Hc(e,t)),this.mergeVertices()}yd.prototype=Object.create(ke.prototype);yd.prototype.constructor=yd;function Hc(e,t){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];On.call(this,n,i,e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}Hc.prototype=Object.create(On.prototype);Hc.prototype.constructor=Hc;function vd(e,t){ke.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Ca(e,t)),this.mergeVertices()}vd.prototype=Object.create(ke.prototype);vd.prototype.constructor=vd;function Ca(e,t){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];On.call(this,n,i,e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}Ca.prototype=Object.create(On.prototype);Ca.prototype.constructor=Ca;function xd(e,t){ke.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Gc(e,t)),this.mergeVertices()}xd.prototype=Object.create(ke.prototype);xd.prototype.constructor=xd;function Gc(e,t){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],r=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];On.call(this,i,r,e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}Gc.prototype=Object.create(On.prototype);Gc.prototype.constructor=Gc;function wd(e,t){ke.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new Vc(e,t)),this.mergeVertices()}wd.prototype=Object.create(ke.prototype);wd.prototype.constructor=wd;function Vc(e,t){const n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];On.call(this,r,o,e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}Vc.prototype=Object.create(On.prototype);Vc.prototype.constructor=Vc;function _d(e,t,n,i,r,o){ke.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},o!==void 0&&console.warn("THREE.TubeGeometry: taper has been removed.");const s=new La(e,t,n,i,r);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals,this.fromBufferGeometry(s),this.mergeVertices()}_d.prototype=Object.create(ke.prototype);_d.prototype.constructor=_d;function La(e,t,n,i,r){ve.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:r},t=t||64,n=n||1,i=i||8,r=r||!1;const o=e.computeFrenetFrames(t,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new E,a=new E,l=new X;let c=new E;const u=[],f=[],h=[],d=[];m(),this.setIndex(d),this.setAttribute("position",new de(u,3)),this.setAttribute("normal",new de(f,3)),this.setAttribute("uv",new de(h,2));function m(){for(let g=0;g<t;g++)v(g);v(r===!1?t:0),p(),x()}function v(g){c=e.getPointAt(g/t,c);const w=o.normals[g],y=o.binormals[g];for(let _=0;_<=i;_++){const b=_/i*Math.PI*2,M=Math.sin(b),N=-Math.cos(b);a.x=N*w.x+M*y.x,a.y=N*w.y+M*y.y,a.z=N*w.z+M*y.z,a.normalize(),f.push(a.x,a.y,a.z),s.x=c.x+n*a.x,s.y=c.y+n*a.y,s.z=c.z+n*a.z,u.push(s.x,s.y,s.z)}}function x(){for(let g=1;g<=t;g++)for(let w=1;w<=i;w++){const y=(i+1)*(g-1)+(w-1),_=(i+1)*g+(w-1),b=(i+1)*g+w,M=(i+1)*(g-1)+w;d.push(y,_,M),d.push(_,b,M)}}function p(){for(let g=0;g<=t;g++)for(let w=0;w<=i;w++)l.x=g/t,l.y=w/i,h.push(l.x,l.y)}}La.prototype=Object.create(ve.prototype);La.prototype.constructor=La;La.prototype.toJSON=function(){const e=ve.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e};function bd(e,t,n,i,r,o,s){ke.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},s!==void 0&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Wc(e,t,n,i,r,o)),this.mergeVertices()}bd.prototype=Object.create(ke.prototype);bd.prototype.constructor=bd;function Wc(e,t,n,i,r,o){ve.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:r,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,o=o||3;const s=[],a=[],l=[],c=[],u=new E,f=new E,h=new E,d=new E,m=new E,v=new E,x=new E;for(let g=0;g<=n;++g){const w=g/n*r*Math.PI*2;p(w,r,o,e,h),p(w+.01,r,o,e,d),v.subVectors(d,h),x.addVectors(d,h),m.crossVectors(v,x),x.crossVectors(m,v),m.normalize(),x.normalize();for(let y=0;y<=i;++y){const _=y/i*Math.PI*2,b=-t*Math.cos(_),M=t*Math.sin(_);u.x=h.x+(b*x.x+M*m.x),u.y=h.y+(b*x.y+M*m.y),u.z=h.z+(b*x.z+M*m.z),a.push(u.x,u.y,u.z),f.subVectors(u,h).normalize(),l.push(f.x,f.y,f.z),c.push(g/n),c.push(y/i)}}for(let g=1;g<=n;g++)for(let w=1;w<=i;w++){const y=(i+1)*(g-1)+(w-1),_=(i+1)*g+(w-1),b=(i+1)*g+w,M=(i+1)*(g-1)+w;s.push(y,_,M),s.push(_,b,M)}this.setIndex(s),this.setAttribute("position",new de(a,3)),this.setAttribute("normal",new de(l,3)),this.setAttribute("uv",new de(c,2));function p(g,w,y,_,b){const M=Math.cos(g),N=Math.sin(g),S=y/w*g,U=Math.cos(S);b.x=_*(2+U)*.5*M,b.y=_*(2+U)*N*.5,b.z=_*Math.sin(S)*.5}}Wc.prototype=Object.create(ve.prototype);Wc.prototype.constructor=Wc;function Md(e,t,n,i,r){ke.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new jc(e,t,n,i,r)),this.mergeVertices()}Md.prototype=Object.create(ke.prototype);Md.prototype.constructor=Md;function jc(e,t,n,i,r){ve.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:r},e=e||1,t=t||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||Math.PI*2;const o=[],s=[],a=[],l=[],c=new E,u=new E,f=new E;for(let h=0;h<=n;h++)for(let d=0;d<=i;d++){const m=d/i*r,v=h/n*Math.PI*2;u.x=(e+t*Math.cos(v))*Math.cos(m),u.y=(e+t*Math.cos(v))*Math.sin(m),u.z=t*Math.sin(v),s.push(u.x,u.y,u.z),c.x=e*Math.cos(m),c.y=e*Math.sin(m),f.subVectors(u,c).normalize(),a.push(f.x,f.y,f.z),l.push(d/i),l.push(h/n)}for(let h=1;h<=n;h++)for(let d=1;d<=i;d++){const m=(i+1)*h+d-1,v=(i+1)*(h-1)+d-1,x=(i+1)*(h-1)+d,p=(i+1)*h+d;o.push(m,v,p),o.push(v,x,p)}this.setIndex(o),this.setAttribute("position",new de(s,3)),this.setAttribute("normal",new de(a,3)),this.setAttribute("uv",new de(l,2))}jc.prototype=Object.create(ve.prototype);jc.prototype.constructor=jc;const QI={triangulate:function(e,t,n){n=n||2;let i=t&&t.length,r=i?t[0]*n:e.length,o=RS(e,0,r,n,!0),s=[];if(!o||o.next===o.prev)return s;let a,l,c,u,f,h,d;if(i&&(o=rk(e,t,o,n)),e.length>80*n){a=c=e[0],l=u=e[1];for(let m=n;m<r;m+=n)f=e[m],h=e[m+1],f<a&&(a=f),h<l&&(l=h),f>c&&(c=f),h>u&&(u=h);d=Math.max(c-a,u-l),d=d!==0?1/d:0}return qc(o,s,n,a,l,d),s}};function RS(e,t,n,i,r){let o,s;if(r===mk(e,t,n,i)>0)for(o=t;o<n;o+=i)s=R_(o,e[o],e[o+1],s);else for(o=n-i;o>=t;o-=i)s=R_(o,e[o],e[o+1],s);return s&&Ap(s,s.next)&&(Xc(s),s=s.next),s}function po(e,t){if(!e)return e;t||(t=e);let n=e,i;do if(i=!1,!n.steiner&&(Ap(n,n.next)||gt(n.prev,n,n.next)===0)){if(Xc(n),n=t=n.prev,n===n.next)break;i=!0}else n=n.next;while(i||n!==t);return t}function qc(e,t,n,i,r,o,s){if(!e)return;!s&&o&&ck(e,i,r,o);let a=e,l,c;for(;e.prev!==e.next;){if(l=e.prev,c=e.next,o?tk(e,i,r,o):ek(e)){t.push(l.i/n),t.push(e.i/n),t.push(c.i/n),Xc(e),e=c.next,a=c.next;continue}if(e=c,e===a){s?s===1?(e=nk(po(e),t,n),qc(e,t,n,i,r,o,2)):s===2&&ik(e,t,n,i,r,o):qc(po(e),t,n,i,r,o,1);break}}}function ek(e){let t=e.prev,n=e,i=e.next;if(gt(t,n,i)>=0)return!1;let r=e.next.next;for(;r!==e.prev;){if(ta(t.x,t.y,n.x,n.y,i.x,i.y,r.x,r.y)&&gt(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function tk(e,t,n,i){let r=e.prev,o=e,s=e.next;if(gt(r,o,s)>=0)return!1;let a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,l=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,c=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,u=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,f=Cy(a,l,t,n,i),h=Cy(c,u,t,n,i),d=e.prevZ,m=e.nextZ;for(;d&&d.z>=f&&m&&m.z<=h;){if(d!==e.prev&&d!==e.next&&ta(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&gt(d.prev,d,d.next)>=0||(d=d.prevZ,m!==e.prev&&m!==e.next&&ta(r.x,r.y,o.x,o.y,s.x,s.y,m.x,m.y)&&gt(m.prev,m,m.next)>=0))return!1;m=m.nextZ}for(;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&ta(r.x,r.y,o.x,o.y,s.x,s.y,d.x,d.y)&&gt(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;m&&m.z<=h;){if(m!==e.prev&&m!==e.next&&ta(r.x,r.y,o.x,o.y,s.x,s.y,m.x,m.y)&&gt(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function nk(e,t,n){let i=e;do{let r=i.prev,o=i.next.next;!Ap(r,o)&&OS(r,i,i.next,o)&&$c(r,o)&&$c(o,r)&&(t.push(r.i/n),t.push(i.i/n),t.push(o.i/n),Xc(i),Xc(i.next),i=e=o),i=i.next}while(i!==e);return po(i)}function ik(e,t,n,i,r,o){let s=e;do{let a=s.next.next;for(;a!==s.prev;){if(s.i!==a.i&&hk(s,a)){let l=DS(s,a);s=po(s,s.next),l=po(l,l.next),qc(s,t,n,i,r,o),qc(l,t,n,i,r,o);return}a=a.next}s=s.next}while(s!==e)}function rk(e,t,n,i){let r=[],o,s,a,l,c;for(o=0,s=t.length;o<s;o++)a=t[o]*i,l=o<s-1?t[o+1]*i:e.length,c=RS(e,a,l,i,!1),c===c.next&&(c.steiner=!0),r.push(fk(c));for(r.sort(ok),o=0;o<r.length;o++)sk(r[o],n),n=po(n,n.next);return n}function ok(e,t){return e.x-t.x}function sk(e,t){if(t=ak(e,t),t){const n=DS(t,e);po(t,t.next),po(n,n.next)}}function ak(e,t){let n=t,i=e.x,r=e.y,o=-1/0,s;do{if(r<=n.y&&r>=n.next.y&&n.next.y!==n.y){let h=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=i&&h>o){if(o=h,h===i){if(r===n.y)return n;if(r===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!s)return null;if(i===o)return s;let a=s,l=s.x,c=s.y,u=1/0,f;n=s;do i>=n.x&&n.x>=l&&i!==n.x&&ta(r<c?i:o,r,l,c,r<c?o:i,r,n.x,n.y)&&(f=Math.abs(r-n.y)/(i-n.x),$c(n,e)&&(f<u||f===u&&(n.x>s.x||n.x===s.x&&lk(s,n)))&&(s=n,u=f)),n=n.next;while(n!==a);return s}function lk(e,t){return gt(e.prev,e,t.prev)<0&&gt(t.next,e,e.next)<0}function ck(e,t,n,i){let r=e;do r.z===null&&(r.z=Cy(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,uk(r)}function uk(e){let t,n,i,r,o,s,a,l,c=1;do{for(n=e,e=null,o=null,s=0;n;){for(s++,i=n,a=0,t=0;t<c&&(a++,i=i.nextZ,!!i);t++);for(l=c;a>0||l>0&&i;)a!==0&&(l===0||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(s>1);return e}function Cy(e,t,n,i,r){return e=32767*(e-n)*r,t=32767*(t-i)*r,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function fk(e){let t=e,n=e;do(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next;while(t!==e);return n}function ta(e,t,n,i,r,o,s,a){return(r-s)*(t-a)-(e-s)*(o-a)>=0&&(e-s)*(i-a)-(n-s)*(t-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function hk(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!dk(e,t)&&($c(e,t)&&$c(t,e)&&pk(e,t)&&(gt(e.prev,e,t.prev)||gt(e,t.prev,t))||Ap(e,t)&&gt(e.prev,e,e.next)>0&&gt(t.prev,t,t.next)>0)}function gt(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Ap(e,t){return e.x===t.x&&e.y===t.y}function OS(e,t,n,i){const r=If(gt(e,t,n)),o=If(gt(e,t,i)),s=If(gt(n,i,e)),a=If(gt(n,i,t));return!!(r!==o&&s!==a||r===0&&Nf(e,n,t)||o===0&&Nf(e,i,t)||s===0&&Nf(n,e,i)||a===0&&Nf(n,t,i))}function Nf(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function If(e){return e>0?1:e<0?-1:0}function dk(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&OS(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}function $c(e,t){return gt(e.prev,e,e.next)<0?gt(e,t,e.next)>=0&&gt(e,e.prev,t)>=0:gt(e,t,e.prev)<0||gt(e,e.next,t)<0}function pk(e,t){let n=e,i=!1,r=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next;while(n!==e);return i}function DS(e,t){let n=new Ly(e.i,e.x,e.y),i=new Ly(t.i,t.x,t.y),r=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function R_(e,t,n,i){const r=new Ly(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Xc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ly(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function mk(e,t,n,i){let r=0;for(let o=t,s=n-i;o<n;o+=i)r+=(e[s]-e[o])*(e[o+1]+e[s+1]),s=o;return r}const lo={area:function(e){const t=e.length;let n=0;for(let i=t-1,r=0;r<t;i=r++)n+=e[i].x*e[r].y-e[r].x*e[i].y;return n*.5},isClockWise:function(e){return lo.area(e)<0},triangulateShape:function(e,t){const n=[],i=[],r=[];O_(e),D_(n,e);let o=e.length;t.forEach(O_);for(let a=0;a<t.length;a++)i.push(o),o+=t[a].length,D_(n,t[a]);const s=QI.triangulate(n,i);for(let a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}};function O_(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function D_(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function Ra(e,t){ke.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new vr(e,t)),this.mergeVertices()}Ra.prototype=Object.create(ke.prototype);Ra.prototype.constructor=Ra;Ra.prototype.toJSON=function(){const e=ke.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return NS(t,n,e)};function vr(e,t){ve.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],r=[];for(let s=0,a=e.length;s<a;s++){const l=e[s];o(l)}this.setAttribute("position",new de(i,3)),this.setAttribute("uv",new de(r,2)),this.computeVertexNormals();function o(s){const a=[],l=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1;let u=t.depth!==void 0?t.depth:100,f=t.bevelEnabled!==void 0?t.bevelEnabled:!0,h=t.bevelThickness!==void 0?t.bevelThickness:6,d=t.bevelSize!==void 0?t.bevelSize:h-2,m=t.bevelOffset!==void 0?t.bevelOffset:0,v=t.bevelSegments!==void 0?t.bevelSegments:3;const x=t.extrudePath,p=t.UVGenerator!==void 0?t.UVGenerator:gk;t.amount!==void 0&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=t.amount);let g,w=!1,y,_,b,M;x&&(g=x.getSpacedPoints(c),w=!0,f=!1,y=x.computeFrenetFrames(c,!1),_=new E,b=new E,M=new E),f||(v=0,h=0,d=0,m=0);const N=s.extractPoints(l);let S=N.shape;const U=N.holes;if(!lo.isClockWise(S)){S=S.reverse();for(let te=0,ne=U.length;te<ne;te++){const se=U[te];lo.isClockWise(se)&&(U[te]=se.reverse())}}const F=lo.triangulateShape(S,U),k=S;for(let te=0,ne=U.length;te<ne;te++){const se=U[te];S=S.concat(se)}function P(te,ne,se){return ne||console.error("THREE.ExtrudeGeometry: vec does not exist"),ne.clone().multiplyScalar(se).add(te)}const C=S.length,B=F.length;function L(te,ne,se){let xe,fe,Ce;const T=te.x-ne.x,O=te.y-ne.y,re=se.x-te.x,K=se.y-te.y,z=T*T+O*O,ae=T*K-O*re;if(Math.abs(ae)>Number.EPSILON){const D=Math.sqrt(z),oe=Math.sqrt(re*re+K*K),Q=ne.x-O/D,le=ne.y+T/D,Te=se.x-K/oe,be=se.y+re/oe,_e=((Te-Q)*K-(be-le)*re)/(T*K-O*re);xe=Q+T*_e-te.x,fe=le+O*_e-te.y;const Ae=xe*xe+fe*fe;if(Ae<=2)return new X(xe,fe);Ce=Math.sqrt(Ae/2)}else{let D=!1;T>Number.EPSILON?re>Number.EPSILON&&(D=!0):T<-Number.EPSILON?re<-Number.EPSILON&&(D=!0):Math.sign(O)===Math.sign(K)&&(D=!0),D?(xe=-O,fe=T,Ce=Math.sqrt(z)):(xe=T,fe=O,Ce=Math.sqrt(z/2))}return new X(xe/Ce,fe/Ce)}const I=[];for(let te=0,ne=k.length,se=ne-1,xe=te+1;te<ne;te++,se++,xe++)se===ne&&(se=0),xe===ne&&(xe=0),I[te]=L(k[te],k[se],k[xe]);const H=[];let W,ee=I.concat();for(let te=0,ne=U.length;te<ne;te++){const se=U[te];W=[];for(let xe=0,fe=se.length,Ce=fe-1,T=xe+1;xe<fe;xe++,Ce++,T++)Ce===fe&&(Ce=0),T===fe&&(T=0),W[xe]=L(se[xe],se[Ce],se[T]);H.push(W),ee=ee.concat(W)}for(let te=0;te<v;te++){const ne=te/v,se=h*Math.cos(ne*Math.PI/2),xe=d*Math.sin(ne*Math.PI/2)+m;for(let fe=0,Ce=k.length;fe<Ce;fe++){const T=P(k[fe],I[fe],xe);Y(T.x,T.y,-se)}for(let fe=0,Ce=U.length;fe<Ce;fe++){const T=U[fe];W=H[fe];for(let O=0,re=T.length;O<re;O++){const K=P(T[O],W[O],xe);Y(K.x,K.y,-se)}}}const ce=d+m;for(let te=0;te<C;te++){const ne=f?P(S[te],ee[te],ce):S[te];w?(b.copy(y.normals[0]).multiplyScalar(ne.x),_.copy(y.binormals[0]).multiplyScalar(ne.y),M.copy(g[0]).add(b).add(_),Y(M.x,M.y,M.z)):Y(ne.x,ne.y,0)}for(let te=1;te<=c;te++)for(let ne=0;ne<C;ne++){const se=f?P(S[ne],ee[ne],ce):S[ne];w?(b.copy(y.normals[te]).multiplyScalar(se.x),_.copy(y.binormals[te]).multiplyScalar(se.y),M.copy(g[te]).add(b).add(_),Y(M.x,M.y,M.z)):Y(se.x,se.y,u/c*te)}for(let te=v-1;te>=0;te--){const ne=te/v,se=h*Math.cos(ne*Math.PI/2),xe=d*Math.sin(ne*Math.PI/2)+m;for(let fe=0,Ce=k.length;fe<Ce;fe++){const T=P(k[fe],I[fe],xe);Y(T.x,T.y,u+se)}for(let fe=0,Ce=U.length;fe<Ce;fe++){const T=U[fe];W=H[fe];for(let O=0,re=T.length;O<re;O++){const K=P(T[O],W[O],xe);w?Y(K.x,K.y+g[c-1].y,g[c-1].x+se):Y(K.x,K.y,u+se)}}}ge(),Re();function ge(){const te=i.length/3;if(f){let ne=0,se=C*ne;for(let xe=0;xe<B;xe++){const fe=F[xe];We(fe[2]+se,fe[1]+se,fe[0]+se)}ne=c+v*2,se=C*ne;for(let xe=0;xe<B;xe++){const fe=F[xe];We(fe[0]+se,fe[1]+se,fe[2]+se)}}else{for(let ne=0;ne<B;ne++){const se=F[ne];We(se[2],se[1],se[0])}for(let ne=0;ne<B;ne++){const se=F[ne];We(se[0]+C*c,se[1]+C*c,se[2]+C*c)}}n.addGroup(te,i.length/3-te,0)}function Re(){const te=i.length/3;let ne=0;Se(k,ne),ne+=k.length;for(let se=0,xe=U.length;se<xe;se++){const fe=U[se];Se(fe,ne),ne+=fe.length}n.addGroup(te,i.length/3-te,1)}function Se(te,ne){let se=te.length;for(;--se>=0;){const xe=se;let fe=se-1;fe<0&&(fe=te.length-1);for(let Ce=0,T=c+v*2;Ce<T;Ce++){const O=C*Ce,re=C*(Ce+1),K=ne+xe+O,z=ne+fe+O,ae=ne+fe+re,D=ne+xe+re;Pe(K,z,ae,D)}}}function Y(te,ne,se){a.push(te),a.push(ne),a.push(se)}function We(te,ne,se){De(te),De(ne),De(se);const xe=i.length/3,fe=p.generateTopUV(n,i,xe-3,xe-2,xe-1);Me(fe[0]),Me(fe[1]),Me(fe[2])}function Pe(te,ne,se,xe){De(te),De(ne),De(xe),De(ne),De(se),De(xe);const fe=i.length/3,Ce=p.generateSideWallUV(n,i,fe-6,fe-3,fe-2,fe-1);Me(Ce[0]),Me(Ce[1]),Me(Ce[3]),Me(Ce[1]),Me(Ce[2]),Me(Ce[3])}function De(te){i.push(a[te*3+0]),i.push(a[te*3+1]),i.push(a[te*3+2])}function Me(te){r.push(te.x),r.push(te.y)}}}vr.prototype=Object.create(ve.prototype);vr.prototype.constructor=vr;vr.prototype.toJSON=function(){const e=ve.prototype.toJSON.call(this),t=this.parameters.shapes,n=this.parameters.options;return NS(t,n,e)};const gk={generateTopUV:function(e,t,n,i,r){const o=t[n*3],s=t[n*3+1],a=t[i*3],l=t[i*3+1],c=t[r*3],u=t[r*3+1];return[new X(o,s),new X(a,l),new X(c,u)]},generateSideWallUV:function(e,t,n,i,r,o){const s=t[n*3],a=t[n*3+1],l=t[n*3+2],c=t[i*3],u=t[i*3+1],f=t[i*3+2],h=t[r*3],d=t[r*3+1],m=t[r*3+2],v=t[o*3],x=t[o*3+1],p=t[o*3+2];return Math.abs(a-u)<.01?[new X(s,1-l),new X(c,1-f),new X(h,1-m),new X(v,1-p)]:[new X(a,1-l),new X(u,1-f),new X(d,1-m),new X(x,1-p)]}};function NS(e,t,n){if(n.shapes=[],Array.isArray(e))for(let i=0,r=e.length;i<r;i++){const o=e[i];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return t.extrudePath!==void 0&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Ed(e,t){ke.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Yc(e,t)),this.mergeVertices()}Ed.prototype=Object.create(ke.prototype);Ed.prototype.constructor=Ed;function Yc(e,t){t=t||{};const n=t.font;if(!(n&&n.isFont))return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new ke;const i=n.generateShapes(e,t.size);t.depth=t.height!==void 0?t.height:50,t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),vr.call(this,i,t),this.type="TextBufferGeometry"}Yc.prototype=Object.create(vr.prototype);Yc.prototype.constructor=Yc;function Bi(e,t,n,i,r,o,s){ke.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Oa(e,t,n,i,r,o,s)),this.mergeVertices()}Bi.prototype=Object.create(ke.prototype);Bi.prototype.constructor=Bi;function Oa(e,t,n,i,r,o,s){ve.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:s},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),i=i!==void 0?i:0,r=r!==void 0?r:Math.PI*2,o=o!==void 0?o:0,s=s!==void 0?s:Math.PI;const a=Math.min(o+s,Math.PI);let l=0;const c=[],u=new E,f=new E,h=[],d=[],m=[],v=[];for(let x=0;x<=n;x++){const p=[],g=x/n;let w=0;x==0&&o==0?w=.5/t:x==n&&a==Math.PI&&(w=-.5/t);for(let y=0;y<=t;y++){const _=y/t;u.x=-e*Math.cos(i+_*r)*Math.sin(o+g*s),u.y=e*Math.cos(o+g*s),u.z=e*Math.sin(i+_*r)*Math.sin(o+g*s),d.push(u.x,u.y,u.z),f.copy(u).normalize(),m.push(f.x,f.y,f.z),v.push(_+w,1-g),p.push(l++)}c.push(p)}for(let x=0;x<n;x++)for(let p=0;p<t;p++){const g=c[x][p+1],w=c[x][p],y=c[x+1][p],_=c[x+1][p+1];(x!==0||o>0)&&h.push(g,w,_),(x!==n-1||a<Math.PI)&&h.push(w,y,_)}this.setIndex(h),this.setAttribute("position",new de(d,3)),this.setAttribute("normal",new de(m,3)),this.setAttribute("uv",new de(v,2))}Oa.prototype=Object.create(ve.prototype);Oa.prototype.constructor=Oa;function Sd(e,t,n,i,r,o){ke.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},this.fromBufferGeometry(new Jc(e,t,n,i,r,o)),this.mergeVertices()}Sd.prototype=Object.create(ke.prototype);Sd.prototype.constructor=Sd;function Jc(e,t,n,i,r,o){ve.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},e=e||.5,t=t||1,r=r!==void 0?r:0,o=o!==void 0?o:Math.PI*2,n=n!==void 0?Math.max(3,n):8,i=i!==void 0?Math.max(1,i):1;const s=[],a=[],l=[],c=[];let u=e;const f=(t-e)/i,h=new E,d=new X;for(let m=0;m<=i;m++){for(let v=0;v<=n;v++){const x=r+v/n*o;h.x=u*Math.cos(x),h.y=u*Math.sin(x),a.push(h.x,h.y,h.z),l.push(0,0,1),d.x=(h.x/t+1)/2,d.y=(h.y/t+1)/2,c.push(d.x,d.y)}u+=f}for(let m=0;m<i;m++){const v=m*(n+1);for(let x=0;x<n;x++){const p=x+v,g=p,w=p+n+1,y=p+n+2,_=p+1;s.push(g,w,_),s.push(w,y,_)}}this.setIndex(s),this.setAttribute("position",new de(a,3)),this.setAttribute("normal",new de(l,3)),this.setAttribute("uv",new de(c,2))}Jc.prototype=Object.create(ve.prototype);Jc.prototype.constructor=Jc;function Td(e,t,n,i){ke.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},this.fromBufferGeometry(new Zc(e,t,n,i)),this.mergeVertices()}Td.prototype=Object.create(ke.prototype);Td.prototype.constructor=Td;function Zc(e,t,n,i){ve.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t)||12,n=n||0,i=i||Math.PI*2,i=ze.clamp(i,0,Math.PI*2);const r=[],o=[],s=[],a=1/t,l=new E,c=new X;for(let u=0;u<=t;u++){const f=n+u*a*i,h=Math.sin(f),d=Math.cos(f);for(let m=0;m<=e.length-1;m++)l.x=e[m].x*h,l.y=e[m].y,l.z=e[m].x*d,o.push(l.x,l.y,l.z),c.x=u/t,c.y=m/(e.length-1),s.push(c.x,c.y)}for(let u=0;u<t;u++)for(let f=0;f<e.length-1;f++){const h=f+u*e.length,d=h,m=h+e.length,v=h+e.length+1,x=h+1;r.push(d,m,x),r.push(m,v,x)}if(this.setIndex(r),this.setAttribute("position",new de(o,3)),this.setAttribute("uv",new de(s,2)),this.computeVertexNormals(),i===Math.PI*2){const u=this.attributes.normal.array,f=new E,h=new E,d=new E,m=t*e.length*3;for(let v=0,x=0;v<e.length;v++,x+=3)f.x=u[x+0],f.y=u[x+1],f.z=u[x+2],h.x=u[m+x+0],h.y=u[m+x+1],h.z=u[m+x+2],d.addVectors(f,h).normalize(),u[x+0]=u[m+x+0]=d.x,u[x+1]=u[m+x+1]=d.y,u[x+2]=u[m+x+2]=d.z}}Zc.prototype=Object.create(ve.prototype);Zc.prototype.constructor=Zc;function Da(e,t){ke.call(this),this.type="ShapeGeometry",typeof t=="object"&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new Na(e,t)),this.mergeVertices()}Da.prototype=Object.create(ke.prototype);Da.prototype.constructor=Da;Da.prototype.toJSON=function(){const e=ke.prototype.toJSON.call(this),t=this.parameters.shapes;return IS(t,e)};function Na(e,t){ve.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;const n=[],i=[],r=[],o=[];let s=0,a=0;if(Array.isArray(e)===!1)l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(s,a,c),s+=a,a=0;this.setIndex(n),this.setAttribute("position",new de(i,3)),this.setAttribute("normal",new de(r,3)),this.setAttribute("uv",new de(o,2));function l(c){const u=i.length/3,f=c.extractPoints(t);let h=f.shape;const d=f.holes;lo.isClockWise(h)===!1&&(h=h.reverse());for(let v=0,x=d.length;v<x;v++){const p=d[v];lo.isClockWise(p)===!0&&(d[v]=p.reverse())}const m=lo.triangulateShape(h,d);for(let v=0,x=d.length;v<x;v++){const p=d[v];h=h.concat(p)}for(let v=0,x=h.length;v<x;v++){const p=h[v];i.push(p.x,p.y,0),r.push(0,0,1),o.push(p.x,p.y)}for(let v=0,x=m.length;v<x;v++){const p=m[v],g=p[0]+u,w=p[1]+u,y=p[2]+u;n.push(g,w,y),a+=3}}}Na.prototype=Object.create(ve.prototype);Na.prototype.constructor=Na;Na.prototype.toJSON=function(){const e=ve.prototype.toJSON.call(this),t=this.parameters.shapes;return IS(t,e)};function IS(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,i=e.length;n<i;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}function Ad(e,t){ve.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=t!==void 0?t:1;const n=[],i=Math.cos(ze.DEG2RAD*t),r=[0,0],o={};let s,a,l;const c=["a","b","c"];let u;e.isBufferGeometry?(u=new ke,u.fromBufferGeometry(e)):u=e.clone(),u.mergeVertices(),u.computeFaceNormals();const f=u.vertices,h=u.faces;for(let d=0,m=h.length;d<m;d++){const v=h[d];for(let x=0;x<3;x++)s=v[c[x]],a=v[c[(x+1)%3]],r[0]=Math.min(s,a),r[1]=Math.max(s,a),l=r[0]+","+r[1],o[l]===void 0?o[l]={index1:r[0],index2:r[1],face1:d,face2:void 0}:o[l].face2=d}for(l in o){const d=o[l];if(d.face2===void 0||h[d.face1].normal.dot(h[d.face2].normal)<=i){let m=f[d.index1];n.push(m.x,m.y,m.z),m=f[d.index2],n.push(m.x,m.y,m.z)}}this.setAttribute("position",new de(n,3))}Ad.prototype=Object.create(ve.prototype);Ad.prototype.constructor=Ad;function Ia(e,t,n,i,r,o,s,a){ke.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a},this.fromBufferGeometry(new mo(e,t,n,i,r,o,s,a)),this.mergeVertices()}Ia.prototype=Object.create(ke.prototype);Ia.prototype.constructor=Ia;function mo(e,t,n,i,r,o,s,a){ve.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:s,thetaLength:a};const l=this;e=e!==void 0?e:1,t=t!==void 0?t:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,o=o!==void 0?o:!1,s=s!==void 0?s:0,a=a!==void 0?a:Math.PI*2;const c=[],u=[],f=[],h=[];let d=0;const m=[],v=n/2;let x=0;p(),o===!1&&(e>0&&g(!0),t>0&&g(!1)),this.setIndex(c),this.setAttribute("position",new de(u,3)),this.setAttribute("normal",new de(f,3)),this.setAttribute("uv",new de(h,2));function p(){const w=new E,y=new E;let _=0;const b=(t-e)/n;for(let M=0;M<=r;M++){const N=[],S=M/r,U=S*(t-e)+e;for(let R=0;R<=i;R++){const F=R/i,k=F*a+s,P=Math.sin(k),C=Math.cos(k);y.x=U*P,y.y=-S*n+v,y.z=U*C,u.push(y.x,y.y,y.z),w.set(P,b,C).normalize(),f.push(w.x,w.y,w.z),h.push(F,1-S),N.push(d++)}m.push(N)}for(let M=0;M<i;M++)for(let N=0;N<r;N++){const S=m[N][M],U=m[N+1][M],R=m[N+1][M+1],F=m[N][M+1];c.push(S,U,F),c.push(U,R,F),_+=6}l.addGroup(x,_,0),x+=_}function g(w){let y,_;const b=new X,M=new E;let N=0;const S=w===!0?e:t,U=w===!0?1:-1;y=d;for(let R=1;R<=i;R++)u.push(0,v*U,0),f.push(0,U,0),h.push(.5,.5),d++;_=d;for(let R=0;R<=i;R++){const k=R/i*a+s,P=Math.cos(k),C=Math.sin(k);M.x=S*C,M.y=v*U,M.z=S*P,u.push(M.x,M.y,M.z),f.push(0,U,0),b.x=P*.5+.5,b.y=C*.5*U+.5,h.push(b.x,b.y),d++}for(let R=0;R<i;R++){const F=y+R,k=_+R;w===!0?c.push(k,k+1,F):c.push(k+1,k,F),N+=3}l.addGroup(x,N,w===!0?1:2),x+=N}}mo.prototype=Object.create(ve.prototype);mo.prototype.constructor=mo;function Pd(e,t,n,i,r,o,s){Ia.call(this,0,e,t,n,i,r,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:s}}Pd.prototype=Object.create(Ia.prototype);Pd.prototype.constructor=Pd;function Cd(e,t,n,i,r,o,s){mo.call(this,0,e,t,n,i,r,o,s),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:s}}Cd.prototype=Object.create(mo.prototype);Cd.prototype.constructor=Cd;function Ld(e,t,n,i){ke.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new Kc(e,t,n,i)),this.mergeVertices()}Ld.prototype=Object.create(ke.prototype);Ld.prototype.constructor=Ld;function Kc(e,t,n,i){ve.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},e=e||1,t=t!==void 0?Math.max(3,t):8,n=n!==void 0?n:0,i=i!==void 0?i:Math.PI*2;const r=[],o=[],s=[],a=[],l=new E,c=new X;o.push(0,0,0),s.push(0,0,1),a.push(.5,.5);for(let u=0,f=3;u<=t;u++,f+=3){const h=n+u/t*i;l.x=e*Math.cos(h),l.y=e*Math.sin(h),o.push(l.x,l.y,l.z),s.push(0,0,1),c.x=(o[f]/e+1)/2,c.y=(o[f+1]/e+1)/2,a.push(c.x,c.y)}for(let u=1;u<=t;u++)r.push(u,u+1,0);this.setIndex(r),this.setAttribute("position",new de(o,3)),this.setAttribute("normal",new de(s,3)),this.setAttribute("uv",new de(a,2))}Kc.prototype=Object.create(ve.prototype);Kc.prototype.constructor=Kc;var rn=Object.freeze({__proto__:null,WireframeGeometry:pd,ParametricGeometry:md,ParametricBufferGeometry:Uc,TetrahedronGeometry:yd,TetrahedronBufferGeometry:Hc,OctahedronGeometry:vd,OctahedronBufferGeometry:Ca,IcosahedronGeometry:xd,IcosahedronBufferGeometry:Gc,DodecahedronGeometry:wd,DodecahedronBufferGeometry:Vc,PolyhedronGeometry:gd,PolyhedronBufferGeometry:On,TubeGeometry:_d,TubeBufferGeometry:La,TorusKnotGeometry:bd,TorusKnotBufferGeometry:Wc,TorusGeometry:Md,TorusBufferGeometry:jc,TextGeometry:Ed,TextBufferGeometry:Yc,SphereGeometry:Bi,SphereBufferGeometry:Oa,RingGeometry:Sd,RingBufferGeometry:Jc,PlaneGeometry:cd,PlaneBufferGeometry:Aa,LatheGeometry:Td,LatheBufferGeometry:Zc,ShapeGeometry:Da,ShapeBufferGeometry:Na,ExtrudeGeometry:Ra,ExtrudeBufferGeometry:vr,EdgesGeometry:Ad,ConeGeometry:Pd,ConeBufferGeometry:Cd,CylinderGeometry:Ia,CylinderBufferGeometry:mo,CircleGeometry:Ld,CircleBufferGeometry:Kc,BoxGeometry:xS,BoxBufferGeometry:Tp});function ka(e){Ie.call(this),this.type="ShadowMaterial",this.color=new me(0),this.transparent=!0,this.setValues(e)}ka.prototype=Object.create(Ie.prototype);ka.prototype.constructor=ka;ka.prototype.isShadowMaterial=!0;ka.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this};function go(e){un.call(this,e),this.type="RawShaderMaterial"}go.prototype=Object.create(un.prototype);go.prototype.constructor=go;go.prototype.isRawShaderMaterial=!0;function xr(e){Ie.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new me(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}xr.prototype=Object.create(Ie.prototype);xr.prototype.constructor=xr;xr.prototype.isMeshStandardMaterial=!0;xr.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this};function Fa(e){xr.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new X(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}Fa.prototype=Object.create(xr.prototype);Fa.prototype.constructor=Fa;Fa.prototype.isMeshPhysicalMaterial=!0;Fa.prototype.copy=function(e){return xr.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new me).copy(e.sheen):this.sheen=null,this.transparency=e.transparency,this};function as(e){Ie.call(this),this.type="MeshPhongMaterial",this.color=new me(16777215),this.specular=new me(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=bp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}as.prototype=Object.create(Ie.prototype);as.prototype.constructor=as;as.prototype.isMeshPhongMaterial=!0;as.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Ba(e){Ie.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new me(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Ba.prototype=Object.create(Ie.prototype);Ba.prototype.constructor=Ba;Ba.prototype.isMeshToonMaterial=!0;Ba.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function za(e){Ie.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}za.prototype=Object.create(Ie.prototype);za.prototype.constructor=za;za.prototype.isMeshNormalMaterial=!0;za.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function hr(e){Ie.call(this),this.type="MeshLambertMaterial",this.color=new me(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=bp,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}hr.prototype=Object.create(Ie.prototype);hr.prototype.constructor=hr;hr.prototype.isMeshLambertMaterial=!0;hr.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Ua(e){Ie.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new me(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nl,this.normalScale=new X(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}Ua.prototype=Object.create(Ie.prototype);Ua.prototype.constructor=Ua;Ua.prototype.isMeshMatcapMaterial=!0;Ua.prototype.copy=function(e){return Ie.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this};function Ha(e){Tt.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Ha.prototype=Object.create(Tt.prototype);Ha.prototype.constructor=Ha;Ha.prototype.isLineDashedMaterial=!0;Ha.prototype.copy=function(e){return Tt.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var yk=Object.freeze({__proto__:null,ShadowMaterial:ka,SpriteMaterial:os,RawShaderMaterial:go,ShaderMaterial:un,PointsMaterial:ss,MeshPhysicalMaterial:Fa,MeshStandardMaterial:xr,MeshPhongMaterial:as,MeshToonMaterial:Ba,MeshNormalMaterial:za,MeshLambertMaterial:hr,MeshDepthMaterial:ns,MeshDistanceMaterial:is,MeshBasicMaterial:cn,MeshMatcapMaterial:Ua,LineDashedMaterial:Ha,LineBasicMaterial:Tt,Material:Ie});const pt={arraySlice:function(e,t,n){return pt.isTypedArray(e)?new e.constructor(e.subarray(t,n!==void 0?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(r,o){return e[r]-e[o]}const n=e.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(t),i},sortedArray:function(e,t,n){const i=e.length,r=new e.constructor(i);for(let o=0,s=0;s!==i;++o){const a=n[o]*t;for(let l=0;l!==t;++l)r[s++]=e[a+l]}return r},flattenJSON:function(e,t,n,i){let r=1,o=e[0];for(;o!==void 0&&o[i]===void 0;)o=e[r++];if(o===void 0)return;let s=o[i];if(s!==void 0)if(Array.isArray(s))do s=o[i],s!==void 0&&(t.push(o.time),n.push.apply(n,s)),o=e[r++];while(o!==void 0);else if(s.toArray!==void 0)do s=o[i],s!==void 0&&(t.push(o.time),s.toArray(n,n.length)),o=e[r++];while(o!==void 0);else do s=o[i],s!==void 0&&(t.push(o.time),n.push(s)),o=e[r++];while(o!==void 0)},subclip:function(e,t,n,i,r){r=r||30;const o=e.clone();o.name=t;const s=[];for(let l=0;l<o.tracks.length;++l){const c=o.tracks[l],u=c.getValueSize(),f=[],h=[];for(let d=0;d<c.times.length;++d){const m=c.times[d]*r;if(!(m<n||m>=i)){f.push(c.times[d]);for(let v=0;v<u;++v)h.push(c.values[d*u+v])}}f.length!==0&&(c.times=pt.convertArray(f,c.times.constructor),c.values=pt.convertArray(h,c.values.constructor),s.push(c))}o.tracks=s;let a=1/0;for(let l=0;l<o.tracks.length;++l)a>o.tracks[l].times[0]&&(a=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*a);return o.resetDuration(),o},makeClipAdditive:function(e,t,n,i){t===void 0&&(t=0),n===void 0&&(n=e),(i===void 0||i<=0)&&(i=30);const r=e.tracks.length,o=t/i;for(let s=0;s<r;++s){const a=n.tracks[s],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=e.tracks.find(function(m){return m.name===a.name&&m.ValueTypeName===l});if(c===void 0)continue;const u=a.getValueSize(),f=a.times.length-1;let h;if(o<=a.times[0])h=pt.arraySlice(a.values,0,a.valueSize);else if(o>=a.times[f]){const m=f*u;h=pt.arraySlice(a.values,m)}else{const m=a.createInterpolant();m.evaluate(o),h=m.resultBuffer}l==="quaternion"&&new Rt(h[0],h[1],h[2],h[3]).normalize().conjugate().toArray(h);const d=c.times.length;for(let m=0;m<d;++m){const v=m*u;if(l==="quaternion")Rt.multiplyQuaternionsFlat(c.values,v,h,0,c.values,v);else for(let x=0;x<u;++x)c.values[v+x]-=h[x]}}return e.blendMode=fS,e}};function Jn(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n}Object.assign(Jn.prototype,{evaluate:function(e){let t=this.parameterPositions,n=this._cachedIndex,i=t[n],r=t[n-1];e:{t:{let o;n:{i:if(!(e<i)){for(let s=n+2;;){if(i===void 0){if(e<r)break i;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,r)}if(n===s)break;if(r=i,i=t[++n],e<i)break t}o=t.length;break n}if(!(e>=r)){const s=t[1];e<s&&(n=2,r=s);for(let a=n-2;;){if(r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(n===a)break;if(i=r,r=t[--n-1],e>=r)break t}o=n,n=0;break n}break e}for(;n<o;){const s=n+o>>>1;e<t[s]?o=s:n=s+1}if(i=t[n],r=t[n-1],r===void 0)return this._cachedIndex=0,this.beforeStart_(0,e,i);if(i===void 0)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,r,e)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,e,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=e*i;for(let o=0;o!==i;++o)t[o]=n[r+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}});Object.assign(Jn.prototype,{beforeStart_:Jn.prototype.copySampleValue_,afterEnd_:Jn.prototype.copySampleValue_});function Ry(e,t,n,i){Jn.call(this,e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}Ry.prototype=Object.assign(Object.create(Jn.prototype),{constructor:Ry,DefaultSettings_:{endingStart:Ea,endingEnd:Ea},intervalChanged_:function(e,t,n){let i=this.parameterPositions,r=e-2,o=e+1,s=i[r],a=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case Zs:r=e,s=2*t-n;break;case ld:r=i.length-2,s=t+i[r]-i[r+1];break;default:r=e,s=n}if(a===void 0)switch(this.getSettings_().endingEnd){case Zs:o=e,a=2*n-t;break;case ld:o=1,a=n+i[1]-i[0];break;default:o=e-1,a=t}const l=(n-t)*.5,c=this.valueSize;this._weightPrev=l/(t-s),this._weightNext=l/(a-n),this._offsetPrev=r*c,this._offsetNext=o*c},interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=this._offsetPrev,u=this._offsetNext,f=this._weightPrev,h=this._weightNext,d=(n-t)/(i-t),m=d*d,v=m*d,x=-f*v+2*f*m-f*d,p=(1+f)*v+(-1.5-2*f)*m+(-.5+f)*d+1,g=(-1-h)*v+(1.5+h)*m+.5*d,w=h*v-h*m;for(let y=0;y!==s;++y)r[y]=x*o[c+y]+p*o[l+y]+g*o[a+y]+w*o[u+y];return r}});function Rd(e,t,n,i){Jn.call(this,e,t,n,i)}Rd.prototype=Object.assign(Object.create(Jn.prototype),{constructor:Rd,interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=e*s,l=a-s,c=(n-t)/(i-t),u=1-c;for(let f=0;f!==s;++f)r[f]=o[l+f]*u+o[a+f]*c;return r}});function Oy(e,t,n,i){Jn.call(this,e,t,n,i)}Oy.prototype=Object.assign(Object.create(Jn.prototype),{constructor:Oy,interpolate_:function(e){return this.copySampleValue_(e-1)}});function tn(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=pt.convertArray(t,this.TimeBufferType),this.values=pt.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}Object.assign(tn,{toJSON:function(e){const t=e.constructor;let n;if(t.toJSON!==void 0)n=t.toJSON(e);else{n={name:e.name,times:pt.convertArray(e.times,Array),values:pt.convertArray(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}});Object.assign(tn.prototype,{constructor:tn,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Sh,InterpolantFactoryMethodDiscrete:function(e){return new Oy(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Rd(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Ry(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case ad:t=this.InterpolantFactoryMethodDiscrete;break;case Sh:t=this.InterpolantFactoryMethodLinear;break;case vm:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ad;case this.InterpolantFactoryMethodLinear:return Sh;case this.InterpolantFactoryMethodSmooth:return vm}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this},scale:function(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,i=n.length;let r=0,o=i-1;for(;r!==i&&n[r]<e;)++r;for(;o!==-1&&n[o]>t;)--o;if(++o,r!==0||o!==i){r>=o&&(o=Math.max(o,1),r=o-1);const s=this.getValueSize();this.times=pt.arraySlice(n,r,o),this.values=pt.arraySlice(this.values,r*s,o*s)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,r=n.length;r===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==r;s++){const a=n[s];if(typeof a=="number"&&isNaN(a)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,a),e=!1;break}if(o!==null&&o>a){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,a,o),e=!1;break}o=a}if(i!==void 0&&pt.isTypedArray(i))for(let s=0,a=i.length;s!==a;++s){const l=i[s];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,l),e=!1;break}}return e},optimize:function(){const e=pt.arraySlice(this.times),t=pt.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===vm,r=e.length-1;let o=1;for(let s=1;s<r;++s){let a=!1;const l=e[s],c=e[s+1];if(l!==c&&(s!==1||l!==l[0]))if(i)a=!0;else{const u=s*n,f=u-n,h=u+n;for(let d=0;d!==n;++d){const m=t[u+d];if(m!==t[f+d]||m!==t[h+d]){a=!0;break}}}if(a){if(s!==o){e[o]=e[s];const u=s*n,f=o*n;for(let h=0;h!==n;++h)t[f+h]=t[u+h]}++o}}if(r>0){e[o]=e[r];for(let s=r*n,a=o*n,l=0;l!==n;++l)t[a+l]=t[s+l];++o}return o!==e.length?(this.times=pt.arraySlice(e,0,o),this.values=pt.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this},clone:function(){const e=pt.arraySlice(this.times,0),t=pt.arraySlice(this.values,0),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}});function Dy(e,t,n){tn.call(this,e,t,n)}Dy.prototype=Object.assign(Object.create(tn.prototype),{constructor:Dy,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:ad,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function Ny(e,t,n,i){tn.call(this,e,t,n,i)}Ny.prototype=Object.assign(Object.create(tn.prototype),{constructor:Ny,ValueTypeName:"color"});function Qc(e,t,n,i){tn.call(this,e,t,n,i)}Qc.prototype=Object.assign(Object.create(tn.prototype),{constructor:Qc,ValueTypeName:"number"});function Iy(e,t,n,i){Jn.call(this,e,t,n,i)}Iy.prototype=Object.assign(Object.create(Jn.prototype),{constructor:Iy,interpolate_:function(e,t,n,i){const r=this.resultBuffer,o=this.sampleValues,s=this.valueSize,a=(n-t)/(i-t);let l=e*s;for(let c=l+s;l!==c;l+=4)Rt.slerpFlat(r,0,o,l-s,o,l,a);return r}});function Od(e,t,n,i){tn.call(this,e,t,n,i)}Od.prototype=Object.assign(Object.create(tn.prototype),{constructor:Od,ValueTypeName:"quaternion",DefaultInterpolation:Sh,InterpolantFactoryMethodLinear:function(e){return new Iy(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0});function ky(e,t,n,i){tn.call(this,e,t,n,i)}ky.prototype=Object.assign(Object.create(tn.prototype),{constructor:ky,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:ad,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});function eu(e,t,n,i){tn.call(this,e,t,n,i)}eu.prototype=Object.assign(Object.create(tn.prototype),{constructor:eu,ValueTypeName:"vector"});function gi(e,t,n,i){this.name=e,this.tracks=n,this.duration=t!==void 0?t:-1,this.blendMode=i!==void 0?i:L0,this.uuid=ze.generateUUID(),this.duration<0&&this.resetDuration()}function vk(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Qc;case"vector":case"vector2":case"vector3":case"vector4":return eu;case"color":return Ny;case"quaternion":return Od;case"bool":case"boolean":return Dy;case"string":return ky}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function xk(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=vk(e.type);if(e.times===void 0){const n=[],i=[];pt.flattenJSON(e.keys,n,i,"value"),e.times=n,e.values=i}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(gi,{parse:function(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let r=0,o=n.length;r!==o;++r)t.push(xk(n[r]).scale(i));return new gi(e.name,e.duration,t,e.blendMode)},toJSON:function(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let r=0,o=n.length;r!==o;++r)t.push(tn.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(e,t,n,i){const r=t.length,o=[];for(let s=0;s<r;s++){let a=[],l=[];a.push((s+r-1)%r,s,(s+1)%r),l.push(0,1,0);const c=pt.getKeyframeOrder(a);a=pt.sortedArray(a,1,c),l=pt.sortedArray(l,1,c),!i&&a[0]===0&&(a.push(r),l.push(l[0])),o.push(new Qc(".morphTargetInfluences["+t[s].name+"]",a,l).scale(1/n))}return new gi(e,-1,o)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const i={},r=/^([\w-]*?)([\d]+)$/;for(let s=0,a=e.length;s<a;s++){const l=e[s],c=l.name.match(r);if(c&&c.length>1){const u=c[1];let f=i[u];f||(i[u]=f=[]),f.push(l)}}const o=[];for(const s in i)o.push(gi.CreateFromMorphTargetSequence(s,i[s],t,n));return o},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(u,f,h,d,m){if(h.length!==0){const v=[],x=[];pt.flattenJSON(h,v,x,d),v.length!==0&&m.push(new u(f,v,x))}},i=[],r=e.name||"default",o=e.fps||30,s=e.blendMode;let a=e.length||-1;const l=e.hierarchy||[];for(let u=0;u<l.length;u++){const f=l[u].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let d;for(d=0;d<f.length;d++)if(f[d].morphTargets)for(let m=0;m<f[d].morphTargets.length;m++)h[f[d].morphTargets[m]]=-1;for(const m in h){const v=[],x=[];for(let p=0;p!==f[d].morphTargets.length;++p){const g=f[d];v.push(g.time),x.push(g.morphTarget===m?1:0)}i.push(new Qc(".morphTargetInfluence["+m+"]",v,x))}a=h.length*(o||1)}else{const h=".bones["+t[u].name+"]";n(eu,h+".position",f,"pos",i),n(Od,h+".quaternion",f,"rot",i),n(eu,h+".scale",f,"scl",i)}}return i.length===0?null:new gi(r,a,i,s)}});Object.assign(gi.prototype,{resetDuration:function(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const r=this.tracks[n];t=Math.max(t,r.times[r.times.length-1])}return this.duration=t,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new gi(this.name,this.duration,e,this.blendMode)}});const Ga={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function kS(e,t,n){const i=this;let r=!1,o=0,s=0,a;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(c){s++,r===!1&&i.onStart!==void 0&&i.onStart(c,o,s),r=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,s),o===s&&(r=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return a?a(c):c},this.setURLModifier=function(c){return a=c,this},this.addHandler=function(c,u){return l.push(c,u),this},this.removeHandler=function(c){const u=l.indexOf(c);return u!==-1&&l.splice(u,2),this},this.getHandler=function(c){for(let u=0,f=l.length;u<f;u+=2){const h=l[u],d=l[u+1];if(h.global&&(h.lastIndex=0),h.test(c))return d}return null}}const wk=new kS;function et(e){this.manager=e!==void 0?e:wk,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(et.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise(function(i,r){n.load(e,i,t,r)})},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const ci={};function Wi(e){et.call(this,e)}Wi.prototype=Object.assign(Object.create(et.prototype),{constructor:Wi,load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Ga.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;if(ci[e]!==void 0){ci[e].push({onLoad:t,onProgress:n,onError:i});return}const s=/^data:(.*?)(;base64)?,(.*)$/,a=e.match(s);let l;if(a){const c=a[1],u=!!a[2];let f=a[3];f=decodeURIComponent(f),u&&(f=atob(f));try{let h;const d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":const m=new Uint8Array(f.length);for(let x=0;x<f.length;x++)m[x]=f.charCodeAt(x);d==="blob"?h=new Blob([m.buffer],{type:c}):h=m.buffer;break;case"document":h=new DOMParser().parseFromString(f,c);break;case"json":h=JSON.parse(f);break;default:h=f;break}setTimeout(function(){t&&t(h),r.manager.itemEnd(e)},0)}catch(h){setTimeout(function(){i&&i(h),r.manager.itemError(e),r.manager.itemEnd(e)},0)}}else{ci[e]=[],ci[e].push({onLoad:t,onProgress:n,onError:i}),l=new XMLHttpRequest,l.open("GET",e,!0),l.addEventListener("load",function(c){const u=this.response,f=ci[e];if(delete ci[e],this.status===200||this.status===0){this.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Ga.add(e,u);for(let h=0,d=f.length;h<d;h++){const m=f[h];m.onLoad&&m.onLoad(u)}r.manager.itemEnd(e)}else{for(let h=0,d=f.length;h<d;h++){const m=f[h];m.onError&&m.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)}},!1),l.addEventListener("progress",function(c){const u=ci[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onProgress&&d.onProgress(c)}},!1),l.addEventListener("error",function(c){const u=ci[e];delete ci[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onError&&d.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),l.addEventListener("abort",function(c){const u=ci[e];delete ci[e];for(let f=0,h=u.length;f<h;f++){const d=u[f];d.onError&&d.onError(c)}r.manager.itemError(e),r.manager.itemEnd(e)},!1),this.responseType!==void 0&&(l.responseType=this.responseType),this.withCredentials!==void 0&&(l.withCredentials=this.withCredentials),l.overrideMimeType&&l.overrideMimeType(this.mimeType!==void 0?this.mimeType:"text/plain");for(const c in this.requestHeader)l.setRequestHeader(c,this.requestHeader[c]);l.send(null)}return r.manager.itemStart(e),l},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}});function N_(e){et.call(this,e)}N_.prototype=Object.assign(Object.create(et.prototype),{constructor:N_,load:function(e,t,n,i){const r=this,o=new Wi(r.manager);o.setPath(r.path),o.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const i=gi.parse(e[n]);t.push(i)}return t}});function I_(e){et.call(this,e)}I_.prototype=Object.assign(Object.create(et.prototype),{constructor:I_,load:function(e,t,n,i){const r=this,o=[],s=new zc;s.image=o;const a=new Wi(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer");let l=0;function c(u){a.load(e[u],function(f){const h=r.parse(f,!0);o[u]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},l+=1,l===6&&(h.mipmapCount===1&&(s.minFilter=Qt),s.format=h.format,s.needsUpdate=!0,t&&t(s))},n,i)}if(Array.isArray(e))for(let u=0,f=e.length;u<f;++u)c(u);else a.load(e,function(u){const f=r.parse(u,!0);if(f.isCubemap){const h=f.mipmaps.length/f.mipmapCount;for(let d=0;d<h;d++){o[d]={mipmaps:[]};for(let m=0;m<f.mipmapCount;m++)o[d].mipmaps.push(f.mipmaps[d*f.mipmapCount+m]),o[d].format=f.format,o[d].width=f.width,o[d].height=f.height}}else s.image.width=f.width,s.image.height=f.height,s.mipmaps=f.mipmaps;f.mipmapCount===1&&(s.minFilter=Qt),s.format=f.format,s.needsUpdate=!0,t&&t(s)},n,i);return s}});function k_(e){et.call(this,e)}k_.prototype=Object.assign(Object.create(et.prototype),{constructor:k_,load:function(e,t,n,i){const r=this,o=new Ta,s=new Wi(this.manager);return s.setResponseType("arraybuffer"),s.setPath(this.path),s.load(e,function(a){const l=r.parse(a);l&&(l.image!==void 0?o.image=l.image:l.data!==void 0&&(o.image.width=l.width,o.image.height=l.height,o.image.data=l.data),o.wrapS=l.wrapS!==void 0?l.wrapS:mn,o.wrapT=l.wrapT!==void 0?l.wrapT:mn,o.magFilter=l.magFilter!==void 0?l.magFilter:Qt,o.minFilter=l.minFilter!==void 0?l.minFilter:Qt,o.anisotropy=l.anisotropy!==void 0?l.anisotropy:1,l.format!==void 0&&(o.format=l.format),l.type!==void 0&&(o.type=l.type),l.mipmaps!==void 0&&(o.mipmaps=l.mipmaps,o.minFilter=Mp),l.mipmapCount===1&&(o.minFilter=Qt),o.needsUpdate=!0,t&&t(o,l))},n,i),o}});function tu(e){et.call(this,e)}tu.prototype=Object.assign(Object.create(et.prototype),{constructor:tu,load:function(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Ga.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;const s=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1),Ga.add(e,this),t&&t(this),r.manager.itemEnd(e)}function l(c){s.removeEventListener("load",a,!1),s.removeEventListener("error",l,!1),i&&i(c),r.manager.itemError(e),r.manager.itemEnd(e)}return s.addEventListener("load",a,!1),s.addEventListener("error",l,!1),e.substr(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),r.manager.itemStart(e),s.src=e,s}});function Fy(e){et.call(this,e)}Fy.prototype=Object.assign(Object.create(et.prototype),{constructor:Fy,load:function(e,t,n,i){const r=new ho,o=new tu(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function a(l){o.load(e[l],function(c){r.images[l]=c,s++,s===6&&(r.needsUpdate=!0,t&&t(r))},void 0,i)}for(let l=0;l<e.length;++l)a(l);return r}});function da(e){et.call(this,e)}da.prototype=Object.assign(Object.create(et.prototype),{constructor:da,load:function(e,t,n,i){const r=new nt,o=new tu(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){r.image=s;const a=e.search(/\.jpe?g($|\?)/i)>0||e.search(/^data\:image\/jpeg/)===0;r.format=a?jo:wi,r.needsUpdate=!0,t!==void 0&&t(r)},n,i),r}});function Ee(){this.type="Curve",this.arcLengthDivisions=200}Object.assign(Ee.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){e===void 0&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e===void 0&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),r=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),r+=n.distanceTo(i),t.push(r),i=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let i=0,r=n.length,o;t?o=t:o=e*n[r-1];let s=0,a=r-1,l;for(;s<=a;)if(i=Math.floor(s+(a-s)/2),l=n[i]-o,l<0)s=i+1;else if(l>0)a=i-1;else{a=i;break}if(i=a,n[i]===o)return i/(r-1);const c=n[i],f=n[i+1]-c,h=(o-c)/f;return(i+h)/(r-1)},getTangent:function(e,t){let i=e-1e-4,r=e+1e-4;i<0&&(i=0),r>1&&(r=1);const o=this.getPoint(i),s=this.getPoint(r),a=t||(o.isVector2?new X:new E);return a.copy(s).sub(o).normalize(),a},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new E,i=[],r=[],o=[],s=new E,a=new Ge;for(let h=0;h<=e;h++){const d=h/e;i[h]=this.getTangentAt(d,new E),i[h].normalize()}r[0]=new E,o[0]=new E;let l=Number.MAX_VALUE;const c=Math.abs(i[0].x),u=Math.abs(i[0].y),f=Math.abs(i[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),f<=l&&n.set(0,0,1),s.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],s),o[0].crossVectors(i[0],r[0]);for(let h=1;h<=e;h++){if(r[h]=r[h-1].clone(),o[h]=o[h-1].clone(),s.crossVectors(i[h-1],i[h]),s.length()>Number.EPSILON){s.normalize();const d=Math.acos(ze.clamp(i[h-1].dot(i[h]),-1,1));r[h].applyMatrix4(a.makeRotationAxis(s,d))}o[h].crossVectors(i[h],r[h])}if(t===!0){let h=Math.acos(ze.clamp(r[0].dot(r[e]),-1,1));h/=e,i[0].dot(s.crossVectors(r[0],r[e]))>0&&(h=-h);for(let d=1;d<=e;d++)r[d].applyMatrix4(a.makeRotationAxis(i[d],h*d)),o[d].crossVectors(i[d],r[d])}return{tangents:i,normals:r,binormals:o}},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}});function ni(e,t,n,i,r,o,s,a){Ee.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=s||!1,this.aRotation=a||0}ni.prototype=Object.create(Ee.prototype);ni.prototype.constructor=ni;ni.prototype.isEllipseCurve=!0;ni.prototype.getPoint=function(e,t){const n=t||new X,i=Math.PI*2;let r=this.aEndAngle-this.aStartAngle;const o=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(o?r=0:r=i),this.aClockwise===!0&&!o&&(r===i?r=-i:r=r-i);const s=this.aStartAngle+e*r;let a=this.aX+this.xRadius*Math.cos(s),l=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),f=a-this.aX,h=l-this.aY;a=f*c-h*u+this.aX,l=f*u+h*c+this.aY}return n.set(a,l)};ni.prototype.copy=function(e){return Ee.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};ni.prototype.toJSON=function(){const e=Ee.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e};ni.prototype.fromJSON=function(e){return Ee.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this};function nu(e,t,n,i,r,o){ni.call(this,e,t,n,n,i,r,o),this.type="ArcCurve"}nu.prototype=Object.create(ni.prototype);nu.prototype.constructor=nu;nu.prototype.isArcCurve=!0;function N0(){let e=0,t=0,n=0,i=0;function r(o,s,a,l){e=o,t=a,n=-3*o+3*s-2*a-l,i=2*o-2*s+a+l}return{initCatmullRom:function(o,s,a,l,c){r(s,a,c*(a-o),c*(l-s))},initNonuniformCatmullRom:function(o,s,a,l,c,u,f){let h=(s-o)/c-(a-o)/(c+u)+(a-s)/u,d=(a-s)/u-(l-s)/(u+f)+(l-a)/f;h*=u,d*=u,r(s,a,h,d)},calc:function(o){const s=o*o,a=s*o;return e+t*o+n*s+i*a}}}const kf=new E,Vm=new N0,Wm=new N0,jm=new N0;function Dn(e,t,n,i){Ee.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=i||.5}Dn.prototype=Object.create(Ee.prototype);Dn.prototype.constructor=Dn;Dn.prototype.isCatmullRomCurve3=!0;Dn.prototype.getPoint=function(e,t){const n=t||new E,i=this.points,r=i.length,o=(r-(this.closed?0:1))*e;let s=Math.floor(o),a=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/r)+1)*r:a===0&&s===r-1&&(s=r-2,a=1);let l,c,u,f;if(this.closed||s>0?l=i[(s-1)%r]:(kf.subVectors(i[0],i[1]).add(i[0]),l=kf),c=i[s%r],u=i[(s+1)%r],this.closed||s+2<r?f=i[(s+2)%r]:(kf.subVectors(i[r-1],i[r-2]).add(i[r-1]),f=kf),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let d=Math.pow(l.distanceToSquared(c),h),m=Math.pow(c.distanceToSquared(u),h),v=Math.pow(u.distanceToSquared(f),h);m<1e-4&&(m=1),d<1e-4&&(d=m),v<1e-4&&(v=m),Vm.initNonuniformCatmullRom(l.x,c.x,u.x,f.x,d,m,v),Wm.initNonuniformCatmullRom(l.y,c.y,u.y,f.y,d,m,v),jm.initNonuniformCatmullRom(l.z,c.z,u.z,f.z,d,m,v)}else this.curveType==="catmullrom"&&(Vm.initCatmullRom(l.x,c.x,u.x,f.x,this.tension),Wm.initCatmullRom(l.y,c.y,u.y,f.y,this.tension),jm.initCatmullRom(l.z,c.z,u.z,f.z,this.tension));return n.set(Vm.calc(a),Wm.calc(a),jm.calc(a)),n};Dn.prototype.copy=function(e){Ee.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};Dn.prototype.toJSON=function(){const e=Ee.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e};Dn.prototype.fromJSON=function(e){Ee.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new E().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this};function F_(e,t,n,i,r){const o=(i-t)*.5,s=(r-n)*.5,a=e*e,l=e*a;return(2*n-2*i+o+s)*l+(-3*n+3*i-2*o-s)*a+o*e+n}function _k(e,t){const n=1-e;return n*n*t}function bk(e,t){return 2*(1-e)*e*t}function Mk(e,t){return e*e*t}function ec(e,t,n,i){return _k(e,t)+bk(e,n)+Mk(e,i)}function Ek(e,t){const n=1-e;return n*n*n*t}function Sk(e,t){const n=1-e;return 3*n*n*e*t}function Tk(e,t){return 3*(1-e)*e*e*t}function Ak(e,t){return e*e*e*t}function tc(e,t,n,i,r){return Ek(e,t)+Sk(e,n)+Tk(e,i)+Ak(e,r)}function ji(e,t,n,i){Ee.call(this),this.type="CubicBezierCurve",this.v0=e||new X,this.v1=t||new X,this.v2=n||new X,this.v3=i||new X}ji.prototype=Object.create(Ee.prototype);ji.prototype.constructor=ji;ji.prototype.isCubicBezierCurve=!0;ji.prototype.getPoint=function(e,t){const n=t||new X,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(tc(e,i.x,r.x,o.x,s.x),tc(e,i.y,r.y,o.y,s.y)),n};ji.prototype.copy=function(e){return Ee.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};ji.prototype.toJSON=function(){const e=Ee.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};ji.prototype.fromJSON=function(e){return Ee.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function wr(e,t,n,i){Ee.call(this),this.type="CubicBezierCurve3",this.v0=e||new E,this.v1=t||new E,this.v2=n||new E,this.v3=i||new E}wr.prototype=Object.create(Ee.prototype);wr.prototype.constructor=wr;wr.prototype.isCubicBezierCurve3=!0;wr.prototype.getPoint=function(e,t){const n=t||new E,i=this.v0,r=this.v1,o=this.v2,s=this.v3;return n.set(tc(e,i.x,r.x,o.x,s.x),tc(e,i.y,r.y,o.y,s.y),tc(e,i.z,r.z,o.z,s.z)),n};wr.prototype.copy=function(e){return Ee.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this};wr.prototype.toJSON=function(){const e=Ee.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e};wr.prototype.fromJSON=function(e){return Ee.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this};function Nn(e,t){Ee.call(this),this.type="LineCurve",this.v1=e||new X,this.v2=t||new X}Nn.prototype=Object.create(Ee.prototype);Nn.prototype.constructor=Nn;Nn.prototype.isLineCurve=!0;Nn.prototype.getPoint=function(e,t){const n=t||new X;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};Nn.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};Nn.prototype.getTangent=function(e,t){const n=t||new X;return n.copy(this.v2).sub(this.v1).normalize(),n};Nn.prototype.copy=function(e){return Ee.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};Nn.prototype.toJSON=function(){const e=Ee.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};Nn.prototype.fromJSON=function(e){return Ee.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function qi(e,t){Ee.call(this),this.type="LineCurve3",this.v1=e||new E,this.v2=t||new E}qi.prototype=Object.create(Ee.prototype);qi.prototype.constructor=qi;qi.prototype.isLineCurve3=!0;qi.prototype.getPoint=function(e,t){const n=t||new E;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n};qi.prototype.getPointAt=function(e,t){return this.getPoint(e,t)};qi.prototype.copy=function(e){return Ee.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this};qi.prototype.toJSON=function(){const e=Ee.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};qi.prototype.fromJSON=function(e){return Ee.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function $i(e,t,n){Ee.call(this),this.type="QuadraticBezierCurve",this.v0=e||new X,this.v1=t||new X,this.v2=n||new X}$i.prototype=Object.create(Ee.prototype);$i.prototype.constructor=$i;$i.prototype.isQuadraticBezierCurve=!0;$i.prototype.getPoint=function(e,t){const n=t||new X,i=this.v0,r=this.v1,o=this.v2;return n.set(ec(e,i.x,r.x,o.x),ec(e,i.y,r.y,o.y)),n};$i.prototype.copy=function(e){return Ee.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};$i.prototype.toJSON=function(){const e=Ee.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};$i.prototype.fromJSON=function(e){return Ee.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function _r(e,t,n){Ee.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new E,this.v1=t||new E,this.v2=n||new E}_r.prototype=Object.create(Ee.prototype);_r.prototype.constructor=_r;_r.prototype.isQuadraticBezierCurve3=!0;_r.prototype.getPoint=function(e,t){const n=t||new E,i=this.v0,r=this.v1,o=this.v2;return n.set(ec(e,i.x,r.x,o.x),ec(e,i.y,r.y,o.y),ec(e,i.z,r.z,o.z)),n};_r.prototype.copy=function(e){return Ee.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this};_r.prototype.toJSON=function(){const e=Ee.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e};_r.prototype.fromJSON=function(e){return Ee.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this};function Xi(e){Ee.call(this),this.type="SplineCurve",this.points=e||[]}Xi.prototype=Object.create(Ee.prototype);Xi.prototype.constructor=Xi;Xi.prototype.isSplineCurve=!0;Xi.prototype.getPoint=function(e,t){const n=t||new X,i=this.points,r=(i.length-1)*e,o=Math.floor(r),s=r-o,a=i[o===0?o:o-1],l=i[o],c=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return n.set(F_(s,a.x,l.x,c.x,u.x),F_(s,a.y,l.y,c.y,u.y)),n};Xi.prototype.copy=function(e){Ee.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this};Xi.prototype.toJSON=function(){const e=Ee.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e};Xi.prototype.fromJSON=function(e){Ee.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new X().fromArray(i))}return this};var By=Object.freeze({__proto__:null,ArcCurve:nu,CatmullRomCurve3:Dn,CubicBezierCurve:ji,CubicBezierCurve3:wr,EllipseCurve:ni,LineCurve:Nn,LineCurve3:qi,QuadraticBezierCurve:$i,QuadraticBezierCurve3:_r,SplineCurve:Xi});function Xr(){Ee.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}Xr.prototype=Object.assign(Object.create(Ee.prototype),{constructor:Xr,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Nn(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let i=0;for(;i<n.length;){if(n[i]>=t){const r=n[i]-t,o=this.curves[i],s=o.getLength(),a=s===0?0:1-r/s;return o.getPointAt(a)}i++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){e===void 0&&(e=40);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;const t=[];let n;for(let i=0,r=this.curves;i<r.length;i++){const o=r[i],s=o&&o.isEllipseCurve?e*2:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,a=o.getPoints(s);for(let l=0;l<a.length;l++){const c=a[l];n&&n.equals(c)||(t.push(c),n=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){Ee.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=Ee.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e},fromJSON:function(e){Ee.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new By[i.type]().fromJSON(i))}return this}});function Ii(e){Xr.call(this),this.type="Path",this.currentPoint=new X,e&&this.setFromPoints(e)}Ii.prototype=Object.assign(Object.create(Xr.prototype),{constructor:Ii,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new Nn(this.currentPoint.clone(),new X(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,i){const r=new $i(this.currentPoint.clone(),new X(e,t),new X(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this},bezierCurveTo:function(e,t,n,i,r,o){const s=new ji(this.currentPoint.clone(),new X(e,t),new X(n,i),new X(r,o));return this.curves.push(s),this.currentPoint.set(r,o),this},splineThru:function(e){const t=[this.currentPoint.clone()].concat(e),n=new Xi(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,i,r,o){const s=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(e+s,t+a,n,i,r,o),this},absarc:function(e,t,n,i,r,o){return this.absellipse(e,t,n,n,i,r,o),this},ellipse:function(e,t,n,i,r,o,s,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,i,r,o,s,a),this},absellipse:function(e,t,n,i,r,o,s,a){const l=new ni(e,t,n,i,r,o,s,a);if(this.curves.length>0){const u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return Xr.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=Xr.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Xr.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}});function qo(e){Ii.call(this,e),this.uuid=ze.generateUUID(),this.type="Shape",this.holes=[]}qo.prototype=Object.assign(Object.create(Ii.prototype),{constructor:qo,getPointsHoles:function(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Ii.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this},toJSON:function(){const e=Ii.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e},fromJSON:function(e){Ii.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new Ii().fromJSON(i))}return this}});function ut(e,t){ue.call(this),this.type="Light",this.color=new me(e),this.intensity=t!==void 0?t:1,this.receiveShadow=void 0}ut.prototype=Object.assign(Object.create(ue.prototype),{constructor:ut,isLight:!0,copy:function(e){return ue.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=ue.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}});function zy(e,t,n){ut.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(ue.DefaultUp),this.updateMatrix(),this.groundColor=new me(t)}zy.prototype=Object.assign(Object.create(ut.prototype),{constructor:zy,isHemisphereLight:!0,copy:function(e){return ut.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}});function br(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new X(512,512),this.map=null,this.mapPass=null,this.matrix=new Ge,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Ou,this._frameExtents=new X(1,1),this._viewportCount=1,this._viewports=[new Ke(0,0,1,1)]}Object.assign(br.prototype,{_projScreenMatrix:new Ge,_lightPositionWorld:new E,_lookTarget:new E,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),r.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(r),t.updateMatrixWorld(),i.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}});function Uy(){br.call(this,new Pt(50,1,.5,500))}Uy.prototype=Object.assign(Object.create(br.prototype),{constructor:Uy,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=ze.RAD2DEG*2*e.angle,i=this.mapSize.width/this.mapSize.height,r=e.distance||t.far;(n!==t.fov||i!==t.aspect||r!==t.far)&&(t.fov=n,t.aspect=i,t.far=r,t.updateProjectionMatrix()),br.prototype.updateMatrices.call(this,e)}});function Hy(e,t,n,i,r,o){ut.call(this,e,t),this.type="SpotLight",this.position.copy(ue.DefaultUp),this.updateMatrix(),this.target=new ue,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(s){this.intensity=s/Math.PI}}),this.distance=n!==void 0?n:0,this.angle=i!==void 0?i:Math.PI/3,this.penumbra=r!==void 0?r:0,this.decay=o!==void 0?o:1,this.shadow=new Uy}Hy.prototype=Object.assign(Object.create(ut.prototype),{constructor:Hy,isSpotLight:!0,copy:function(e){return ut.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function Gy(){br.call(this,new Pt(90,1,.5,500)),this._frameExtents=new X(4,2),this._viewportCount=6,this._viewports=[new Ke(2,1,1,1),new Ke(0,1,1,1),new Ke(3,1,1,1),new Ke(1,1,1,1),new Ke(3,0,1,1),new Ke(1,0,1,1)],this._cubeDirections=[new E(1,0,0),new E(-1,0,0),new E(0,0,1),new E(0,0,-1),new E(0,1,0),new E(0,-1,0)],this._cubeUps=[new E(0,1,0),new E(0,1,0),new E(0,1,0),new E(0,1,0),new E(0,0,1),new E(0,0,-1)]}Gy.prototype=Object.assign(Object.create(br.prototype),{constructor:Gy,isPointLightShadow:!0,updateMatrices:function(e,t){t===void 0&&(t=0);const n=this.camera,i=this.matrix,r=this._lightPositionWorld,o=this._lookTarget,s=this._projScreenMatrix;r.setFromMatrixPosition(e.matrixWorld),n.position.copy(r),o.copy(n.position),o.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o),n.updateMatrixWorld(),i.makeTranslation(-r.x,-r.y,-r.z),s.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(s)}});function iu(e,t,n,i){ut.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(r){this.intensity=r/(4*Math.PI)}}),this.distance=n!==void 0?n:0,this.decay=i!==void 0?i:1,this.shadow=new Gy}iu.prototype=Object.assign(Object.create(ut.prototype),{constructor:iu,isPointLight:!0,copy:function(e){return ut.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}});function ru(e,t,n,i,r,o){yr.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e!==void 0?e:-1,this.right=t!==void 0?t:1,this.top=n!==void 0?n:1,this.bottom=i!==void 0?i:-1,this.near=r!==void 0?r:.1,this.far=o!==void 0?o:2e3,this.updateProjectionMatrix()}ru.prototype=Object.assign(Object.create(yr.prototype),{constructor:ru,isOrthographicCamera:!0,copy:function(e,t){return yr.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,i,r,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let r=n-e,o=n+e,s=i+t,a=i-t;if(this.view!==null&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=l*this.view.offsetX,o=r+l*this.view.width,s-=c*this.view.offsetY,a=s-c*this.view.height}this.projectionMatrix.makeOrthographic(r,o,s,a,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=ue.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}});function Vy(){br.call(this,new ru(-5,5,5,-5,.5,500))}Vy.prototype=Object.assign(Object.create(br.prototype),{constructor:Vy,isDirectionalLightShadow:!0,updateMatrices:function(e){br.prototype.updateMatrices.call(this,e)}});function Wy(e,t){ut.call(this,e,t),this.type="DirectionalLight",this.position.copy(ue.DefaultUp),this.updateMatrix(),this.target=new ue,this.shadow=new Vy}Wy.prototype=Object.assign(Object.create(ut.prototype),{constructor:Wy,isDirectionalLight:!0,copy:function(e){return ut.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}});function Dd(e,t){ut.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}Dd.prototype=Object.assign(Object.create(ut.prototype),{constructor:Dd,isAmbientLight:!0});function jy(e,t,n,i){ut.call(this,e,t),this.type="RectAreaLight",this.width=n!==void 0?n:10,this.height=i!==void 0?i:10}jy.prototype=Object.assign(Object.create(ut.prototype),{constructor:jy,isRectAreaLight:!0,copy:function(e){return ut.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=ut.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});function I0(){this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new E)}Object.assign(I0.prototype,{isSphericalHarmonics3:!0,set:function(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){const n=e.x,i=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*r),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],1.092548*(n*i)),t.addScaledVector(o[5],1.092548*(i*r)),t.addScaledVector(o[6],.315392*(3*r*r-1)),t.addScaledVector(o[7],1.092548*(n*r)),t.addScaledVector(o[8],.546274*(n*n-i*i)),t},getIrradianceAt:function(e,t){const n=e.x,i=e.y,r=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*r),t.addScaledVector(o[3],2*.511664*n),t.addScaledVector(o[4],2*.429043*n*i),t.addScaledVector(o[5],2*.429043*i*r),t.addScaledVector(o[6],.743125*r*r-.247708),t.addScaledVector(o[7],2*.429043*n*r),t.addScaledVector(o[8],.429043*(n*n-i*i)),t},add:function(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this},scale:function(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return new this.constructor().copy(this)},fromArray:function(e,t){t===void 0&&(t=0);const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this},toArray:function(e,t){e===void 0&&(e=[]),t===void 0&&(t=0);const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}});Object.assign(I0,{getBasisAt:function(e,t){const n=e.x,i=e.y,r=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*r,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*r,t[6]=.315392*(3*r*r-1),t[7]=1.092548*n*r,t[8]=.546274*(n*n-i*i)}});function _i(e,t){ut.call(this,void 0,t),this.type="LightProbe",this.sh=e!==void 0?e:new I0}_i.prototype=Object.assign(Object.create(ut.prototype),{constructor:_i,isLightProbe:!0,copy:function(e){return ut.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=ut.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}});function qy(e){et.call(this,e),this.textures={}}qy.prototype=Object.assign(Object.create(et.prototype),{constructor:qy,load:function(e,t,n,i){const r=this,o=new Wi(r.manager);o.setPath(r.path),o.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){const t=this.textures;function n(r){return t[r]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",r),t[r]}const i=new yk[e.type];if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=new me().setHex(e.sheen)),e.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular.setHex(e.specular),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==1&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.skinning!==void 0&&(i.skinning=e.skinning),e.morphTargets!==void 0&&(i.morphTargets=e.morphTargets),e.morphNormals!==void 0&&(i.morphNormals=e.morphNormals),e.dithering!==void 0&&(i.dithering=e.dithering),e.vertexTangents!==void 0&&(i.vertexTangents=e.vertexTangents),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const r in e.uniforms){const o=e.uniforms[r];switch(i.uniforms[r]={},o.type){case"t":i.uniforms[r].value=n(o.value);break;case"c":i.uniforms[r].value=new me().setHex(o.value);break;case"v2":i.uniforms[r].value=new X().fromArray(o.value);break;case"v3":i.uniforms[r].value=new E().fromArray(o.value);break;case"v4":i.uniforms[r].value=new Ke().fromArray(o.value);break;case"m3":i.uniforms[r].value=new sn().fromArray(o.value);case"m4":i.uniforms[r].value=new Ge().fromArray(o.value);break;default:i.uniforms[r].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.extensions!==void 0)for(const r in e.extensions)i.extensions[r]=e.extensions[r];if(e.shading!==void 0&&(i.flatShading=e.shading===1),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let r=e.normalScale;Array.isArray(r)===!1&&(r=[r,r]),i.normalScale=new X().fromArray(r)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new X().fromArray(e.clearcoatNormalScale)),i},setTextures:function(e){return this.textures=e,this}});const FS={decodeText:function(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let n=0,i=e.length;n<i;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch{return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return t===-1?"./":e.substr(0,t+1)}};function Nd(){ve.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}Nd.prototype=Object.assign(Object.create(ve.prototype),{constructor:Nd,isInstancedBufferGeometry:!0,copy:function(e){return ve.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return new this.constructor().copy(this)},toJSON:function(){const e=ve.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}});function $y(e,t,n,i){typeof n=="number"&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Ne.call(this,e,t,n),this.meshPerAttribute=i||1}$y.prototype=Object.assign(Object.create(Ne.prototype),{constructor:$y,isInstancedBufferAttribute:!0,copy:function(e){return Ne.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=Ne.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}});function Xy(e){et.call(this,e)}Xy.prototype=Object.assign(Object.create(et.prototype),{constructor:Xy,load:function(e,t,n,i){const r=this,o=new Wi(r.manager);o.setPath(r.path),o.load(e,function(s){try{t(r.parse(JSON.parse(s)))}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)},parse:function(e){const t={},n={};function i(h,d){if(t[d]!==void 0)return t[d];const v=h.interleavedBuffers[d],x=r(h,v.buffer),p=new Ff[v.type](x),g=new qn(p,v.stride);return g.uuid=v.uuid,t[d]=g,g}function r(h,d){if(n[d]!==void 0)return n[d];const v=h.arrayBuffers[d],x=new Uint32Array(v).buffer;return n[d]=x,x}const o=e.isInstancedBufferGeometry?new Nd:new ve,s=e.data.index;if(s!==void 0){const h=new Ff[s.type](s.array);o.setIndex(new Ne(h,1))}const a=e.data.attributes;for(const h in a){const d=a[h];let m;if(d.isInterleavedBufferAttribute){const v=i(e.data,d.data);m=new rs(v,d.itemSize,d.offset,d.normalized)}else{const v=new Ff[d.type](d.array),x=d.isInstancedBufferAttribute?$y:Ne;m=new x(v,d.itemSize,d.normalized)}d.name!==void 0&&(m.name=d.name),o.setAttribute(h,m)}const l=e.data.morphAttributes;if(l)for(const h in l){const d=l[h],m=[];for(let v=0,x=d.length;v<x;v++){const p=d[v];let g;if(p.isInterleavedBufferAttribute){const w=i(e.data,p.data);g=new rs(w,p.itemSize,p.offset,p.normalized)}else{const w=new Ff[p.type](p.array);g=new Ne(w,p.itemSize,p.normalized)}p.name!==void 0&&(g.name=p.name),m.push(g)}o.morphAttributes[h]=m}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(u!==void 0)for(let h=0,d=u.length;h!==d;++h){const m=u[h];o.addGroup(m.start,m.count,m.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const h=new E;f.center!==void 0&&h.fromArray(f.center),o.boundingSphere=new Sr(h,f.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}});const Ff={Int8Array,Uint8Array,Uint8ClampedArray:typeof Uint8ClampedArray<"u"?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Yy(e){et.call(this,e)}Yy.prototype=Object.assign(Object.create(et.prototype),{constructor:Yy,load:function(e,t,n,i){const r=this,o=this.path===""?FS.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new Wi(r.manager);s.setPath(this.path),s.load(e,function(a){let l=null;try{l=JSON.parse(a)}catch(u){i!==void 0&&i(u),console.error("THREE:ObjectLoader: Can't parse "+e+".",u.message);return}const c=l.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){console.error("THREE.ObjectLoader: Can't load "+e);return}r.parse(l,t)},n,i)},parse:function(e,t){const n=this.parseShape(e.shapes),i=this.parseGeometries(e.geometries,n),r=this.parseImages(e.images,function(){t!==void 0&&t(a)}),o=this.parseTextures(e.textures,r),s=this.parseMaterials(e.materials,o),a=this.parseObject(e.object,i,s);return e.animations&&(a.animations=this.parseAnimations(e.animations)),(e.images===void 0||e.images.length===0)&&t!==void 0&&t(a),a},parseShape:function(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const r=new qo().fromJSON(e[n]);t[r.uuid]=r}return t},parseGeometries:function(e,t){const n={};let i;if(e!==void 0){const r=new Xy;for(let o=0,s=e.length;o<s;o++){let a;const l=e[o];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new rn[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new rn[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new rn[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new rn[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new rn[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new rn[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new rn[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new rn[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new rn[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new rn[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new rn[l.type](new By[l.path.type]().fromJSON(l.path),l.tubularSegments,l.radius,l.radialSegments,l.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new rn[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new rn[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":i=[];for(let u=0,f=l.shapes.length;u<f;u++){const h=t[l.shapes[u]];i.push(h)}a=new rn[l.type](i,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":i=[];for(let u=0,f=l.shapes.length;u<f;u++){const h=t[l.shapes[u]];i.push(h)}const c=l.options.extrudePath;c!==void 0&&(l.options.extrudePath=new By[c.type]().fromJSON(c)),a=new rn[l.type](i,l.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=r.parse(l);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),a.isBufferGeometry===!0&&l.userData!==void 0&&(a.userData=l.userData),n[l.uuid]=a}}return n},parseMaterials:function(e,t){const n={},i={};if(e!==void 0){const r=new qy;r.setTextures(t);for(let o=0,s=e.length;o<s;o++){const a=e[o];if(a.type==="MultiMaterial"){const l=[];for(let c=0;c<a.materials.length;c++){const u=a.materials[c];n[u.uuid]===void 0&&(n[u.uuid]=r.parse(u)),l.push(n[u.uuid])}i[a.uuid]=l}else n[a.uuid]===void 0&&(n[a.uuid]=r.parse(a)),i[a.uuid]=n[a.uuid]}}return i},parseAnimations:function(e){const t=[];for(let n=0;n<e.length;n++){const i=e[n],r=gi.parse(i);i.uuid!==void 0&&(r.uuid=i.uuid),t.push(r)}return t},parseImages:function(e,t){const n=this,i={};let r;function o(s){return n.manager.itemStart(s),r.load(s,function(){n.manager.itemEnd(s)},void 0,function(){n.manager.itemError(s),n.manager.itemEnd(s)})}if(e!==void 0&&e.length>0){const s=new kS(t);r=new tu(s),r.setCrossOrigin(this.crossOrigin);for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.url;if(Array.isArray(u)){i[c.uuid]=[];for(let f=0,h=u.length;f<h;f++){const d=u[f],m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:n.resourcePath+d;i[c.uuid].push(o(m))}}else{const f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.resourcePath+c.url;i[c.uuid]=o(f)}}}return i},parseTextures:function(e,t){function n(r,o){return typeof r=="number"?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),o[r])}const i={};if(e!==void 0)for(let r=0,o=e.length;r<o;r++){const s=e[r];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);let a;Array.isArray(t[s.image])?a=new ho(t[s.image]):a=new nt(t[s.image]),a.needsUpdate=!0,a.uuid=s.uuid,s.name!==void 0&&(a.name=s.name),s.mapping!==void 0&&(a.mapping=n(s.mapping,Pk)),s.offset!==void 0&&a.offset.fromArray(s.offset),s.repeat!==void 0&&a.repeat.fromArray(s.repeat),s.center!==void 0&&a.center.fromArray(s.center),s.rotation!==void 0&&(a.rotation=s.rotation),s.wrap!==void 0&&(a.wrapS=n(s.wrap[0],B_),a.wrapT=n(s.wrap[1],B_)),s.format!==void 0&&(a.format=s.format),s.type!==void 0&&(a.type=s.type),s.encoding!==void 0&&(a.encoding=s.encoding),s.minFilter!==void 0&&(a.minFilter=n(s.minFilter,z_)),s.magFilter!==void 0&&(a.magFilter=n(s.magFilter,z_)),s.anisotropy!==void 0&&(a.anisotropy=s.anisotropy),s.flipY!==void 0&&(a.flipY=s.flipY),s.premultiplyAlpha!==void 0&&(a.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(a.unpackAlignment=s.unpackAlignment),i[s.uuid]=a}return i},parseObject:function(e,t,n){let i;function r(l){return t[l]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",l),t[l]}function o(l){if(l!==void 0){if(Array.isArray(l)){const c=[];for(let u=0,f=l.length;u<f;u++){const h=l[u];n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),c.push(n[h])}return c}return n[l]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",l),n[l]}}let s,a;switch(e.type){case"Scene":i=new Rc,e.background!==void 0&&Number.isInteger(e.background)&&(i.background=new me(e.background)),e.fog!==void 0&&(e.fog.type==="Fog"?i.fog=new _y(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(i.fog=new wy(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":i=new Pt(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(i.focus=e.focus),e.zoom!==void 0&&(i.zoom=e.zoom),e.filmGauge!==void 0&&(i.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(i.filmOffset=e.filmOffset),e.view!==void 0&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new ru(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(i.zoom=e.zoom),e.view!==void 0&&(i.view=Object.assign({},e.view));break;case"AmbientLight":i=new Dd(e.color,e.intensity);break;case"DirectionalLight":i=new Wy(e.color,e.intensity);break;case"PointLight":i=new iu(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":i=new jy(e.color,e.intensity,e.width,e.height);break;case"SpotLight":i=new Hy(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new zy(e.color,e.groundColor,e.intensity);break;case"LightProbe":i=new _i().fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":s=r(e.geometry),a=o(e.material),i=new Je(s,a);break;case"InstancedMesh":s=r(e.geometry),a=o(e.material);const l=e.count,c=e.instanceMatrix;i=new Sy(s,a,l),i.instanceMatrix=new Ne(new Float32Array(c.array),16);break;case"LOD":i=new fd;break;case"Line":i=new ti(r(e.geometry),o(e.material),e.mode);break;case"LineLoop":i=new Ty(r(e.geometry),o(e.material));break;case"LineSegments":i=new Ot(r(e.geometry),o(e.material));break;case"PointCloud":case"Points":i=new Py(r(e.geometry),o(e.material));break;case"Sprite":i=new by(o(e.material));break;case"Group":i=new Pa;break;default:i=new ue}if(i.uuid=e.uuid,e.name!==void 0&&(i.name=e.name),e.matrix!==void 0?(i.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(i.matrixAutoUpdate=e.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(e.position!==void 0&&i.position.fromArray(e.position),e.rotation!==void 0&&i.rotation.fromArray(e.rotation),e.quaternion!==void 0&&i.quaternion.fromArray(e.quaternion),e.scale!==void 0&&i.scale.fromArray(e.scale)),e.castShadow!==void 0&&(i.castShadow=e.castShadow),e.receiveShadow!==void 0&&(i.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(i.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(i.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(i.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&i.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(i.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(i.visible=e.visible),e.frustumCulled!==void 0&&(i.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(i.renderOrder=e.renderOrder),e.userData!==void 0&&(i.userData=e.userData),e.layers!==void 0&&(i.layers.mask=e.layers),e.children!==void 0){const l=e.children;for(let c=0;c<l.length;c++)i.add(this.parseObject(l[c],t,n))}if(e.type==="LOD"){e.autoUpdate!==void 0&&(i.autoUpdate=e.autoUpdate);const l=e.levels;for(let c=0;c<l.length;c++){const u=l[c],f=i.getObjectByProperty("uuid",u.object);f!==void 0&&i.addLevel(f,u.distance)}}return i}});const Pk={UVMapping:S0,CubeReflectionMapping:T0,CubeRefractionMapping:A0,EquirectangularReflectionMapping:cS,EquirectangularRefractionMapping:P0,CubeUVReflectionMapping:Lu,CubeUVRefractionMapping:C0},B_={RepeatWrapping:id,ClampToEdgeWrapping:mn,MirroredRepeatWrapping:rd},z_={NearestFilter:Ut,NearestMipmapNearestFilter:uy,NearestMipmapLinearFilter:fy,LinearFilter:Qt,LinearMipmapNearestFilter:uS,LinearMipmapLinearFilter:Mp};function U_(e){typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),et.call(this,e),this.options={premultiplyAlpha:"none"}}U_.prototype=Object.assign(Object.create(et.prototype),{constructor:U_,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const r=this,o=Ga.get(e);if(o!==void 0)return r.manager.itemStart(e),setTimeout(function(){t&&t(o),r.manager.itemEnd(e)},0),o;fetch(e).then(function(s){return s.blob()}).then(function(s){return createImageBitmap(s,r.options)}).then(function(s){Ga.add(e,s),t&&t(s),r.manager.itemEnd(e)}).catch(function(s){i&&i(s),r.manager.itemError(e),r.manager.itemEnd(e)}),r.manager.itemStart(e)}});function BS(){this.type="ShapePath",this.color=new me,this.subPaths=[],this.currentPath=null}Object.assign(BS.prototype,{moveTo:function(e,t){return this.currentPath=new Ii,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this},bezierCurveTo:function(e,t,n,i,r,o){return this.currentPath.bezierCurveTo(e,t,n,i,r,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(p){const g=[];for(let w=0,y=p.length;w<y;w++){const _=p[w],b=new qo;b.curves=_.curves,g.push(b)}return g}function i(p,g){const w=g.length;let y=!1;for(let _=w-1,b=0;b<w;_=b++){let M=g[_],N=g[b],S=N.x-M.x,U=N.y-M.y;if(Math.abs(U)>Number.EPSILON){if(U<0&&(M=g[b],S=-S,N=g[_],U=-U),p.y<M.y||p.y>N.y)continue;if(p.y===M.y){if(p.x===M.x)return!0}else{const R=U*(p.x-M.x)-S*(p.y-M.y);if(R===0)return!0;if(R<0)continue;y=!y}}else{if(p.y!==M.y)continue;if(N.x<=p.x&&p.x<=M.x||M.x<=p.x&&p.x<=N.x)return!0}}return y}const r=lo.isClockWise,o=this.subPaths;if(o.length===0)return[];if(t===!0)return n(o);let s,a,l,c=[];if(o.length===1)return a=o[0],l=new qo,l.curves=a.curves,c.push(l),c;let u=!r(o[0].getPoints());u=e?!u:u;const f=[],h=[];let d=[],m=0,v;h[m]=void 0,d[m]=[];for(let p=0,g=o.length;p<g;p++)a=o[p],v=a.getPoints(),s=r(v),s=e?!s:s,s?(!u&&h[m]&&m++,h[m]={s:new qo,p:v},h[m].s.curves=a.curves,u&&m++,d[m]=[]):d[m].push({h:a,p:v[0]});if(!h[0])return n(o);if(h.length>1){let p=!1;const g=[];for(let w=0,y=h.length;w<y;w++)f[w]=[];for(let w=0,y=h.length;w<y;w++){const _=d[w];for(let b=0;b<_.length;b++){const M=_[b];let N=!0;for(let S=0;S<h.length;S++)i(M.p,h[S].p)&&(w!==S&&g.push({froms:w,tos:S,hole:b}),N?(N=!1,f[S].push(M)):p=!0);N&&f[w].push(M)}}g.length>0&&(p||(d=f))}let x;for(let p=0,g=h.length;p<g;p++){l=h[p].s,c.push(l),x=d[p];for(let w=0,y=x.length;w<y;w++)l.holes.push(x[w].h)}return c}});function zS(e){this.type="Font",this.data=e}Object.assign(zS.prototype,{isFont:!0,generateShapes:function(e,t){t===void 0&&(t=100);const n=[],i=Ck(e,t,this.data);for(let r=0,o=i.length;r<o;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}});function Ck(e,t,n){const i=Array.from?Array.from(e):String(e).split(""),r=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,s=[];let a=0,l=0;for(let c=0;c<i.length;c++){const u=i[c];if(u===`
`)a=0,l-=o;else{const f=Lk(u,r,a,l,n);a+=f.offsetX,s.push(f.path)}}return s}function Lk(e,t,n,i,r){const o=r.glyphs[e]||r.glyphs["?"];if(!o){console.error('THREE.Font: character "'+e+'" does not exists in font family '+r.familyName+".");return}const s=new BS;let a,l,c,u,f,h,d,m;if(o.o){const v=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let x=0,p=v.length;x<p;)switch(v[x++]){case"m":a=v[x++]*t+n,l=v[x++]*t+i,s.moveTo(a,l);break;case"l":a=v[x++]*t+n,l=v[x++]*t+i,s.lineTo(a,l);break;case"q":c=v[x++]*t+n,u=v[x++]*t+i,f=v[x++]*t+n,h=v[x++]*t+i,s.quadraticCurveTo(f,h,c,u);break;case"b":c=v[x++]*t+n,u=v[x++]*t+i,f=v[x++]*t+n,h=v[x++]*t+i,d=v[x++]*t+n,m=v[x++]*t+i,s.bezierCurveTo(f,h,d,m,c,u);break}}return{offsetX:o.ha*t,path:s}}function H_(e){et.call(this,e)}H_.prototype=Object.assign(Object.create(et.prototype),{constructor:H_,load:function(e,t,n,i){const r=this,o=new Wi(this.manager);o.setPath(this.path),o.load(e,function(s){let a;try{a=JSON.parse(s)}catch{console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),a=JSON.parse(s.substring(65,s.length-2))}const l=r.parse(a);t&&t(l)},n,i)},parse:function(e){return new zS(e)}});let Bf;const US={getContext:function(){return Bf===void 0&&(Bf=new(window.AudioContext||window.webkitAudioContext)),Bf},setContext:function(e){Bf=e}};function Jy(e){et.call(this,e)}Jy.prototype=Object.assign(Object.create(et.prototype),{constructor:Jy,load:function(e,t,n,i){const r=this,o=new Wi(r.manager);o.setResponseType("arraybuffer"),o.setPath(r.path),o.load(e,function(s){try{const a=s.slice(0);US.getContext().decodeAudioData(a,function(c){t(c)})}catch(a){i?i(a):console.error(a),r.manager.itemError(e)}},n,i)}});function G_(e,t,n){_i.call(this,void 0,n);const i=new me().set(e),r=new me().set(t),o=new E(i.r,i.g,i.b),s=new E(r.r,r.g,r.b),a=Math.sqrt(Math.PI),l=a*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(s).multiplyScalar(a),this.sh.coefficients[1].copy(o).sub(s).multiplyScalar(l)}G_.prototype=Object.assign(Object.create(_i.prototype),{constructor:G_,isHemisphereLightProbe:!0,copy:function(e){return _i.prototype.copy.call(this,e),this},toJSON:function(e){return _i.prototype.toJSON.call(this,e)}});function V_(e,t){_i.call(this,void 0,t);const n=new me().set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}V_.prototype=Object.assign(Object.create(_i.prototype),{constructor:V_,isAmbientLightProbe:!0,copy:function(e){return _i.prototype.copy.call(this,e),this},toJSON:function(e){return _i.prototype.toJSON.call(this,e)}});const W_=new Ge,j_=new Ge;function Rk(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Pt,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Pt,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(Rk.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const i=e.projectionMatrix.clone(),r=t.eyeSep/2,o=r*t.near/t.focus,s=t.near*Math.tan(ze.DEG2RAD*t.fov*.5)/t.zoom;let a,l;j_.elements[12]=-r,W_.elements[12]=r,a=-s*t.aspect+o,l=s*t.aspect+o,i.elements[0]=2*t.near/(l-a),i.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(i),a=-s*t.aspect-o,l=s*t.aspect-o,i.elements[0]=2*t.near/(l-a),i.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(j_),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(W_)}});function HS(e){this.autoStart=e!==void 0?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(HS.prototype,{start:function(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=(typeof performance>"u"?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});const Ao=new E,q_=new Rt,Ok=new E,Po=new E;function $_(){ue.call(this),this.type="AudioListener",this.context=US.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new HS}$_.prototype=Object.assign(Object.create(ue.prototype),{constructor:$_,getInput:function(){return this.gain},removeFilter:function(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){ue.prototype.updateMatrixWorld.call(this,e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Ao,q_,Ok),Po.set(0,0,-1).applyQuaternion(q_),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Ao.x,i),t.positionY.linearRampToValueAtTime(Ao.y,i),t.positionZ.linearRampToValueAtTime(Ao.z,i),t.forwardX.linearRampToValueAtTime(Po.x,i),t.forwardY.linearRampToValueAtTime(Po.y,i),t.forwardZ.linearRampToValueAtTime(Po.z,i),t.upX.linearRampToValueAtTime(n.x,i),t.upY.linearRampToValueAtTime(n.y,i),t.upZ.linearRampToValueAtTime(n.z,i)}else t.setPosition(Ao.x,Ao.y,Ao.z),t.setOrientation(Po.x,Po.y,Po.z,n.x,n.y,n.z)}});function ou(e){ue.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}ou.prototype=Object.assign(Object.create(ue.prototype),{constructor:ou,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(e===void 0&&(e=0),this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this},stop:function(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),this.isPlaying===!0?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});const Co=new E,X_=new Rt,Dk=new E,Lo=new E;function Y_(e){ou.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}Y_.prototype=Object.assign(Object.create(ou.prototype),{constructor:Y_,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(ue.prototype.updateMatrixWorld.call(this,e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Co,X_,Dk),Lo.set(0,0,1).applyQuaternion(X_);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Co.x,n),t.positionY.linearRampToValueAtTime(Co.y,n),t.positionZ.linearRampToValueAtTime(Co.z,n),t.orientationX.linearRampToValueAtTime(Lo.x,n),t.orientationY.linearRampToValueAtTime(Lo.y,n),t.orientationZ.linearRampToValueAtTime(Lo.z,n)}else t.setPosition(Co.x,Co.y,Co.z),t.setOrientation(Lo.x,Lo.y,Lo.z)}});function GS(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t!==void 0?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}Object.assign(GS.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}});function VS(e,t,n){this.binding=e,this.valueSize=n;let i,r,o;switch(t){case"quaternion":i=this._slerp,r=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,r=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,r=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=r,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(VS.prototype,{accumulate:function(e,t){const n=this.buffer,i=this.valueSize,r=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)n[r+s]=n[s];o=t}else{o+=t;const s=t/o;this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=o},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,i=e*t+t,r=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const a=t*this._origIndex;this._mixBufferRegion(n,i,a,1-r,t)}o>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let a=t,l=t+t;a!==l;++a)if(n[a]!==n[a+t]){s.setValue(n,i);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let r=n,o=i;r!==o;++r)t[r]=t[i+r%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*4+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,i,r){if(i>=.5)for(let o=0;o!==r;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,i){Rt.slerpFlat(e,t,e,t,e,n,i)},_slerpAdditive:function(e,t,n,i,r){const o=this._workIndex*r;Rt.multiplyQuaternionsFlat(e,o,e,t,e,n),Rt.slerpFlat(e,t,e,t,e,o,i)},_lerp:function(e,t,n,i,r){const o=1-i;for(let s=0;s!==r;++s){const a=t+s;e[a]=e[a]*o+e[n+s]*i}},_lerpAdditive:function(e,t,n,i,r){for(let o=0;o!==r;++o){const s=t+o;e[s]=e[s]+e[n+o]*i}}});const k0="\\[\\]\\.:\\/",Nk=new RegExp("["+k0+"]","g"),F0="[^"+k0+"]",Ik="[^"+k0.replace("\\.","")+"]",kk=/((?:WC+[\/:])*)/.source.replace("WC",F0),Fk=/(WCOD+)?/.source.replace("WCOD",Ik),Bk=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",F0),zk=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",F0),Uk=new RegExp("^"+kk+Fk+Bk+zk+"$"),Hk=["material","materials","bones"];function WS(e,t,n){const i=n||ln.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}Object.assign(WS.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}});function ln(e,t,n){this.path=t,this.parsedPath=n||ln.parseTrackName(t),this.node=ln.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}Object.assign(ln,{Composite:WS,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new ln.Composite(e,t,n):new ln(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Nk,"")},parseTrackName:function(e){const t=Uk.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const r=n.nodeName.substring(i+1);Hk.indexOf(r)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(r){for(let o=0;o<r.length;o++){const s=r[o];if(s.name===t||s.uuid===t)return s;const a=n(s.children);if(a)return a}return null},i=n(e.children);if(i)return i}return null}});Object.assign(ln.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,n){t[n]=this.node[this.propertyName]},function(t,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)t[n++]=i[r]},function(t,n){t[n]=this.resolvedProperty[this.propertyIndex]},function(t,n){this.resolvedProperty.toArray(t,n)}],SetterByBindingTypeAndVersioning:[[function(t,n){this.targetObject[this.propertyName]=t[n]},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.targetObject[this.propertyName]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=t[n++]},function(t,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=t[n++];this.targetObject.needsUpdate=!0},function(t,n){const i=this.resolvedProperty;for(let r=0,o=i.length;r!==o;++r)i[r]=t[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty[this.propertyIndex]=t[n]},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty[this.propertyIndex]=t[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,n){this.resolvedProperty.fromArray(t,n)},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.needsUpdate=!0},function(t,n){this.resolvedProperty.fromArray(t,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,n){this.bind(),this.getValue(t,n)},setValue:function(t,n){this.bind(),this.setValue(t,n)},bind:function(){let e=this.node,t=this.parsedPath,n=t.objectName,i=t.propertyName,r=t.propertyIndex;if(e||(e=ln.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(n){let l=t.objectIndex;switch(n){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===l){l=c;break}break;default:if(e[n]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(l!==void 0){if(e[l]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[l]}}const o=e[i];if(o===void 0){const l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(r!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(e.geometry.isBufferGeometry){if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[r]!==void 0&&(r=e.morphTargetDictionary[r])}else{console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);return}}a=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=r}else o.fromArray!==void 0&&o.toArray!==void 0?(a=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(a=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][s]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}});Object.assign(ln.prototype,{_getValue_unbound:ln.prototype.getValue,_setValue_unbound:ln.prototype.setValue});function Gk(){this.uuid=ze.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign(Gk.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,r=this._bindings,o=r.length;let s,a=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const f=arguments[c],h=f.uuid;let d=t[h];if(d===void 0){d=a++,t[h]=d,e.push(f);for(let m=0,v=o;m!==v;++m)r[m].push(new ln(f,n[m],i[m]))}else if(d<l){s=e[d];const m=--l,v=e[m];t[v.uuid]=d,e[d]=v,t[h]=m,e[m]=f;for(let x=0,p=o;x!==p;++x){const g=r[x],w=g[m];let y=g[d];g[d]=w,y===void 0&&(y=new ln(f,n[x],i[x])),g[m]=y}}else e[d]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const a=arguments[o],l=a.uuid,c=t[l];if(c!==void 0&&c>=r){const u=r++,f=e[u];t[f.uuid]=c,e[c]=f,t[l]=u,e[u]=a;for(let h=0,d=i;h!==d;++h){const m=n[h],v=m[u],x=m[c];m[c]=v,m[u]=x}}}this.nCachedObjects_=r},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let r=this.nCachedObjects_,o=e.length;for(let s=0,a=arguments.length;s!==a;++s){const l=arguments[s],c=l.uuid,u=t[c];if(u!==void 0)if(delete t[c],u<r){const f=--r,h=e[f],d=--o,m=e[d];t[h.uuid]=u,e[u]=h,t[m.uuid]=f,e[f]=m,e.pop();for(let v=0,x=i;v!==x;++v){const p=n[v],g=p[f],w=p[d];p[u]=g,p[f]=w,p.pop()}}else{const f=--o,h=e[f];t[h.uuid]=u,e[u]=h,e.pop();for(let d=0,m=i;d!==m;++d){const v=n[d];v[u]=v[f],v.pop()}}}this.nCachedObjects_=r},subscribe_:function(e,t){let n=this._bindingsIndicesByPath,i=n[e],r=this._bindings;if(i!==void 0)return r[i];const o=this._paths,s=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[e]=i,o.push(e),s.push(t),r.push(u);for(let f=c,h=a.length;f!==h;++f){const d=a[f];u[f]=new ln(d,e,t)}return u},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,r=this._parsedPaths,o=this._bindings,s=o.length-1,a=o[s],l=e[s];t[l]=n,o[n]=a,o.pop(),r[n]=r[s],r.pop(),i[n]=i[s],i.pop()}}});function jS(e,t,n,i){this._mixer=e,this._clip=t,this._localRoot=n||null,this.blendMode=i||t.blendMode;const r=t.tracks,o=r.length,s=new Array(o),a={endingStart:Ea,endingEnd:Ea};for(let l=0;l!==o;++l){const c=r[l].createInterpolant(null);s[l]=c,c.settings=a}this._interpolantSettings=a,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=D3,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}Object.assign(jS.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const i=this._clip.duration,r=e._clip.duration,o=r/i,s=i/r;e.warp(1,o,t),this.warp(s,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){const i=this._mixer,r=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const a=s.parameterPositions,l=s.sampleValues;return a[0]=r,a[1]=r+n,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const r=this._startTime;if(r!==null){const a=(e-r)*n;if(a<0||n===0)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const a=this._interpolants,l=this._propertyBindings;switch(this.blendMode){case fS:for(let c=0,u=a.length;c!==u;++c)a[c].evaluate(o),l[c].accumulateAdditive(s);break;case L0:default:for(let c=0,u=a.length;c!==u;++c)a[c].evaluate(o),l[c].accumulate(i,s)}}},_updateWeight:function(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t},_updateTime:function(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,r=this._loopCount;const o=n===N3;if(e===0)return r===-1?i:o&&(r&1)===1?t-i:i;if(n===O3){r===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(r===-1&&(e>=0?(r=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const s=Math.floor(i/t);i-=t*s,r+=Math.abs(s);const a=this.repetitions-r;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(a===1){const l=e<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(r&1)===1)return t-i}return i},_setEndings:function(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=Zs,i.endingEnd=Zs):(e?i.endingStart=this.zeroSlopeAtStart?Zs:Ea:i.endingStart=ld,t?i.endingEnd=this.zeroSlopeAtEnd?Zs:Ea:i.endingEnd=ld)},_scheduleFading:function(e,t,n){const i=this._mixer,r=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,a=o.sampleValues;return s[0]=r,a[0]=t,s[1]=r+e,a[1]=n,this}});function J_(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}J_.prototype=Object.assign(Object.create(Gt.prototype),{constructor:J_,_bindAction:function(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,r=i.length,o=e._propertyBindings,s=e._interpolants,a=n.uuid,l=this._bindingsByRootAndName;let c=l[a];c===void 0&&(c={},l[a]=c);for(let u=0;u!==r;++u){const f=i[u],h=f.name;let d=c[h];if(d!==void 0)o[u]=d;else{if(d=o[u],d!==void 0){d._cacheIndex===null&&(++d.referenceCount,this._addInactiveBinding(d,a,h));continue}const m=t&&t._propertyBindings[u].binding.parsedPath;d=new VS(ln.create(n,h,m),f.ValueTypeName,f.getValueSize()),++d.referenceCount,this._addInactiveBinding(d,a,h),o[u]=d}s[u].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];r.useCount++===0&&(this._lendBinding(r),r.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.useCount===0&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const i=this._actions,r=this._actionsByClip;let o=r[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const r=e._clip.uuid,o=this._actionsByClip,s=o[r],a=s.knownActions,l=a[a.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),e._byClipCacheIndex=null;const u=s.actionByRoot,f=(e._localRoot||this._root).uuid;delete u[f],a.length===0&&delete o[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const r=t[n];--r.referenceCount===0&&this._removeInactiveBinding(r)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_addInactiveBinding:function(e,t,n){const i=this._bindingsByRootAndName,r=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[n]=e,e._cacheIndex=r.length,r.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,s=o[i],a=t[t.length-1],l=e._cacheIndex;a._cacheIndex=l,t[l]=a,t.pop(),delete s[r],Object.keys(s).length===0&&delete o[i]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,r=t[i];e._cacheIndex=i,t[i]=e,r._cacheIndex=n,t[n]=r},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new Rd(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,r=t[i];e.__cacheIndex=i,t[i]=e,r.__cacheIndex=n,t[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const i=t||this._root,r=i.uuid;let o=typeof e=="string"?gi.findByName(i,e):e;const s=o!==null?o.uuid:e;let a=this._actionsByClip[s],l=null;if(n===void 0&&(o!==null?n=o.blendMode:n=L0),a!==void 0){const u=a.actionByRoot[r];if(u!==void 0&&u.blendMode===n)return u;l=a.knownActions[0],o===null&&(o=l._clip)}if(o===null)return null;const c=new jS(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,s,r),c},existingAction:function(e,t){const n=t||this._root,i=n.uuid,r=typeof e=="string"?gi.findByName(n,e):e,o=r?r.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null},stopAllAction:function(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,r=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l)t[l]._update(i,e,r,o);const s=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)s[l].apply(o);return this},setTime:function(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,r=i[n];if(r!==void 0){const o=r.knownActions;for(let s=0,a=o.length;s!==a;++s){const l=o[s];this._deactivateAction(l);const c=l._cacheIndex,u=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,t[c]=u,t.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const o in n){const s=n[o].actionByRoot,a=s[t];a!==void 0&&(this._deactivateAction(a),this._removeInactiveAction(a))}const i=this._bindingsByRootAndName,r=i[t];if(r!==void 0)for(const o in r){const s=r[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}});function Zy(e){typeof e=="string"&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}Zy.prototype.clone=function(){return new Zy(this.value.clone===void 0?this.value:this.value.clone())};function Z_(e,t,n){qn.call(this,e,t),this.meshPerAttribute=n||1}Z_.prototype=Object.assign(Object.create(qn.prototype),{constructor:Z_,isInstancedInterleavedBuffer:!0,copy:function(e){return qn.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=qn.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=qn.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}});function Pp(e,t,n,i){this.ray=new rl(e,t),this.near=n||0,this.far=i||1/0,this.camera=null,this.layers=new D0,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function K_(e,t){return e.distance-t.distance}function Ky(e,t,n,i){if(e.layers.test(t.layers)&&e.raycast(t,n),i===!0){const r=e.children;for(let o=0,s=r.length;o<s;o++)Ky(r[o],t,n,!0)}}Object.assign(Pp.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){const i=n||[];return Ky(e,this,i,t),i.sort(K_),i},intersectObjects:function(e,t,n){const i=n||[];if(Array.isArray(e)===!1)return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let r=0,o=e.length;r<o;r++)Ky(e[r],this,i,t);return i.sort(K_),i}});function Qy(e,t,n){return this.radius=e!==void 0?e:1,this.phi=t!==void 0?t:0,this.theta=n!==void 0?n:0,this}Object.assign(Qy.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(ze.clamp(t/this.radius,-1,1))),this}});function Vk(e,t,n){return this.radius=e!==void 0?e:1,this.theta=t!==void 0?t:0,this.y=n!==void 0?n:0,this}Object.assign(Vk.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});const Q_=new X;function qS(e,t){this.min=e!==void 0?e:new X(1/0,1/0),this.max=t!==void 0?t:new X(-1/0,-1/0)}Object.assign(qS.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){const n=Q_.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return e===void 0&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new X),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return e===void 0&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new X),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new X),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return t===void 0&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new X),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Q_.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});const eb=new E,zf=new E;function $S(e,t){this.start=e!==void 0?e:new E,this.end=t!==void 0?t:new E}Object.assign($S.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return new this.constructor().copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return e===void 0&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new E),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return e===void 0&&(console.warn("THREE.Line3: .delta() target is now required"),e=new E),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return t===void 0&&(console.warn("THREE.Line3: .at() target is now required"),t=new E),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){eb.subVectors(e,this.start),zf.subVectors(this.end,this.start);const n=zf.dot(zf);let r=zf.dot(eb)/n;return t&&(r=ze.clamp(r,0,1)),r},closestPointToPoint:function(e,t,n){const i=this.closestPointToPointParameter(e,t);return n===void 0&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new E),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}});function Id(e){ue.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Id.prototype=Object.create(ue.prototype);Id.prototype.constructor=Id;Id.prototype.isImmediateRenderObject=!0;const tb=new E;function su(e,t){ue.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new ve,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,a=32;o<a;o++,s++){const l=o/a*Math.PI*2,c=s/a*Math.PI*2;i.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}n.setAttribute("position",new de(i,3));const r=new Tt({fog:!1,toneMapped:!1});this.cone=new Ot(n,r),this.add(this.cone),this.update()}su.prototype=Object.create(ue.prototype);su.prototype.constructor=su;su.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()};su.prototype.update=function(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),tb.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(tb),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};const kr=new E,Uf=new Ge,qm=new Ge;function XS(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,XS(e.children[n]));return t}function Va(e){const t=XS(e),n=new ve,i=[],r=[],o=new me(0,0,1),s=new me(0,1,0);for(let l=0;l<t.length;l++){const c=t[l];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(s.r,s.g,s.b))}n.setAttribute("position",new de(i,3)),n.setAttribute("color",new de(r,3));const a=new Tt({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});Ot.call(this,n,a),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}Va.prototype=Object.create(Ot.prototype);Va.prototype.constructor=Va;Va.prototype.isSkeletonHelper=!0;Va.prototype.updateMatrixWorld=function(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");qm.getInverse(this.root.matrixWorld);for(let r=0,o=0;r<t.length;r++){const s=t[r];s.parent&&s.parent.isBone&&(Uf.multiplyMatrices(qm,s.matrixWorld),kr.setFromMatrixPosition(Uf),i.setXYZ(o,kr.x,kr.y,kr.z),Uf.multiplyMatrices(qm,s.parent.matrixWorld),kr.setFromMatrixPosition(Uf),i.setXYZ(o+1,kr.x,kr.y,kr.z),o+=2)}n.getAttribute("position").needsUpdate=!0,ue.prototype.updateMatrixWorld.call(this,e)};function au(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;const i=new Oa(t,4,2),r=new cn({wireframe:!0,fog:!1,toneMapped:!1});Je.call(this,i,r),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}au.prototype=Object.create(Je.prototype);au.prototype.constructor=au;au.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()};au.prototype.update=function(){this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)};const Wk=new E,nb=new me,ib=new me;function lu(e,t,n){ue.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const i=new Ca(t);i.rotateY(Math.PI*.5),this.material=new cn({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const r=i.getAttribute("position"),o=new Float32Array(r.count*3);i.setAttribute("color",new Ne(o,3)),this.add(new Je(i,this.material)),this.update()}lu.prototype=Object.create(ue.prototype);lu.prototype.constructor=lu;lu.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()};lu.prototype.update=function(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");nb.copy(this.light.color),ib.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const r=n<i/2?nb:ib;t.setXYZ(n,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(Wk.setFromMatrixPosition(this.light.matrixWorld).negate())};function ev(e,t,n,i){e=e||10,t=t||10,n=new me(n!==void 0?n:4473924),i=new me(i!==void 0?i:8947848);const r=t/2,o=e/t,s=e/2,a=[],l=[];for(let f=0,h=0,d=-s;f<=t;f++,d+=o){a.push(-s,0,d,s,0,d),a.push(d,0,-s,d,0,s);const m=f===r?n:i;m.toArray(l,h),h+=3,m.toArray(l,h),h+=3,m.toArray(l,h),h+=3,m.toArray(l,h),h+=3}const c=new ve;c.setAttribute("position",new de(a,3)),c.setAttribute("color",new de(l,3));const u=new Tt({vertexColors:!0,toneMapped:!1});Ot.call(this,c,u),this.type="GridHelper"}ev.prototype=Object.assign(Object.create(Ot.prototype),{constructor:ev,copy:function(e){return Ot.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return new this.constructor().copy(this)}});function tv(e,t,n,i,r,o){e=e||10,t=t||16,n=n||8,i=i||64,r=new me(r!==void 0?r:4473924),o=new me(o!==void 0?o:8947848);const s=[],a=[];for(let u=0;u<=t;u++){const f=u/t*(Math.PI*2),h=Math.sin(f)*e,d=Math.cos(f)*e;s.push(0,0,0),s.push(h,0,d);const m=u&1?r:o;a.push(m.r,m.g,m.b),a.push(m.r,m.g,m.b)}for(let u=0;u<=n;u++){const f=u&1?r:o,h=e-e/n*u;for(let d=0;d<i;d++){let m=d/i*(Math.PI*2),v=Math.sin(m)*h,x=Math.cos(m)*h;s.push(v,0,x),a.push(f.r,f.g,f.b),m=(d+1)/i*(Math.PI*2),v=Math.sin(m)*h,x=Math.cos(m)*h,s.push(v,0,x),a.push(f.r,f.g,f.b)}}const l=new ve;l.setAttribute("position",new de(s,3)),l.setAttribute("color",new de(a,3));const c=new Tt({vertexColors:!0,toneMapped:!1});Ot.call(this,l,c),this.type="PolarGridHelper"}tv.prototype=Object.create(Ot.prototype);tv.prototype.constructor=tv;const rb=new E,Hf=new E,ob=new E;function cu(e,t,n){ue.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,t===void 0&&(t=1);let i=new ve;i.setAttribute("position",new de([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const r=new Tt({fog:!1,toneMapped:!1});this.lightPlane=new ti(i,r),this.add(this.lightPlane),i=new ve,i.setAttribute("position",new de([0,0,0,0,0,1],3)),this.targetLine=new ti(i,r),this.add(this.targetLine),this.update()}cu.prototype=Object.create(ue.prototype);cu.prototype.constructor=cu;cu.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()};cu.prototype.update=function(){rb.setFromMatrixPosition(this.light.matrixWorld),Hf.setFromMatrixPosition(this.light.target.matrixWorld),ob.subVectors(Hf,rb),this.lightPlane.lookAt(Hf),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Hf),this.targetLine.scale.z=ob.length()};const Gf=new E,_t=new yr;function kd(e){const t=new ve,n=new Tt({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],r=[],o={},s=new me(16755200),a=new me(16711680),l=new me(43775),c=new me(16777215),u=new me(3355443);f("n1","n2",s),f("n2","n4",s),f("n4","n3",s),f("n3","n1",s),f("f1","f2",s),f("f2","f4",s),f("f4","f3",s),f("f3","f1",s),f("n1","f1",s),f("n2","f2",s),f("n3","f3",s),f("n4","f4",s),f("p","n1",a),f("p","n2",a),f("p","n3",a),f("p","n4",a),f("u1","u2",l),f("u2","u3",l),f("u3","u1",l),f("c","t",c),f("p","c",u),f("cn1","cn2",u),f("cn3","cn4",u),f("cf1","cf2",u),f("cf3","cf4",u);function f(d,m,v){h(d,v),h(m,v)}function h(d,m){i.push(0,0,0),r.push(m.r,m.g,m.b),o[d]===void 0&&(o[d]=[]),o[d].push(i.length/3-1)}t.setAttribute("position",new de(i,3)),t.setAttribute("color",new de(r,3)),Ot.call(this,t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}kd.prototype=Object.create(Ot.prototype);kd.prototype.constructor=kd;kd.prototype.update=function(){const e=this.geometry,t=this.pointMap,n=1,i=1;_t.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Et("c",t,e,_t,0,0,-1),Et("t",t,e,_t,0,0,1),Et("n1",t,e,_t,-n,-i,-1),Et("n2",t,e,_t,n,-i,-1),Et("n3",t,e,_t,-n,i,-1),Et("n4",t,e,_t,n,i,-1),Et("f1",t,e,_t,-n,-i,1),Et("f2",t,e,_t,n,-i,1),Et("f3",t,e,_t,-n,i,1),Et("f4",t,e,_t,n,i,1),Et("u1",t,e,_t,n*.7,i*1.1,-1),Et("u2",t,e,_t,-n*.7,i*1.1,-1),Et("u3",t,e,_t,0,i*2,-1),Et("cf1",t,e,_t,-n,0,1),Et("cf2",t,e,_t,n,0,1),Et("cf3",t,e,_t,0,-i,1),Et("cf4",t,e,_t,0,i,1),Et("cn1",t,e,_t,-n,0,-1),Et("cn2",t,e,_t,n,0,-1),Et("cn3",t,e,_t,0,-i,-1),Et("cn4",t,e,_t,0,i,-1),e.getAttribute("position").needsUpdate=!0};function Et(e,t,n,i,r,o,s){Gf.set(r,o,s).unproject(i);const a=t[e];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Gf.x,Gf.y,Gf.z)}}const Vf=new Zi;function ls(e,t){this.object=e,t===void 0&&(t=16776960);const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),r=new ve;r.setIndex(new Ne(n,1)),r.setAttribute("position",new Ne(i,3)),Ot.call(this,r,new Tt({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}ls.prototype=Object.create(Ot.prototype);ls.prototype.constructor=ls;ls.prototype.update=function(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Vf.setFromObject(this.object),Vf.isEmpty())return;const t=Vf.min,n=Vf.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=t.x,r[4]=n.y,r[5]=n.z,r[6]=t.x,r[7]=t.y,r[8]=n.z,r[9]=n.x,r[10]=t.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=t.z,r[15]=t.x,r[16]=n.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=n.x,r[22]=t.y,r[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()};ls.prototype.setFromObject=function(e){return this.object=e,this.update(),this};ls.prototype.copy=function(e){return Ot.prototype.copy.call(this,e),this.object=e.object,this};ls.prototype.clone=function(){return new this.constructor().copy(this)};function Fd(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],r=new ve;r.setIndex(new Ne(n,1)),r.setAttribute("position",new de(i,3)),Ot.call(this,r,new Tt({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}Fd.prototype=Object.create(Ot.prototype);Fd.prototype.constructor=Fd;Fd.prototype.updateMatrixWorld=function(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),ue.prototype.updateMatrixWorld.call(this,e))};function Bd(e,t,n){this.plane=e,this.size=t===void 0?1:t;const i=n!==void 0?n:16776960,r=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],o=new ve;o.setAttribute("position",new de(r,3)),o.computeBoundingSphere(),ti.call(this,o,new Tt({color:i,toneMapped:!1})),this.type="PlaneHelper";const s=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],a=new ve;a.setAttribute("position",new de(s,3)),a.computeBoundingSphere(),this.add(new Je(a,new cn({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}Bd.prototype=Object.create(ti.prototype);Bd.prototype.constructor=Bd;Bd.prototype.updateMatrixWorld=function(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?At:Cu,this.lookAt(this.plane.normal),ue.prototype.updateMatrixWorld.call(this,e)};const sb=new E;let Wf,$m;function yo(e,t,n,i,r,o){ue.call(this),this.type="ArrowHelper",e===void 0&&(e=new E(0,0,1)),t===void 0&&(t=new E(0,0,0)),n===void 0&&(n=1),i===void 0&&(i=16776960),r===void 0&&(r=.2*n),o===void 0&&(o=.2*r),Wf===void 0&&(Wf=new ve,Wf.setAttribute("position",new de([0,0,0,0,1,0],3)),$m=new mo(0,.5,1,5,1),$m.translate(0,-.5,0)),this.position.copy(t),this.line=new ti(Wf,new Tt({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Je($m,new cn({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,r,o)}yo.prototype=Object.create(ue.prototype);yo.prototype.constructor=yo;yo.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{sb.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(sb,t)}};yo.prototype.setLength=function(e,t,n){t===void 0&&(t=.2*e),n===void 0&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()};yo.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)};yo.prototype.copy=function(e){return ue.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this};yo.prototype.clone=function(){return new this.constructor().copy(this)};function nv(e){e=e||1;const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new ve;i.setAttribute("position",new de(t,3)),i.setAttribute("color",new de(n,3));const r=new Tt({vertexColors:!0,toneMapped:!1});Ot.call(this,i,r),this.type="AxesHelper"}nv.prototype=Object.create(Ot.prototype);nv.prototype.constructor=nv;const pa=4,co=8,Ri=Math.pow(2,co),YS=[.125,.215,.35,.446,.526,.582],JS=co-pa+1+YS.length,ks=20,zi={[Mn]:0,[Ep]:1,[O0]:2,[hS]:3,[dS]:4,[pS]:5,[R0]:6},Xm=new ru,{_lodPlanes:Cl,_sizeLods:ab,_sigmas:jf}=qk();let Ym=null;const No=(1+Math.sqrt(5))/2,Ns=1/No,lb=[new E(1,1,1),new E(-1,1,1),new E(1,1,-1),new E(-1,1,-1),new E(0,No,Ns),new E(0,No,-Ns),new E(Ns,0,No),new E(-Ns,0,No),new E(No,Ns,0),new E(-No,Ns,0)];function cb(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=$k(ks),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}cb.prototype={constructor:cb,fromScene:function(e,t=0,n=.1,i=100){Ym=this._renderer.getRenderTarget();const r=this._allocateTargets();return this._sceneToCubeUV(e,n,i,r),t>0&&this._blur(r,0,0,t),this._applyPMREM(r),this._cleanup(r),r},fromEquirectangular:function(e){return this._fromTexture(e)},fromCubemap:function(e){return this._fromTexture(e)},compileCubemapShader:function(){this._cubemapShader===null&&(this._cubemapShader=hb(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){this._equirectShader===null&&(this._equirectShader=fb(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),this._cubemapShader!==null&&this._cubemapShader.dispose(),this._equirectShader!==null&&this._equirectShader.dispose();for(let e=0;e<Cl.length;e++)Cl[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Ym),e.scissorTest=!1,qf(e,0,0,e.width,e.height)},_fromTexture:function(e){Ym=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},_allocateTargets:function(e){const t={magFilter:Ut,minFilter:Ut,generateMipmaps:!1,type:Ru,format:YR,encoding:jk(e)?e.encoding:O0,depthBuffer:!1,stencilBuffer:!1},n=ub(t);return n.depthBuffer=!e,this._pingPongRenderTarget=ub(t),n},_compileMaterial:function(e){const t=new Je(Cl[0],e);this._renderer.compile(t,Xm)},_sceneToCubeUV:function(e,t,n,i){const s=new Pt(90,1,t,n),a=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,u=c.outputEncoding,f=c.toneMapping,h=c.getClearColor(),d=c.getClearAlpha();c.toneMapping=fa,c.outputEncoding=Mn;let m=e.background;if(m&&m.isColor){m.convertSRGBToLinear();const v=Math.max(m.r,m.g,m.b),x=Math.min(Math.max(Math.ceil(Math.log2(v)),-128),127);m=m.multiplyScalar(Math.pow(2,-x));const p=(x+128)/255;c.setClearColor(m,p),e.background=null}for(let v=0;v<6;v++){const x=v%3;x==0?(s.up.set(0,a[v],0),s.lookAt(l[v],0,0)):x==1?(s.up.set(0,0,a[v]),s.lookAt(0,l[v],0)):(s.up.set(0,a[v],0),s.lookAt(0,0,l[v])),qf(i,x*Ri,v>2?Ri:0,Ri,Ri),c.setRenderTarget(i),c.render(e,s)}c.toneMapping=f,c.outputEncoding=u,c.setClearColor(h,d)},_textureToCubeUV:function(e,t){const n=this._renderer;e.isCubeTexture?this._cubemapShader==null&&(this._cubemapShader=hb()):this._equirectShader==null&&(this._equirectShader=fb());const i=e.isCubeTexture?this._cubemapShader:this._equirectShader,r=new Je(Cl[0],i),o=i.uniforms;o.envMap.value=e,e.isCubeTexture||o.texelSize.value.set(1/e.image.width,1/e.image.height),o.inputEncoding.value=zi[e.encoding],o.outputEncoding.value=zi[t.texture.encoding],qf(t,0,0,3*Ri,2*Ri),n.setRenderTarget(t),n.render(r,Xm)},_applyPMREM:function(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let i=1;i<JS;i++){const r=Math.sqrt(jf[i]*jf[i]-jf[i-1]*jf[i-1]),o=lb[(i-1)%lb.length];this._blur(e,i-1,i,r,o)}t.autoClear=n},_blur:function(e,t,n,i,r){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,i,"latitudinal",r),this._halfBlur(o,e,n,n,i,"longitudinal",r)},_halfBlur:function(e,t,n,i,r,o,s){const a=this._renderer,l=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,u=new Je(Cl[i],l),f=l.uniforms,h=ab[n]-1,d=isFinite(r)?Math.PI/(2*h):2*Math.PI/(2*ks-1),m=r/d,v=isFinite(r)?1+Math.floor(c*m):ks;v>ks&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${ks}`);const x=[];let p=0;for(let _=0;_<ks;++_){const b=_/m,M=Math.exp(-b*b/2);x.push(M),_==0?p+=M:_<v&&(p+=2*M)}for(let _=0;_<x.length;_++)x[_]=x[_]/p;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=x,f.latitudinal.value=o==="latitudinal",s&&(f.poleAxis.value=s),f.dTheta.value=d,f.mipInt.value=co-n,f.inputEncoding.value=zi[e.texture.encoding],f.outputEncoding.value=zi[e.texture.encoding];const g=ab[i],w=3*Math.max(0,Ri-2*g),y=(i===0?0:2*Ri)+2*g*(i>co-pa?i-co+pa:0);qf(t,w,y,3*g,2*g),a.setRenderTarget(t),a.render(u,Xm)}};function jk(e){return e===void 0||e.type!==Ru?!1:e.encoding===Mn||e.encoding===Ep||e.encoding===R0}function qk(){const e=[],t=[],n=[];let i=co;for(let r=0;r<JS;r++){const o=Math.pow(2,i);t.push(o);let s=1/o;r>co-pa?s=YS[r-co+pa-1]:r==0&&(s=0),n.push(s);const a=1/(o-1),l=-a/2,c=1+a/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],f=6,h=6,d=3,m=2,v=1,x=new Float32Array(d*h*f),p=new Float32Array(m*h*f),g=new Float32Array(v*h*f);for(let y=0;y<f;y++){const _=y%3*2/3-1,b=y>2?0:-1,M=[_,b,0,_+2/3,b,0,_+2/3,b+1,0,_,b,0,_+2/3,b+1,0,_,b+1,0];x.set(M,d*h*y),p.set(u,m*h*y);const N=[y,y,y,y,y,y];g.set(N,v*h*y)}const w=new ve;w.setAttribute("position",new Ne(x,d)),w.setAttribute("uv",new Ne(p,m)),w.setAttribute("faceIndex",new Ne(g,v)),e.push(w),i>pa&&i--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function ub(e){const t=new Yn(3*Ri,3*Ri,e);return t.texture.mapping=Lu,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function qf(e,t,n,i,r){e.viewport.set(t,n,i,r),e.scissor.set(t,n,i,r)}function $k(e){const t=new Float32Array(e),n=new E(0,1,0);return new go({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:zi[Mn]},outputEncoding:{value:zi[Mn]}},vertexShader:B0(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform int samples;
uniform float weights[n];
uniform bool latitudinal;
uniform float dTheta;
uniform float mipInt;
uniform vec3 poleAxis;

${z0()}

#define ENVMAP_TYPE_CUBE_UV
#include <cube_uv_reflection_fragment>

vec3 getSample(float theta, vec3 axis) {
	float cosTheta = cos(theta);
	// Rodrigues' axis-angle rotation
	vec3 sampleDirection = vOutputDirection * cosTheta
		+ cross(axis, vOutputDirection) * sin(theta)
		+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);
	return bilinearCubeUV(envMap, sampleDirection, mipInt);
}

void main() {
	vec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);
	if (all(equal(axis, vec3(0.0))))
		axis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);
	axis = normalize(axis);
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb += weights[0] * getSample(0.0, axis);
	for (int i = 1; i < n; i++) {
		if (i >= samples)
			break;
		float theta = dTheta * float(i);
		gl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);
		gl_FragColor.rgb += weights[i] * getSample(theta, axis);
	}
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:so,depthTest:!1,depthWrite:!1})}function fb(){const e=new X(1,1);return new go({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:e},inputEncoding:{value:zi[Mn]},outputEncoding:{value:zi[Mn]}},vertexShader:B0(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform sampler2D envMap;
uniform vec2 texelSize;

${z0()}

#include <common>

void main() {
	gl_FragColor = vec4(0.0);
	vec3 outputDirection = normalize(vOutputDirection);
	vec2 uv = equirectUv( outputDirection );
	vec2 f = fract(uv / texelSize - 0.5);
	uv -= f * texelSize;
	vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x += texelSize.x;
	vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.y += texelSize.y;
	vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	uv.x -= texelSize.x;
	vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;
	vec3 tm = mix(tl, tr, f.x);
	vec3 bm = mix(bl, br, f.x);
	gl_FragColor.rgb = mix(tm, bm, f.y);
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:so,depthTest:!1,depthWrite:!1})}function hb(){return new go({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:zi[Mn]},outputEncoding:{value:zi[Mn]}},vertexShader:B0(),fragmentShader:`
precision mediump float;
precision mediump int;
varying vec3 vOutputDirection;
uniform samplerCube envMap;

${z0()}

void main() {
	gl_FragColor = vec4(0.0);
	gl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;
	gl_FragColor = linearToOutputTexel(gl_FragColor);
}
		`,blending:so,depthTest:!1,depthWrite:!1})}function B0(){return`
precision mediump float;
precision mediump int;
attribute vec3 position;
attribute vec2 uv;
attribute float faceIndex;
varying vec3 vOutputDirection;

// RH coordinate system; PMREM face-indexing convention
vec3 getDirection(vec2 uv, float face) {
	uv = 2.0 * uv - 1.0;
	vec3 direction = vec3(uv, 1.0);
	if (face == 0.0) {
		direction = direction.zyx; // ( 1, v, u ) pos x
	} else if (face == 1.0) {
		direction = direction.xzy;
		direction.xz *= -1.0; // ( -u, 1, -v ) pos y
	} else if (face == 2.0) {
		direction.x *= -1.0; // ( -u, v, 1 ) pos z
	} else if (face == 3.0) {
		direction = direction.zyx;
		direction.xz *= -1.0; // ( -1, v, -u ) neg x
	} else if (face == 4.0) {
		direction = direction.xzy;
		direction.xy *= -1.0; // ( -u, -1, v ) neg y
	} else if (face == 5.0) {
		direction.z *= -1.0; // ( u, v, -1 ) neg z
	}
	return direction;
}

void main() {
	vOutputDirection = getDirection(uv, faceIndex);
	gl_Position = vec4( position, 1.0 );
}
	`}function z0(){return`
uniform int inputEncoding;
uniform int outputEncoding;

#include <encodings_pars_fragment>

vec4 inputTexelToLinear(vec4 value){
	if(inputEncoding == 0){
		return value;
	}else if(inputEncoding == 1){
		return sRGBToLinear(value);
	}else if(inputEncoding == 2){
		return RGBEToLinear(value);
	}else if(inputEncoding == 3){
		return RGBMToLinear(value, 7.0);
	}else if(inputEncoding == 4){
		return RGBMToLinear(value, 16.0);
	}else if(inputEncoding == 5){
		return RGBDToLinear(value, 256.0);
	}else{
		return GammaToLinear(value, 2.2);
	}
}

vec4 linearToOutputTexel(vec4 value){
	if(outputEncoding == 0){
		return value;
	}else if(outputEncoding == 1){
		return LinearTosRGB(value);
	}else if(outputEncoding == 2){
		return LinearToRGBE(value);
	}else if(outputEncoding == 3){
		return LinearToRGBM(value, 7.0);
	}else if(outputEncoding == 4){
		return LinearToRGBM(value, 16.0);
	}else if(outputEncoding == 5){
		return LinearToRGBD(value, 256.0);
	}else{
		return LinearToGamma(value, 2.2);
	}
}

vec4 envMapTexelToLinear(vec4 color) {
	return inputTexelToLinear(color);
}
	`}Ee.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Ee.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e};Object.assign(Xr.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new ke;for(let n=0,i=e.length;n<i;n++){const r=e[n];t.vertices.push(new E(r.x,r.y,r.z||0))}return t}});Object.assign(Ii.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}});Object.create(Dn.prototype);Object.create(Dn.prototype);function ZS(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Dn.call(this,e),this.type="catmullrom"}ZS.prototype=Object.create(Dn.prototype);Object.assign(ZS.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}});ev.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};Va.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};Object.assign(et.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),FS.extractUrlBase(e)}});et.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};Object.assign(Yy.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}});Object.assign(qS.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(Zi.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}});Object.assign(Sr.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}});Ou.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)};$S.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)};Object.assign(ze,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),ze.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),ze.ceilPowerOfTwo(e)}});Object.assign(sn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}});Object.assign(Ge.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),new E().setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,i,n,r,o)}});Oi.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)};Rt.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)};Object.assign(rl.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}});Object.assign(jt.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}});Object.assign(jt,{barycoordFromPoint:function(e,t,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),jt.getBarycoord(e,t,n,i,r)},normal:function(e,t,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),jt.getNormal(e,t,n,i)}});Object.assign(qo.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ra(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Da(this,e)}});Object.assign(X.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(E.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(Ke.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}});Object.assign(ke.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.assign(ue.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(ue.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});Object.assign(Je.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}});Object.defineProperties(Je.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),I3},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}});Object.defineProperties(fd.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}});Object.defineProperty(Ey.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}});My.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")};Object.defineProperty(Ee.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}});Pt.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),t!==void 0&&(this.filmGauge=t),this.setFocalLength(e)};Object.defineProperties(ut.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}});Object.defineProperties(Ne.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Lc},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Lc)}}});Object.assign(Ne.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Lc:Sp),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(ve.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),!(t&&t.isBufferAttribute)&&!(t&&t.isInterleavedBufferAttribute)?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Ne(arguments[1],arguments[2]))):e==="index"?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t)},addDrawCall:function(e,t,n){n!==void 0&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}});Object.defineProperties(ve.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}});Object.defineProperties(Nd.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}});Object.defineProperties(Pp.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}});Object.defineProperties(qn.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Lc},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}});Object.assign(qn.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(e===!0?Lc:Sp),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}});Object.assign(vr.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}});Object.defineProperties(Zy.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}});Object.defineProperties(Ie.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new me}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===sS}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}});Object.defineProperties(as.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(un.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}});Object.assign(Du.prototype,{clearTarget:function(e,t,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,i)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}});Object.defineProperties(Du.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=e===!0?Ep:Mn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}});Object.defineProperties(PS.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});Object.defineProperties(Yn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}});Object.defineProperties(ou.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return new Jy().load(e,function(i){t.setBuffer(i)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}});GS.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()};Ic.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};ts.crossOrigin=void 0;ts.loadTexture=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new da;r.setCrossOrigin(this.crossOrigin);const o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o};ts.loadTextureCube=function(e,t,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new Fy;r.setCrossOrigin(this.crossOrigin);const o=r.load(e,n,void 0,i);return t&&(o.mapping=t),o};ts.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")};ts.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:uR}}));var KS=function(){if(typeof Map<"u")return Map;function e(t,n){var i=-1;return t.some(function(r,o){return r[0]===n?(i=o,!0):!1}),i}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var i=e(this.__entries__,n),r=this.__entries__[i];return r&&r[1]},t.prototype.set=function(n,i){var r=e(this.__entries__,n);~r?this.__entries__[r][1]=i:this.__entries__.push([n,i])},t.prototype.delete=function(n){var i=this.__entries__,r=e(i,n);~r&&i.splice(r,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,i){i===void 0&&(i=null);for(var r=0,o=this.__entries__;r<o.length;r++){var s=o[r];n.call(i,s[1],s[0])}},t}()}(),iv=typeof window<"u"&&typeof document<"u"&&window.document===document,zd=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Xk=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(zd):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Yk=2;function Jk(e,t){var n=!1,i=!1,r=0;function o(){n&&(n=!1,e()),i&&a()}function s(){Xk(o)}function a(){var l=Date.now();if(n){if(l-r<Yk)return;i=!0}else n=!0,i=!1,setTimeout(s,t);r=l}return a}var Zk=20,Kk=["top","right","bottom","left","width","height","size","weight"],Qk=typeof MutationObserver<"u",eF=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Jk(this.refresh.bind(this),Zk)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,i=n.indexOf(t);~i&&n.splice(i,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!iv||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Qk?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!iv||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,i=n===void 0?"":n,r=Kk.some(function(o){return!!~i.indexOf(o)});r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),QS=function(e,t){for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},Wa=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||zd},eT=Cp(0,0,0,0);function Ud(e){return parseFloat(e)||0}function db(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(i,r){var o=e["border-"+r+"-width"];return i+Ud(o)},0)}function tF(e){for(var t=["top","right","bottom","left"],n={},i=0,r=t;i<r.length;i++){var o=r[i],s=e["padding-"+o];n[o]=Ud(s)}return n}function nF(e){var t=e.getBBox();return Cp(0,0,t.width,t.height)}function iF(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return eT;var i=Wa(e).getComputedStyle(e),r=tF(i),o=r.left+r.right,s=r.top+r.bottom,a=Ud(i.width),l=Ud(i.height);if(i.boxSizing==="border-box"&&(Math.round(a+o)!==t&&(a-=db(i,"left","right")+o),Math.round(l+s)!==n&&(l-=db(i,"top","bottom")+s)),!oF(e)){var c=Math.round(a+o)-t,u=Math.round(l+s)-n;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return Cp(r.left,r.top,a,l)}var rF=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Wa(e).SVGGraphicsElement}:function(e){return e instanceof Wa(e).SVGElement&&typeof e.getBBox=="function"}}();function oF(e){return e===Wa(e).document.documentElement}function sF(e){return iv?rF(e)?nF(e):iF(e):eT}function aF(e){var t=e.x,n=e.y,i=e.width,r=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return QS(s,{x:t,y:n,width:i,height:r,top:n,right:t+i,bottom:r+n,left:t}),s}function Cp(e,t,n,i){return{x:e,y:t,width:n,height:i}}var lF=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Cp(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=sF(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),cF=function(){function e(t,n){var i=aF(n);QS(this,{target:t,contentRect:i})}return e}(),uF=function(){function e(t,n,i){if(this.activeObservations_=[],this.observations_=new KS,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=i}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Wa(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new lF(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof Wa(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(i){return new cF(i.target,i.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),tT=typeof WeakMap<"u"?new WeakMap:new KS,nT=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=eF.getInstance(),i=new uF(t,n,this);tT.set(this,i)}return e}();["observe","unobserve","disconnect"].forEach(function(e){nT.prototype[e]=function(){var t;return(t=tT.get(this))[e].apply(t,arguments)}});var fF=function(){return typeof zd.ResizeObserver<"u"?zd.ResizeObserver:nT}(),hF={backside:!0,coefficient:.5,color:"gold",size:2,power:1};function dF(e,t,n){return new un({depthWrite:!1,fragmentShader:`
uniform vec3 color;
uniform float coefficient;
uniform float power;
varying vec3 vVertexNormal;
varying vec3 vVertexWorldPosition;
void main() {
  vec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;
  vec3 viewCameraToVertex	= (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;
  viewCameraToVertex = normalize(viewCameraToVertex);
  float intensity	= pow(
    coefficient + dot(vVertexNormal, viewCameraToVertex),
    power
  );
  gl_FragColor = vec4(color, intensity);
}`,transparent:!0,uniforms:{coefficient:{value:e},color:{value:new me(t)},power:{value:n}},vertexShader:`
varying vec3 vVertexWorldPosition;
varying vec3 vVertexNormal;
void main() {
  vVertexNormal	= normalize(normalMatrix * normal);
  vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;
  gl_Position	= projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`})}function pF(e,t){var n=e.clone(),i=new Array(n.vertices.length);return n.faces.forEach(function(r){r instanceof Oc?(i[r.a]=r.vertexNormals[0],i[r.b]=r.vertexNormals[1],i[r.c]=r.vertexNormals[2]):console.error("Face needs to be an instance of THREE.Face3.")}),n.vertices.forEach(function(r,o){var s=i[o],a=s.y,l=s.z;r.x+=s.x*t,r.y+=a*t,r.z+=l*t}),n}function pb(e,t){t===void 0&&(t=hF);var n=t.backside,i=t.coefficient,r=t.color,o=t.power,s=pF(e,t.size),a=dF(i,r,o);return n&&(a.side=At),new Je(s,a)}function iT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function rT(e){let t=e,n=e;e.length===1&&(t=(s,a)=>e(s)-a,n=mF(e));function i(s,a,l,c){for(l==null&&(l=0),c==null&&(c=s.length);l<c;){const u=l+c>>>1;n(s[u],a)<0?l=u+1:c=u}return l}function r(s,a,l,c){for(l==null&&(l=0),c==null&&(c=s.length);l<c;){const u=l+c>>>1;n(s[u],a)>0?c=u:l=u+1}return l}function o(s,a,l,c){l==null&&(l=0),c==null&&(c=s.length);const u=i(s,a,l,c-1);return u>l&&t(s[u-1],a)>-t(s[u],a)?u-1:u}return{left:i,center:o,right:r}}function mF(e){return(t,n)=>iT(e(t),n)}function gF(e){return e===null?NaN:+e}const yF=rT(iT),vF=yF.right;rT(gF).center;const xF=vF;var rv=Math.sqrt(50),ov=Math.sqrt(10),sv=Math.sqrt(2);function wF(e,t,n){var i,r=-1,o,s,a;if(t=+t,e=+e,n=+n,e===t&&n>0)return[e];if((i=t<e)&&(o=e,e=t,t=o),(a=oT(e,t,n))===0||!isFinite(a))return[];if(a>0){let l=Math.round(e/a),c=Math.round(t/a);for(l*a<e&&++l,c*a>t&&--c,s=new Array(o=c-l+1);++r<o;)s[r]=(l+r)*a}else{a=-a;let l=Math.round(e*a),c=Math.round(t*a);for(l/a<e&&++l,c/a>t&&--c,s=new Array(o=c-l+1);++r<o;)s[r]=(l+r)/a}return i&&s.reverse(),s}function oT(e,t,n){var i=(t-e)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=rv?10:o>=ov?5:o>=sv?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=rv?10:o>=ov?5:o>=sv?2:1)}function _F(e,t,n){var i=Math.abs(t-e)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=rv?r*=10:o>=ov?r*=5:o>=sv&&(r*=2),t<e?-r:r}function bF(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function U0(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function sT(e,t){var n=Object.create(e.prototype);for(var i in t)n[i]=t[i];return n}function Nu(){}var uu=.7,Hd=1/uu,ma="\\s*([+-]?\\d+)\\s*",fu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gi="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MF=/^#([0-9a-f]{3,8})$/,EF=new RegExp("^rgb\\("+[ma,ma,ma]+"\\)$"),SF=new RegExp("^rgb\\("+[Gi,Gi,Gi]+"\\)$"),TF=new RegExp("^rgba\\("+[ma,ma,ma,fu]+"\\)$"),AF=new RegExp("^rgba\\("+[Gi,Gi,Gi,fu]+"\\)$"),PF=new RegExp("^hsl\\("+[fu,Gi,Gi]+"\\)$"),CF=new RegExp("^hsla\\("+[fu,Gi,Gi,fu]+"\\)$"),mb={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};U0(Nu,hu,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:gb,formatHex:gb,formatHsl:LF,formatRgb:yb,toString:yb});function gb(){return this.rgb().formatHex()}function LF(){return aT(this).formatHsl()}function yb(){return this.rgb().formatRgb()}function hu(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=MF.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?vb(t):n===3?new Pn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$f(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$f(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=EF.exec(e))?new Pn(t[1],t[2],t[3],1):(t=SF.exec(e))?new Pn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=TF.exec(e))?$f(t[1],t[2],t[3],t[4]):(t=AF.exec(e))?$f(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=PF.exec(e))?_b(t[1],t[2]/100,t[3]/100,1):(t=CF.exec(e))?_b(t[1],t[2]/100,t[3]/100,t[4]):mb.hasOwnProperty(e)?vb(mb[e]):e==="transparent"?new Pn(NaN,NaN,NaN,0):null}function vb(e){return new Pn(e>>16&255,e>>8&255,e&255,1)}function $f(e,t,n,i){return i<=0&&(e=t=n=NaN),new Pn(e,t,n,i)}function RF(e){return e instanceof Nu||(e=hu(e)),e?(e=e.rgb(),new Pn(e.r,e.g,e.b,e.opacity)):new Pn}function av(e,t,n,i){return arguments.length===1?RF(e):new Pn(e,t,n,i??1)}function Pn(e,t,n,i){this.r=+e,this.g=+t,this.b=+n,this.opacity=+i}U0(Pn,av,sT(Nu,{brighter:function(e){return e=e==null?Hd:Math.pow(Hd,e),new Pn(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?uu:Math.pow(uu,e),new Pn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xb,formatHex:xb,formatRgb:wb,toString:wb}));function xb(){return"#"+Jm(this.r)+Jm(this.g)+Jm(this.b)}function wb(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Jm(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function _b(e,t,n,i){return i<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ki(e,t,n,i)}function aT(e){if(e instanceof ki)return new ki(e.h,e.s,e.l,e.opacity);if(e instanceof Nu||(e=hu(e)),!e)return new ki;if(e instanceof ki)return e;e=e.rgb();var t=e.r/255,n=e.g/255,i=e.b/255,r=Math.min(t,n,i),o=Math.max(t,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(t===o?s=(n-i)/a+(n<i)*6:n===o?s=(i-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new ki(s,a,l,e.opacity)}function OF(e,t,n,i){return arguments.length===1?aT(e):new ki(e,t,n,i??1)}function ki(e,t,n,i){this.h=+e,this.s=+t,this.l=+n,this.opacity=+i}U0(ki,OF,sT(Nu,{brighter:function(e){return e=e==null?Hd:Math.pow(Hd,e),new ki(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?uu:Math.pow(uu,e),new ki(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*t,r=2*n-i;return new Pn(Zm(e>=240?e-240:e+120,r,i),Zm(e,r,i),Zm(e<120?e+240:e-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Zm(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const H0=e=>()=>e;function DF(e,t){return function(n){return e+n*t}}function NF(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(i){return Math.pow(e+i*t,n)}}function IF(e){return(e=+e)==1?lT:function(t,n){return n-t?NF(t,n,e):H0(isNaN(t)?n:t)}}function lT(e,t){var n=t-e;return n?DF(e,n):H0(isNaN(e)?t:e)}const bb=function e(t){var n=IF(t);function i(r,o){var s=n((r=av(r)).r,(o=av(o)).r),a=n(r.g,o.g),l=n(r.b,o.b),c=lT(r.opacity,o.opacity);return function(u){return r.r=s(u),r.g=a(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=e,i}(1);function kF(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,i=t.slice(),r;return function(o){for(r=0;r<n;++r)i[r]=e[r]*(1-o)+t[r]*o;return i}}function FF(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function BF(e,t){var n=t?t.length:0,i=e?Math.min(n,e.length):0,r=new Array(i),o=new Array(n),s;for(s=0;s<i;++s)r[s]=G0(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<i;++s)o[s]=r[s](a);return o}}function zF(e,t){var n=new Date;return e=+e,t=+t,function(i){return n.setTime(e*(1-i)+t*i),n}}function Gd(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function UF(e,t){var n={},i={},r;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(r in t)r in e?n[r]=G0(e[r],t[r]):i[r]=t[r];return function(o){for(r in n)i[r]=n[r](o);return i}}var lv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Km=new RegExp(lv.source,"g");function HF(e){return function(){return e}}function GF(e){return function(t){return e(t)+""}}function VF(e,t){var n=lv.lastIndex=Km.lastIndex=0,i,r,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(i=lv.exec(e))&&(r=Km.exec(t));)(o=r.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(i=i[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Gd(i,r)})),n=Km.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?GF(l[0].x):HF(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}function G0(e,t){var n=typeof t,i;return t==null||n==="boolean"?H0(t):(n==="number"?Gd:n==="string"?(i=hu(t))?(t=i,bb):VF:t instanceof hu?bb:t instanceof Date?zF:FF(t)?kF:Array.isArray(t)?BF:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?UF:Gd)(e,t)}function WF(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function jF(e){return function(){return e}}function qF(e){return+e}var Mb=[0,1];function na(e){return e}function cv(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:jF(isNaN(t)?NaN:.5)}function $F(e,t){var n;return e>t&&(n=e,e=t,t=n),function(i){return Math.max(e,Math.min(t,i))}}function XF(e,t,n){var i=e[0],r=e[1],o=t[0],s=t[1];return r<i?(i=cv(r,i),o=n(s,o)):(i=cv(i,r),o=n(o,s)),function(a){return o(i(a))}}function YF(e,t,n){var i=Math.min(e.length,t.length)-1,r=new Array(i),o=new Array(i),s=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<i;)r[s]=cv(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=xF(e,a,1,i)-1;return o[l](r[l](a))}}function JF(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ZF(){var e=Mb,t=Mb,n=G0,i,r,o,s=na,a,l,c;function u(){var h=Math.min(e.length,t.length);return s!==na&&(s=$F(e[0],e[h-1])),a=h>2?YF:XF,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=a(e.map(i),t,n)))(i(s(h)))}return f.invert=function(h){return s(r((c||(c=a(t,e.map(i),Gd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,qF),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=WF,u()},f.clamp=function(h){return arguments.length?(s=h?!0:na,u()):s!==na},f.interpolate=function(h){return arguments.length?(n=h,u()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,d){return i=h,r=d,u()}}function KF(){return ZF()(na,na)}function QF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vd(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function ja(e){return e=Vd(Math.abs(e)),e?e[1]:NaN}function eB(e,t){return function(n,i){for(var r=n.length,o=[],s=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(n.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function tB(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var nB=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wd(e){if(!(t=nB.exec(e)))throw new Error("invalid format: "+e);var t;return new V0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Wd.prototype=V0.prototype;function V0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}V0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function iB(e){e:for(var t=e.length,n=1,i=-1,r;n<t;++n)switch(e[n]){case".":i=r=n;break;case"0":i===0&&(i=n),r=n;break;default:if(!+e[n])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(r+1):e}var cT;function rB(e,t){var n=Vd(e,t);if(!n)return e+"";var i=n[0],r=n[1],o=r-(cT=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Vd(e,Math.max(0,t+o-1))[0]}function Eb(e,t){var n=Vd(e,t);if(!n)return e+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const Sb={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:QF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Eb(e*100,t),r:Eb,s:rB,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Tb(e){return e}var Ab=Array.prototype.map,Pb=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oB(e){var t=e.grouping===void 0||e.thousands===void 0?Tb:eB(Ab.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",r=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Tb:tB(Ab.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Wd(f);var h=f.fill,d=f.align,m=f.sign,v=f.symbol,x=f.zero,p=f.width,g=f.comma,w=f.precision,y=f.trim,_=f.type;_==="n"?(g=!0,_="g"):Sb[_]||(w===void 0&&(w=12),y=!0,_="g"),(x||h==="0"&&d==="=")&&(x=!0,h="0",d="=");var b=v==="$"?n:v==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",M=v==="$"?i:/[%p]/.test(_)?s:"",N=Sb[_],S=/[defgprs%]/.test(_);w=w===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function U(R){var F=b,k=M,P,C,B;if(_==="c")k=N(R)+k,R="";else{R=+R;var L=R<0||1/R<0;if(R=isNaN(R)?l:N(Math.abs(R),w),y&&(R=iB(R)),L&&+R==0&&m!=="+"&&(L=!1),F=(L?m==="("?m:a:m==="-"||m==="("?"":m)+F,k=(_==="s"?Pb[8+cT/3]:"")+k+(L&&m==="("?")":""),S){for(P=-1,C=R.length;++P<C;)if(B=R.charCodeAt(P),48>B||B>57){k=(B===46?r+R.slice(P+1):R.slice(P))+k,R=R.slice(0,P);break}}}g&&!x&&(R=t(R,1/0));var I=F.length+R.length+k.length,H=I<p?new Array(p-I+1).join(h):"";switch(g&&x&&(R=t(H+R,H.length?p-k.length:1/0),H=""),d){case"<":R=F+R+k+H;break;case"=":R=F+H+R+k;break;case"^":R=H.slice(0,I=H.length>>1)+F+R+k+H.slice(I);break;default:R=H+F+R+k;break}return o(R)}return U.toString=function(){return f+""},U}function u(f,h){var d=c((f=Wd(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(ja(h)/3)))*3,v=Math.pow(10,-m),x=Pb[8+m/3];return function(p){return d(v*p)+x}}return{format:c,formatPrefix:u}}var Xf,uT,fT;sB({thousands:",",grouping:[3],currency:["$",""]});function sB(e){return Xf=oB(e),uT=Xf.format,fT=Xf.formatPrefix,Xf}function aB(e){return Math.max(0,-ja(Math.abs(e)))}function lB(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ja(t)/3)))*3-ja(Math.abs(e)))}function cB(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ja(t)-ja(e))+1}function uB(e,t,n,i){var r=_F(e,t,n),o;switch(i=Wd(i??",f"),i.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(o=lB(r,s))&&(i.precision=o),fT(i,s)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(o=cB(r,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=o-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(o=aB(r))&&(i.precision=o-(i.type==="%")*2);break}}return uT(i)}function fB(e){var t=e.domain;return e.ticks=function(n){var i=t();return wF(i[0],i[i.length-1],n??10)},e.tickFormat=function(n,i){var r=t();return uB(r[0],r[r.length-1],n??10,i)},e.nice=function(n){n==null&&(n=10);var i=t(),r=0,o=i.length-1,s=i[r],a=i[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=r,r=o,o=c);u-- >0;){if(c=oT(s,a,n),c===l)return i[r]=s,i[o]=a,t(i);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function hT(){var e=KF();return e.copy=function(){return JF(e,hT())},bF.apply(e,arguments),fB(e)}var du=function(e,t){t===void 0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new E,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:Ur.ROTATE,MIDDLE:Ur.DOLLY,RIGHT:Ur.PAN},this.touches={ONE:Hr.ROTATE,TWO:Hr.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return c.phi},this.getAzimuthalAngle=function(){return c.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),a=s.NONE},this.update=function(){var D=new E,oe=new Rt().setFromUnitVectors(e.up,new E(0,1,0)),Q=oe.clone().inverse(),le=new E,Te=new Rt,be=2*Math.PI;return function(){var Ae=n.object.position;D.copy(Ae).sub(n.target),D.applyQuaternion(oe),c.setFromVector3(D),n.autoRotate&&a===s.NONE&&S(M()),n.enableDamping?(c.theta+=u.theta*n.dampingFactor,c.phi+=u.phi*n.dampingFactor):(c.theta+=u.theta,c.phi+=u.phi);var Ye=n.minAzimuthAngle,it=n.maxAzimuthAngle;return isFinite(Ye)&&isFinite(it)&&(Ye<-Math.PI?Ye+=be:Ye>Math.PI&&(Ye-=be),it<-Math.PI?it+=be:it>Math.PI&&(it-=be),Ye<it?c.theta=Math.max(Ye,Math.min(it,c.theta)):c.theta=c.theta>(Ye+it)/2?Math.max(Ye,c.theta):Math.min(it,c.theta)),c.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,c.phi)),c.makeSafe(),c.radius*=f,c.radius=Math.max(n.minDistance,Math.min(n.maxDistance,c.radius)),n.enableDamping===!0?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),D.setFromSpherical(c),D.applyQuaternion(Q),Ae.copy(n.target).add(D),n.object.lookAt(n.target),n.enableDamping===!0?(u.theta*=1-n.dampingFactor,u.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(u.set(0,0,0),h.set(0,0,0)),f=1,d||le.distanceToSquared(n.object.position)>l||8*(1-Te.dot(n.object.quaternion))>l?(n.dispatchEvent(i),le.copy(n.object.position),Te.copy(n.object.quaternion),d=!1,!0):!1}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",ae,!1),n.domElement.removeEventListener("mousedown",xe,!1),n.domElement.removeEventListener("wheel",T,!1),n.domElement.removeEventListener("touchstart",re,!1),n.domElement.removeEventListener("touchend",z,!1),n.domElement.removeEventListener("touchmove",K,!1),n.domElement.ownerDocument.removeEventListener("mousemove",fe,!1),n.domElement.ownerDocument.removeEventListener("mouseup",Ce,!1),n.domElement.removeEventListener("keydown",O,!1)};var n=this,i={type:"change"},r={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},a=s.NONE,l=1e-6,c=new Qy,u=new Qy,f=1,h=new E,d=!1,m=new X,v=new X,x=new X,p=new X,g=new X,w=new X,y=new X,_=new X,b=new X;function M(){return 2*Math.PI/60/60*n.autoRotateSpeed}function N(){return Math.pow(.95,n.zoomSpeed)}function S(D){u.theta-=D}function U(D){u.phi-=D}var R=function(){var D=new E;return function(Q,le){D.setFromMatrixColumn(le,0),D.multiplyScalar(-Q),h.add(D)}}(),F=function(){var D=new E;return function(Q,le){n.screenSpacePanning===!0?D.setFromMatrixColumn(le,1):(D.setFromMatrixColumn(le,0),D.crossVectors(n.object.up,D)),D.multiplyScalar(Q),h.add(D)}}(),k=function(){var D=new E;return function(Q,le){var Te=n.domElement;if(n.object.isPerspectiveCamera){var be=n.object.position;D.copy(be).sub(n.target);var _e=D.length();_e*=Math.tan(n.object.fov/2*Math.PI/180),R(2*Q*_e/Te.clientHeight,n.object.matrix),F(2*le*_e/Te.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(R(Q*(n.object.right-n.object.left)/n.object.zoom/Te.clientWidth,n.object.matrix),F(le*(n.object.top-n.object.bottom)/n.object.zoom/Te.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function P(D){n.object.isPerspectiveCamera?f/=D:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*D)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function C(D){n.object.isPerspectiveCamera?f*=D:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/D)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function B(D){m.set(D.clientX,D.clientY)}function L(D){y.set(D.clientX,D.clientY)}function I(D){p.set(D.clientX,D.clientY)}function H(D){v.set(D.clientX,D.clientY),x.subVectors(v,m).multiplyScalar(n.rotateSpeed);var oe=n.domElement;S(2*Math.PI*x.x/oe.clientHeight),U(2*Math.PI*x.y/oe.clientHeight),m.copy(v),n.update()}function W(D){_.set(D.clientX,D.clientY),b.subVectors(_,y),b.y>0?P(N()):b.y<0&&C(N()),y.copy(_),n.update()}function ee(D){g.set(D.clientX,D.clientY),w.subVectors(g,p).multiplyScalar(n.panSpeed),k(w.x,w.y),p.copy(g),n.update()}function ce(D){D.deltaY<0?C(N()):D.deltaY>0&&P(N()),n.update()}function ge(D){var oe=!1;switch(D.keyCode){case n.keys.UP:k(0,n.keyPanSpeed),oe=!0;break;case n.keys.BOTTOM:k(0,-n.keyPanSpeed),oe=!0;break;case n.keys.LEFT:k(n.keyPanSpeed,0),oe=!0;break;case n.keys.RIGHT:k(-n.keyPanSpeed,0),oe=!0;break}oe&&(D.preventDefault(),n.update())}function Re(D){if(D.touches.length==1)m.set(D.touches[0].pageX,D.touches[0].pageY);else{var oe=.5*(D.touches[0].pageX+D.touches[1].pageX),Q=.5*(D.touches[0].pageY+D.touches[1].pageY);m.set(oe,Q)}}function Se(D){if(D.touches.length==1)p.set(D.touches[0].pageX,D.touches[0].pageY);else{var oe=.5*(D.touches[0].pageX+D.touches[1].pageX),Q=.5*(D.touches[0].pageY+D.touches[1].pageY);p.set(oe,Q)}}function Y(D){var oe=D.touches[0].pageX-D.touches[1].pageX,Q=D.touches[0].pageY-D.touches[1].pageY,le=Math.sqrt(oe*oe+Q*Q);y.set(0,le)}function We(D){n.enableZoom&&Y(D),n.enablePan&&Se(D)}function Pe(D){n.enableZoom&&Y(D),n.enableRotate&&Re(D)}function De(D){if(D.touches.length==1)v.set(D.touches[0].pageX,D.touches[0].pageY);else{var oe=.5*(D.touches[0].pageX+D.touches[1].pageX),Q=.5*(D.touches[0].pageY+D.touches[1].pageY);v.set(oe,Q)}x.subVectors(v,m).multiplyScalar(n.rotateSpeed);var le=n.domElement;S(2*Math.PI*x.x/le.clientHeight),U(2*Math.PI*x.y/le.clientHeight),m.copy(v)}function Me(D){if(D.touches.length==1)g.set(D.touches[0].pageX,D.touches[0].pageY);else{var oe=.5*(D.touches[0].pageX+D.touches[1].pageX),Q=.5*(D.touches[0].pageY+D.touches[1].pageY);g.set(oe,Q)}w.subVectors(g,p).multiplyScalar(n.panSpeed),k(w.x,w.y),p.copy(g)}function te(D){var oe=D.touches[0].pageX-D.touches[1].pageX,Q=D.touches[0].pageY-D.touches[1].pageY,le=Math.sqrt(oe*oe+Q*Q);_.set(0,le),b.set(0,Math.pow(_.y/y.y,n.zoomSpeed)),P(b.y),y.copy(_)}function ne(D){n.enableZoom&&te(D),n.enablePan&&Me(D)}function se(D){n.enableZoom&&te(D),n.enableRotate&&De(D)}function xe(D){if(n.enabled!==!1){D.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus();var oe;switch(D.button){case 0:oe=n.mouseButtons.LEFT;break;case 1:oe=n.mouseButtons.MIDDLE;break;case 2:oe=n.mouseButtons.RIGHT;break;default:oe=-1}switch(oe){case Ur.DOLLY:if(n.enableZoom===!1)return;L(D),a=s.DOLLY;break;case Ur.ROTATE:if(D.ctrlKey||D.metaKey||D.shiftKey){if(n.enablePan===!1)return;I(D),a=s.PAN}else{if(n.enableRotate===!1)return;B(D),a=s.ROTATE}break;case Ur.PAN:if(D.ctrlKey||D.metaKey||D.shiftKey){if(n.enableRotate===!1)return;B(D),a=s.ROTATE}else{if(n.enablePan===!1)return;I(D),a=s.PAN}break;default:a=s.NONE}a!==s.NONE&&(n.domElement.ownerDocument.addEventListener("mousemove",fe,!1),n.domElement.ownerDocument.addEventListener("mouseup",Ce,!1),n.dispatchEvent(r))}}function fe(D){if(n.enabled!==!1)switch(D.preventDefault(),a){case s.ROTATE:if(n.enableRotate===!1)return;H(D);break;case s.DOLLY:if(n.enableZoom===!1)return;W(D);break;case s.PAN:if(n.enablePan===!1)return;ee(D);break}}function Ce(D){n.enabled!==!1&&(n.domElement.ownerDocument.removeEventListener("mousemove",fe,!1),n.domElement.ownerDocument.removeEventListener("mouseup",Ce,!1),n.dispatchEvent(o),a=s.NONE)}function T(D){n.enabled===!1||n.enableZoom===!1||a!==s.NONE&&a!==s.ROTATE||(D.preventDefault(),D.stopPropagation(),n.dispatchEvent(r),ce(D),n.dispatchEvent(o))}function O(D){n.enabled===!1||n.enableKeys===!1||n.enablePan===!1||ge(D)}function re(D){if(n.enabled!==!1){switch(D.preventDefault(),D.touches.length){case 1:switch(n.touches.ONE){case Hr.ROTATE:if(n.enableRotate===!1)return;Re(D),a=s.TOUCH_ROTATE;break;case Hr.PAN:if(n.enablePan===!1)return;Se(D),a=s.TOUCH_PAN;break;default:a=s.NONE}break;case 2:switch(n.touches.TWO){case Hr.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;We(D),a=s.TOUCH_DOLLY_PAN;break;case Hr.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Pe(D),a=s.TOUCH_DOLLY_ROTATE;break;default:a=s.NONE}break;default:a=s.NONE}a!==s.NONE&&n.dispatchEvent(r)}}function K(D){if(n.enabled!==!1)switch(D.preventDefault(),D.stopPropagation(),a){case s.TOUCH_ROTATE:if(n.enableRotate===!1)return;De(D),n.update();break;case s.TOUCH_PAN:if(n.enablePan===!1)return;Me(D),n.update();break;case s.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;ne(D),n.update();break;case s.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;se(D),n.update();break;default:a=s.NONE}}function z(D){n.enabled!==!1&&(n.dispatchEvent(o),a=s.NONE)}function ae(D){n.enabled!==!1&&D.preventDefault()}n.domElement.addEventListener("contextmenu",ae,!1),n.domElement.addEventListener("mousedown",xe,!1),n.domElement.addEventListener("wheel",T,!1),n.domElement.addEventListener("touchstart",re,!1),n.domElement.addEventListener("touchend",z,!1),n.domElement.addEventListener("touchmove",K,!1),n.domElement.addEventListener("keydown",O,!1),n.domElement.tabIndex===-1&&(n.domElement.tabIndex=0),this.update()};du.prototype=Object.create(Gt.prototype);du.prototype.constructor=du;var uv=function(e,t){du.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=Ur.PAN,this.mouseButtons.RIGHT=Ur.ROTATE,this.touches.ONE=Hr.PAN,this.touches.TWO=Hr.DOLLY_ROTATE};uv.prototype=Object.create(Gt.prototype);uv.prototype.constructor=uv;function Cb(e){return Object.prototype.toString.call(e)}var W0={isFunction:function(){var e=Cb(function(){});return function(t){return Cb(t)===e}}(),isUndefined:function(t){return typeof t>"u"}};Gt.prototype.on=function(e,t){if(W0.isFunction(t))return this instanceof ue&&(this.interactive=!0),this.addEventListener(e,t),this};Gt.prototype.off=function(e,t){return this.removeEventListener(e,t),this};Gt.prototype.once=function(e,t){var n=this;if(W0.isFunction(t)){var i=function r(o){t(o),n.off(e,r)};return this.on(e,i),this}};Gt.prototype.emit=function(e){if(!(this._listeners===void 0||W0.isUndefined(this._listeners[e]))){for(var t=this._listeners[e]||[],n=t.slice(0),i=arguments.length,r=Array(i>1?i-1:0),o=1;o<i;o++)r[o-1]=arguments[o];for(var s=0;s<n.length;s++)n[s].apply(this,r);return this}};ue.prototype.interactive=!1;ue.prototype.interactiveChildren=!0;ue.prototype.started=!1;Object.defineProperty(ue.prototype,"trackedPointers",{get:function(){return this._trackedPointers||(this._trackedPointers={}),this._trackedPointers}});ue.prototype.raycastTest=function(e){var t=[];return this.raycast(e,t),t.length>0?t[0]:!1};var dT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},sl=function(){function e(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Lp=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},Rp=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},jd=function(){function e(){ms(this,e),this.global=new X,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return sl(e,[{key:"_copyEvent",value:function(n){n.isPrimary&&(this.isPrimary=!0),this.button=n.button,this.buttons=n.buttons,this.width=n.width,this.height=n.height,this.tiltX=n.tiltX,this.tiltY=n.tiltY,this.pointerType=n.pointerType,this.pressure=n.pressure,this.rotationAngle=n.rotationAngle,this.twist=n.twist||0,this.tangentialPressure=n.tangentialPressure||0}},{key:"_reset",value:function(){this.isPrimary=!1}},{key:"pointerId",get:function(){return this.identifier}}]),e}(),pT=function(){function e(){ms(this,e),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null,this.intersects=[]}return sl(e,[{key:"stopPropagation",value:function(){this.stopped=!0}},{key:"_reset",value:function(){this.stopped=!1,this.currentTarget=null,this.target=null,this.intersects=[]}}]),e}(),$o=function(){function e(t){ms(this,e),this._pointerId=t,this._flags=e.FLAGS.NONE}return sl(e,[{key:"_doSet",value:function(n,i){i?this._flags=this._flags|n:this._flags=this._flags&~n}},{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(n){this._flags=n}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return(this._flags&this.constructor.FLAGS.OVER)!==0},set:function(n){this._doSet(this.constructor.FLAGS.OVER,n)}},{key:"rightDown",get:function(){return(this._flags&this.constructor.FLAGS.RIGHT_DOWN)!==0},set:function(n){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,n)}},{key:"leftDown",get:function(){return(this._flags&this.constructor.FLAGS.LEFT_DOWN)!==0},set:function(n){this._doSet(this.constructor.FLAGS.LEFT_DOWN,n)}}]),e}();$o.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2});var Yf="MOUSE",Jf={target:null,data:{global:null}},hB=function(e){Lp(t,e);function t(n,i,r,o){ms(this,t);var s=Rp(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o=o||{},s.renderer=n,s.scene=i,s.camera=r,s.autoPreventDefault=o.autoPreventDefault||!1,s.interactionFrequency=o.interactionFrequency||10,s.mouse=new jd,s.mouse.identifier=Yf,s.mouse.global.set(-999999),s.activeInteractionData={},s.activeInteractionData[Yf]=s.mouse,s.interactionDataPool=[],s.eventData=new pT,s.interactionDOMElement=null,s.moveWhenInside=!0,s.eventsAdded=!1,s.mouseOverRenderer=!1,s.supportsTouchEvents="ontouchstart"in window,s.supportsPointerEvents=!!window.PointerEvent,s.onClick=s.onClick.bind(s),s.processClick=s.processClick.bind(s),s.onPointerUp=s.onPointerUp.bind(s),s.processPointerUp=s.processPointerUp.bind(s),s.onPointerCancel=s.onPointerCancel.bind(s),s.processPointerCancel=s.processPointerCancel.bind(s),s.onPointerDown=s.onPointerDown.bind(s),s.processPointerDown=s.processPointerDown.bind(s),s.onPointerMove=s.onPointerMove.bind(s),s.processPointerMove=s.processPointerMove.bind(s),s.onPointerOut=s.onPointerOut.bind(s),s.processPointerOverOut=s.processPointerOverOut.bind(s),s.onPointerOver=s.onPointerOver.bind(s),s.cursorStyles={default:"inherit",pointer:"pointer"},s.currentCursorMode=null,s.cursor=null,s.raycaster=new Pp,s._deltaTime=0,s.setTargetElement(s.renderer.domElement),s}return sl(t,[{key:"hitTest",value:function(i,r){return Jf.target=null,Jf.data.global=i,r||(r=this.scene),this.processInteractive(Jf,r,null,!0),Jf.target}},{key:"setTargetElement",value:function(i){this.removeEvents(),this.interactionDOMElement=i,this.addEvents()}},{key:"addEvents",value:function(){!this.interactionDOMElement||this.eventsAdded||(this.emit("addevents"),this.interactionDOMElement.addEventListener("click",this.onClick,!0),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)}},{key:"removeEvents",value:function(){this.interactionDOMElement&&(this.emit("removeevents"),this.interactionDOMElement.removeEventListener("click",this.onClick,!0),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)}},{key:"update",value:function(i){var r=i.snippet;if(this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove){this.didMove=!1;return}this.cursor=null;for(var o in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(o)){var s=this.activeInteractionData[o];if(s.originalEvent&&s.pointerType!=="touch"){var a=this.configureInteractionEventForDOMEvent(this.eventData,s.originalEvent,s);this.processInteractive(a,this.scene,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}}},{key:"setCursorMode",value:function(i){if(i=i||"default",this.currentCursorMode!==i){this.currentCursorMode=i;var r=this.cursorStyles[i];if(r)switch(typeof r>"u"?"undefined":dT(r)){case"string":this.interactionDOMElement.style.cursor=r;break;case"function":r(i);break;case"object":Object.assign(this.interactionDOMElement.style,r);break}else typeof i=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,i)&&(this.interactionDOMElement.style.cursor=i)}}},{key:"triggerEvent",value:function(i,r,o){o.stopped||(o.currentTarget=i,o.type=r,i.emit(r,o),i[r]&&i[r](o))}},{key:"processInteractive",value:function(i,r,o,s,a){if(!r||!r.visible)return!1;a=r.interactive||a;var l=!1,c=a;if(r.interactiveChildren&&r.children)for(var u=r.children,f=u.length-1;f>=0;f--){var h=u[f],d=this.processInteractive(i,h,o,s,c);if(d){if(!h.parent)continue;c=!1,d&&(i.target&&(s=!1),l=!0)}}return a&&(s&&!i.target&&i.intersects[0]&&i.intersects[0].object===r&&(l=!0),r.interactive&&(l&&!i.target&&(i.data.target=i.target=r),o&&o(i,r,!!l))),l}},{key:"onClick",value:function(i){if(i.type==="click"){var r=this.normalizeToPointerData(i);this.autoPreventDefault&&r[0].isNormalized&&i.preventDefault();var o=this.getInteractionDataForPointerId(r[0]),s=this.configureInteractionEventForDOMEvent(this.eventData,r[0],o);s.data.originalEvent=i,this.processInteractive(s,this.scene,this.processClick,!0),this.emit("click",s)}}},{key:"processClick",value:function(i,r,o){o&&this.triggerEvent(r,"click",i)}},{key:"onPointerDown",value:function(i){if(!(this.supportsTouchEvents&&i.pointerType==="touch")){var r=this.normalizeToPointerData(i);this.autoPreventDefault&&r[0].isNormalized&&i.preventDefault();for(var o=r.length,s=0;s<o;s++){var a=r[s],l=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,l);if(c.data.originalEvent=i,this.processInteractive(c,this.scene,this.processPointerDown,!0),this.emit("pointerdown",c),a.pointerType==="touch")this.emit("touchstart",c);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var u=a.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}}},{key:"processPointerDown",value:function(i,r,o){var s=i.data,a=i.data.identifier;if(o){if(r.trackedPointers[a]||(r.trackedPointers[a]=new $o(a)),this.triggerEvent(r,"pointerdown",i),s.pointerType==="touch")r.started=!0,this.triggerEvent(r,"touchstart",i);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var l=s.button===2;l?r.trackedPointers[a].rightDown=!0:r.trackedPointers[a].leftDown=!0,this.triggerEvent(r,l?"rightdown":"mousedown",i)}}}},{key:"onPointerComplete",value:function(i,r,o){for(var s=this.normalizeToPointerData(i),a=s.length,l=i.target!==this.interactionDOMElement?"outside":"",c=0;c<a;c++){var u=s[c],f=this.getInteractionDataForPointerId(u),h=this.configureInteractionEventForDOMEvent(this.eventData,u,f);if(h.data.originalEvent=i,this.processInteractive(h,this.scene,o,r||!l),this.emit(r?"pointercancel":"pointerup"+l,h),u.pointerType==="mouse"||u.pointerType==="pen"){var d=u.button===2;this.emit(d?"rightup"+l:"mouseup"+l,h)}else u.pointerType==="touch"&&(this.emit(r?"touchcancel":"touchend"+l,h),this.releaseInteractionDataForPointerId(u.pointerId,f))}}},{key:"onPointerCancel",value:function(i){this.supportsTouchEvents&&i.pointerType==="touch"||this.onPointerComplete(i,!0,this.processPointerCancel)}},{key:"processPointerCancel",value:function(i,r){var o=i.data,s=i.data.identifier;r.trackedPointers[s]!==void 0&&(delete r.trackedPointers[s],this.triggerEvent(r,"pointercancel",i),o.pointerType==="touch"&&this.triggerEvent(r,"touchcancel",i))}},{key:"onPointerUp",value:function(i){this.supportsTouchEvents&&i.pointerType==="touch"||this.onPointerComplete(i,!1,this.processPointerUp)}},{key:"processPointerUp",value:function(i,r,o){var s=i.data,a=i.data.identifier,l=r.trackedPointers[a],c=s.pointerType==="touch",u=s.pointerType==="mouse"||s.pointerType==="pen";if(u){var f=s.button===2,h=$o.FLAGS,d=f?h.RIGHT_DOWN:h.LEFT_DOWN,m=l!==void 0&&l.flags&d;o?(this.triggerEvent(r,f?"rightup":"mouseup",i),m&&this.triggerEvent(r,f?"rightclick":"leftclick",i)):m&&this.triggerEvent(r,f?"rightupoutside":"mouseupoutside",i),l&&(f?l.rightDown=!1:l.leftDown=!1)}c&&r.started&&(r.started=!1,this.triggerEvent(r,"touchend",i)),o?(this.triggerEvent(r,"pointerup",i),l&&(this.triggerEvent(r,"pointertap",i),c&&(this.triggerEvent(r,"tap",i),l.over=!1))):l&&(this.triggerEvent(r,"pointerupoutside",i),c&&this.triggerEvent(r,"touchendoutside",i)),l&&l.none&&delete r.trackedPointers[a]}},{key:"onPointerMove",value:function(i){if(!(this.supportsTouchEvents&&i.pointerType==="touch")){var r=this.normalizeToPointerData(i);r[0].pointerType==="mouse"&&(this.didMove=!0,this.cursor=null);for(var o=r.length,s=0;s<o;s++){var a=r[s],l=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,l);c.data.originalEvent=i;var u=a.pointerType==="touch"?this.moveWhenInside:!0;this.processInteractive(c,this.scene,this.processPointerMove,u),this.emit("pointermove",c),a.pointerType==="touch"&&this.emit("touchmove",c),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",c)}r[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}}},{key:"processPointerMove",value:function(i,r,o){var s=i.data,a=s.pointerType==="touch",l=s.pointerType==="mouse"||s.pointerType==="pen";l&&this.processPointerOverOut(i,r,o),a&&r.started&&this.triggerEvent(r,"touchmove",i),(!this.moveWhenInside||o)&&(this.triggerEvent(r,"pointermove",i),l&&this.triggerEvent(r,"mousemove",i))}},{key:"onPointerOut",value:function(i){if(!(this.supportsTouchEvents&&i.pointerType==="touch")){var r=this.normalizeToPointerData(i),o=r[0];o.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(o),a=this.configureInteractionEventForDOMEvent(this.eventData,o,s);a.data.originalEvent=o,this.processInteractive(a,this.scene,this.processPointerOverOut,!1),this.emit("pointerout",a),o.pointerType==="mouse"||o.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(s.identifier)}}},{key:"processPointerOverOut",value:function(i,r,o){var s=i.data,a=i.data.identifier,l=s.pointerType==="mouse"||s.pointerType==="pen",c=r.trackedPointers[a];o&&!c&&(c=r.trackedPointers[a]=new $o(a)),c!==void 0&&(o&&this.mouseOverRenderer?(c.over||(c.over=!0,this.triggerEvent(r,"pointerover",i),l&&this.triggerEvent(r,"mouseover",i)),l&&this.cursor===null&&(this.cursor=r.cursor)):c.over&&(c.over=!1,this.triggerEvent(r,"pointerout",this.eventData),l&&this.triggerEvent(r,"mouseout",i),c.none&&delete r.trackedPointers[a]))}},{key:"onPointerOver",value:function(i){var r=this.normalizeToPointerData(i),o=r[0],s=this.getInteractionDataForPointerId(o),a=this.configureInteractionEventForDOMEvent(this.eventData,o,s);a.data.originalEvent=o,o.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mouseover",a)}},{key:"getInteractionDataForPointerId",value:function(i){var r=i.pointerId,o=void 0;return r===Yf||i.pointerType==="mouse"?o=this.mouse:this.activeInteractionData[r]?o=this.activeInteractionData[r]:(o=this.interactionDataPool.pop()||new jd,o.identifier=r,this.activeInteractionData[r]=o),o._copyEvent(i),o}},{key:"releaseInteractionDataForPointerId",value:function(i){var r=this.activeInteractionData[i];r&&(delete this.activeInteractionData[i],r._reset(),this.interactionDataPool.push(r))}},{key:"mapPositionToPoint",value:function(i,r,o){var s=void 0;this.interactionDOMElement.parentElement?s=this.interactionDOMElement.getBoundingClientRect():s={x:0,y:0,left:0,top:0,width:0,height:0},i.x=(r-s.left)/s.width*2-1,i.y=-((o-s.top)/s.height)*2+1}},{key:"configureInteractionEventForDOMEvent",value:function(i,r,o){return i.data=o,this.mapPositionToPoint(o.global,r.clientX,r.clientY),this.raycaster.setFromCamera(o.global,this.camera),r.pointerType==="touch"&&(r.globalX=o.global.x,r.globalY=o.global.y),o.originalEvent=r,i._reset(),i.intersects=this.raycaster.intersectObjects(this.scene.children,!0),i}},{key:"normalizeToPointerData",value:function(i){var r=[];if(this.supportsTouchEvents&&i instanceof TouchEvent)for(var o=0,s=i.changedTouches.length;o<s;o++){var a=i.changedTouches[o];typeof a.button>"u"&&(a.button=i.touches.length?1:0),typeof a.buttons>"u"&&(a.buttons=i.touches.length?1:0),typeof a.isPrimary>"u"&&(a.isPrimary=i.touches.length===1&&i.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),a.twist=0,a.tangentialPressure=0,typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,r.push(a)}else i instanceof MouseEvent&&(!this.supportsPointerEvents||!(i instanceof window.PointerEvent))&&(typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=Yf),typeof i.pressure>"u"&&(i.pressure=.5),i.twist=0,i.tangentialPressure=0,i.isNormalized=!0),r.push(i);return r}},{key:"destroy",value:function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null}}]),t}(Gt),Zf="MOUSE",Kf={target:null,data:{global:null}};(function(e){Lp(t,e);function t(n,i){ms(this,t);var r=Rp(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i=i||{},r.renderer=n,r.layer=null,r.autoPreventDefault=i.autoPreventDefault||!1,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new jd,r.mouse.identifier=Zf,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[Zf]=r.mouse,r.interactionDataPool=[],r.eventData=new pT,r.interactionDOMElement=null,r.moveWhenInside=!0,r.eventsAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onClick=r.onClick.bind(r),r.processClick=r.processClick.bind(r),r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.raycaster=new Pp,r._deltaTime=0,r.setTargetElement(r.renderer.domElement),r}return sl(t,[{key:"isAble",value:function(){return this.layer&&this.layer.interactive}},{key:"setLayer",value:function(i){this.layer=i}},{key:"hitTest",value:function(i,r){return this.isAble()?(Kf.target=null,Kf.data.global=i,r||(r=this.layer.scene),this.processInteractive(Kf,r,null,!0),Kf.target):null}},{key:"setTargetElement",value:function(i){this.removeEvents(),this.interactionDOMElement=i,this.addEvents()}},{key:"addEvents",value:function(){!this.interactionDOMElement||this.eventsAdded||(this.emit("addevents"),this.interactionDOMElement.addEventListener("click",this.onClick,!0),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)}},{key:"removeEvents",value:function(){this.interactionDOMElement&&(this.emit("removeevents"),this.interactionDOMElement.removeEventListener("click",this.onClick,!0),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)}},{key:"update",value:function(i){var r=i.snippet;if(this.isAble()&&(this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,!!this.interactionDOMElement))){if(this.didMove){this.didMove=!1;return}this.cursor=null;for(var o in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(o)){var s=this.activeInteractionData[o];if(s.originalEvent&&s.pointerType!=="touch"){var a=this.configureInteractionEventForDOMEvent(this.eventData,s.originalEvent,s);this.processInteractive(a,this.layer.scene,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}}},{key:"setCursorMode",value:function(i){if(i=i||"default",this.currentCursorMode!==i){this.currentCursorMode=i;var r=this.cursorStyles[i];if(r)switch(typeof r>"u"?"undefined":dT(r)){case"string":this.interactionDOMElement.style.cursor=r;break;case"function":r(i);break;case"object":Object.assign(this.interactionDOMElement.style,r);break}else typeof i=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,i)&&(this.interactionDOMElement.style.cursor=i)}}},{key:"triggerEvent",value:function(i,r,o){o.stopped||(o.currentTarget=i,o.type=r,i.emit(r,o),i[r]&&i[r](o))}},{key:"processInteractive",value:function(i,r,o,s,a){if(!r||!r.visible)return!1;a=r.interactive||a;var l=!1,c=a;if(r.interactiveChildren&&r.children)for(var u=r.children,f=u.length-1;f>=0;f--){var h=u[f],d=this.processInteractive(i,h,o,s,c);if(d){if(!h.parent)continue;c=!1,d&&(i.target&&(s=!1),l=!0)}}return a&&(s&&!i.target&&i.intersects[0]&&i.intersects[0].object===r&&(l=!0),r.interactive&&(l&&!i.target&&(i.data.target=i.target=r),o&&o(i,r,!!l))),l}},{key:"onClick",value:function(i){if(this.isAble()&&i.type==="click"){var r=this.normalizeToPointerData(i);this.autoPreventDefault&&r[0].isNormalized&&i.preventDefault();var o=this.getInteractionDataForPointerId(r[0]),s=this.configureInteractionEventForDOMEvent(this.eventData,r[0],o);s.data.originalEvent=i,this.processInteractive(s,this.layer.scene,this.processClick,!0),this.emit("click",s)}}},{key:"processClick",value:function(i,r,o){o&&this.triggerEvent(r,"click",i)}},{key:"onPointerDown",value:function(i){if(this.isAble()&&!(this.supportsTouchEvents&&i.pointerType==="touch")){var r=this.normalizeToPointerData(i);this.autoPreventDefault&&r[0].isNormalized&&i.preventDefault();for(var o=r.length,s=0;s<o;s++){var a=r[s],l=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,l);if(c.data.originalEvent=i,this.processInteractive(c,this.layer.scene,this.processPointerDown,!0),this.emit("pointerdown",c),a.pointerType==="touch")this.emit("touchstart",c);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var u=a.button===2;this.emit(u?"rightdown":"mousedown",this.eventData)}}}}},{key:"processPointerDown",value:function(i,r,o){var s=i.data,a=i.data.identifier;if(o){if(r.trackedPointers[a]||(r.trackedPointers[a]=new $o(a)),this.triggerEvent(r,"pointerdown",i),s.pointerType==="touch")r.started=!0,this.triggerEvent(r,"touchstart",i);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var l=s.button===2;l?r.trackedPointers[a].rightDown=!0:r.trackedPointers[a].leftDown=!0,this.triggerEvent(r,l?"rightdown":"mousedown",i)}}}},{key:"onPointerComplete",value:function(i,r,o){for(var s=this.normalizeToPointerData(i),a=s.length,l=i.target!==this.interactionDOMElement?"outside":"",c=0;c<a;c++){var u=s[c],f=this.getInteractionDataForPointerId(u),h=this.configureInteractionEventForDOMEvent(this.eventData,u,f);if(h.data.originalEvent=i,this.processInteractive(h,this.layer.scene,o,r||!l),this.emit(r?"pointercancel":"pointerup"+l,h),u.pointerType==="mouse"||u.pointerType==="pen"){var d=u.button===2;this.emit(d?"rightup"+l:"mouseup"+l,h)}else u.pointerType==="touch"&&(this.emit(r?"touchcancel":"touchend"+l,h),this.releaseInteractionDataForPointerId(u.pointerId,f))}}},{key:"onPointerCancel",value:function(i){this.isAble()&&(this.supportsTouchEvents&&i.pointerType==="touch"||this.onPointerComplete(i,!0,this.processPointerCancel))}},{key:"processPointerCancel",value:function(i,r){var o=i.data,s=i.data.identifier;r.trackedPointers[s]!==void 0&&(delete r.trackedPointers[s],this.triggerEvent(r,"pointercancel",i),o.pointerType==="touch"&&this.triggerEvent(r,"touchcancel",i))}},{key:"onPointerUp",value:function(i){this.isAble()&&(this.supportsTouchEvents&&i.pointerType==="touch"||this.onPointerComplete(i,!1,this.processPointerUp))}},{key:"processPointerUp",value:function(i,r,o){var s=i.data,a=i.data.identifier,l=r.trackedPointers[a],c=s.pointerType==="touch",u=s.pointerType==="mouse"||s.pointerType==="pen";if(u){var f=s.button===2,h=$o.FLAGS,d=f?h.RIGHT_DOWN:h.LEFT_DOWN,m=l!==void 0&&l.flags&d;o?(this.triggerEvent(r,f?"rightup":"mouseup",i),m&&this.triggerEvent(r,f?"rightclick":"leftclick",i)):m&&this.triggerEvent(r,f?"rightupoutside":"mouseupoutside",i),l&&(f?l.rightDown=!1:l.leftDown=!1)}c&&r.started&&(r.started=!1,this.triggerEvent(r,"touchend",i)),o?(this.triggerEvent(r,"pointerup",i),l&&(this.triggerEvent(r,"pointertap",i),c&&(this.triggerEvent(r,"tap",i),l.over=!1))):l&&(this.triggerEvent(r,"pointerupoutside",i),c&&this.triggerEvent(r,"touchendoutside",i)),l&&l.none&&delete r.trackedPointers[a]}},{key:"onPointerMove",value:function(i){if(this.isAble()&&!(this.supportsTouchEvents&&i.pointerType==="touch")){var r=this.normalizeToPointerData(i);r[0].pointerType==="mouse"&&(this.didMove=!0,this.cursor=null);for(var o=r.length,s=0;s<o;s++){var a=r[s],l=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,l);c.data.originalEvent=i;var u=a.pointerType==="touch"?this.moveWhenInside:!0;this.processInteractive(c,this.layer.scene,this.processPointerMove,u),this.emit("pointermove",c),a.pointerType==="touch"&&this.emit("touchmove",c),(a.pointerType==="mouse"||a.pointerType==="pen")&&this.emit("mousemove",c)}r[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}}},{key:"processPointerMove",value:function(i,r,o){var s=i.data,a=s.pointerType==="touch",l=s.pointerType==="mouse"||s.pointerType==="pen";l&&this.processPointerOverOut(i,r,o),a&&r.started&&this.triggerEvent(r,"touchmove",i),(!this.moveWhenInside||o)&&(this.triggerEvent(r,"pointermove",i),l&&this.triggerEvent(r,"mousemove",i))}},{key:"onPointerOut",value:function(i){if(this.isAble()&&!(this.supportsTouchEvents&&i.pointerType==="touch")){var r=this.normalizeToPointerData(i),o=r[0];o.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(o),a=this.configureInteractionEventForDOMEvent(this.eventData,o,s);a.data.originalEvent=o,this.processInteractive(a,this.layer.scene,this.processPointerOverOut,!1),this.emit("pointerout",a),o.pointerType==="mouse"||o.pointerType==="pen"?this.emit("mouseout",a):this.releaseInteractionDataForPointerId(s.identifier)}}},{key:"processPointerOverOut",value:function(i,r,o){var s=i.data,a=i.data.identifier,l=s.pointerType==="mouse"||s.pointerType==="pen",c=r.trackedPointers[a];o&&!c&&(c=r.trackedPointers[a]=new $o(a)),c!==void 0&&(o&&this.mouseOverRenderer?(c.over||(c.over=!0,this.triggerEvent(r,"pointerover",i),l&&this.triggerEvent(r,"mouseover",i)),l&&this.cursor===null&&(this.cursor=r.cursor)):c.over&&(c.over=!1,this.triggerEvent(r,"pointerout",this.eventData),l&&this.triggerEvent(r,"mouseout",i),c.none&&delete r.trackedPointers[a]))}},{key:"onPointerOver",value:function(i){if(this.isAble()){var r=this.normalizeToPointerData(i),o=r[0],s=this.getInteractionDataForPointerId(o),a=this.configureInteractionEventForDOMEvent(this.eventData,o,s);a.data.originalEvent=o,o.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",a),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mouseover",a)}}},{key:"getInteractionDataForPointerId",value:function(i){var r=i.pointerId,o=void 0;return r===Zf||i.pointerType==="mouse"?o=this.mouse:this.activeInteractionData[r]?o=this.activeInteractionData[r]:(o=this.interactionDataPool.pop()||new jd,o.identifier=r,this.activeInteractionData[r]=o),o._copyEvent(i),o}},{key:"releaseInteractionDataForPointerId",value:function(i){var r=this.activeInteractionData[i];r&&(delete this.activeInteractionData[i],r._reset(),this.interactionDataPool.push(r))}},{key:"mapPositionToPoint",value:function(i,r,o){var s=void 0;this.interactionDOMElement.parentElement?s=this.interactionDOMElement.getBoundingClientRect():s={x:0,y:0,left:0,top:0,width:0,height:0},i.x=(r-s.left)/s.width*2-1,i.y=-((o-s.top)/s.height)*2+1}},{key:"configureInteractionEventForDOMEvent",value:function(i,r,o){return i.data=o,this.mapPositionToPoint(o.global,r.clientX,r.clientY),this.layer&&this.layer.interactive&&this.raycaster.setFromCamera(o.global,this.layer.camera),r.pointerType==="touch"&&(r.globalX=o.global.x,r.globalY=o.global.y),o.originalEvent=r,i._reset(),i.intersects=this.raycaster.intersectObjects(this.scene.children,!0),i}},{key:"normalizeToPointerData",value:function(i){var r=[];if(this.supportsTouchEvents&&i instanceof TouchEvent)for(var o=0,s=i.changedTouches.length;o<s;o++){var a=i.changedTouches[o];typeof a.button>"u"&&(a.button=i.touches.length?1:0),typeof a.buttons>"u"&&(a.buttons=i.touches.length?1:0),typeof a.isPrimary>"u"&&(a.isPrimary=i.touches.length===1&&i.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),a.twist=0,a.tangentialPressure=0,typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,r.push(a)}else i instanceof MouseEvent&&(!this.supportsPointerEvents||!(i instanceof window.PointerEvent))&&(typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=Zf),typeof i.pressure>"u"&&(i.pressure=.5),i.twist=0,i.tangentialPressure=0,i.isNormalized=!0),r.push(i);return r}},{key:"destroy",value:function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null}}]),t})(Gt);(function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i){var r=new Date().getTime(),o=Math.max(0,16-(r-e)),s=window.setTimeout(function(){i(r+o)},o);return e=r+o,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(i){clearTimeout(i)}),window.RAF=window.requestAnimationFrame,window.CAF=window.cancelAnimationFrame})();var dB=function(e){Lp(t,e);function t(){ms(this,t);var n=Rp(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.timer=null,n.started=!1,n.pt=0,n.snippet=0,n.start(),n}return sl(t,[{key:"start",value:function(){var i=this;if(!this.started){var r=function o(){i.timeline(),i.emit("tick",{snippet:i.snippet}),i.timer=RAF(o)};r()}}},{key:"stop",value:function(){CAF(this.timer),this.started=!1}},{key:"timeline",value:function(){this.snippet=Date.now()-this.pt,(this.pt===0||this.snippet>200)&&(this.pt=Date.now(),this.snippet=Date.now()-this.pt),this.pt+=this.snippet}}]),t}(Gt),pB=function(e){Lp(t,e);function t(n,i,r,o){ms(this,t),o=Object.assign({autoAttach:!1},o);var s=Rp(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n,i,r,o));return s.ticker=new dB,s.update=s.update.bind(s),s.on("addevents",function(){s.ticker.on("tick",s.update)}),s.on("removeevents",function(){s.ticker.off("tick",s.update)}),s.setTargetElement(s.renderer.domElement),s}return t}(hB),_n="top",ii="bottom",ri="right",bn="left",j0="auto",Iu=[_n,ii,ri,bn],qa="start",pu="end",mB="clippingParents",mT="viewport",Ll="popper",gB="reference",Lb=Iu.reduce(function(e,t){return e.concat([t+"-"+qa,t+"-"+pu])},[]),gT=[].concat(Iu,[j0]).reduce(function(e,t){return e.concat([t,t+"-"+qa,t+"-"+pu])},[]),yB="beforeRead",vB="read",xB="afterRead",wB="beforeMain",_B="main",bB="afterMain",MB="beforeWrite",EB="write",SB="afterWrite",TB=[yB,vB,xB,wB,_B,bB,MB,EB,SB];function Yi(e){return e?(e.nodeName||"").toLowerCase():null}function In(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function cs(e){var t=In(e).Element;return e instanceof t||e instanceof Element}function Zn(e){var t=In(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function q0(e){if(typeof ShadowRoot>"u")return!1;var t=In(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function AB(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},o=t.elements[n];!Zn(o)||!Yi(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function PB(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},s=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),a=s.reduce(function(l,c){return l[c]="",l},{});!Zn(r)||!Yi(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}const yT={name:"applyStyles",enabled:!0,phase:"write",fn:AB,effect:PB,requires:["computeStyles"]};function Vi(e){return e.split("-")[0]}var Xo=Math.max,qd=Math.min,$a=Math.round;function fv(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function vT(){return!/^((?!chrome|android).)*safari/i.test(fv())}function Xa(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&Zn(e)&&(r=e.offsetWidth>0&&$a(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&$a(i.height)/e.offsetHeight||1);var s=cs(e)?In(e):window,a=s.visualViewport,l=!vT()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/o,f=i.width/r,h=i.height/o;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function $0(e){var t=Xa(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function xT(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&q0(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Mr(e){return In(e).getComputedStyle(e)}function CB(e){return["table","td","th"].indexOf(Yi(e))>=0}function bo(e){return((cs(e)?e.ownerDocument:e.document)||window.document).documentElement}function Op(e){return Yi(e)==="html"?e:e.assignedSlot||e.parentNode||(q0(e)?e.host:null)||bo(e)}function Rb(e){return!Zn(e)||Mr(e).position==="fixed"?null:e.offsetParent}function LB(e){var t=/firefox/i.test(fv()),n=/Trident/i.test(fv());if(n&&Zn(e)){var i=Mr(e);if(i.position==="fixed")return null}var r=Op(e);for(q0(r)&&(r=r.host);Zn(r)&&["html","body"].indexOf(Yi(r))<0;){var o=Mr(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function ku(e){for(var t=In(e),n=Rb(e);n&&CB(n)&&Mr(n).position==="static";)n=Rb(n);return n&&(Yi(n)==="html"||Yi(n)==="body"&&Mr(n).position==="static")?t:n||LB(e)||t}function X0(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function nc(e,t,n){return Xo(e,qd(t,n))}function RB(e,t,n){var i=nc(e,t,n);return i>n?n:i}function wT(){return{top:0,right:0,bottom:0,left:0}}function _T(e){return Object.assign({},wT(),e)}function bT(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var OB=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,_T(typeof t!="number"?t:bT(t,Iu))};function DB(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Vi(n.placement),l=X0(a),c=[bn,ri].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var f=OB(r.padding,n),h=$0(o),d=l==="y"?_n:bn,m=l==="y"?ii:ri,v=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],x=s[l]-n.rects.reference[l],p=ku(o),g=p?l==="y"?p.clientHeight||0:p.clientWidth||0:0,w=v/2-x/2,y=f[d],_=g-h[u]-f[m],b=g/2-h[u]/2+w,M=nc(y,b,_),N=l;n.modifiersData[i]=(t={},t[N]=M,t.centerOffset=M-b,t)}}function NB(e){var t=e.state,n=e.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||xT(t.elements.popper,r)&&(t.elements.arrow=r))}const IB={name:"arrow",enabled:!0,phase:"main",fn:DB,effect:NB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ya(e){return e.split("-")[1]}var kB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function FB(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:$a(n*r)/r||0,y:$a(i*r)/r||0}}function Ob(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,h=s.x,d=h===void 0?0:h,m=s.y,v=m===void 0?0:m,x=typeof u=="function"?u({x:d,y:v}):{x:d,y:v};d=x.x,v=x.y;var p=s.hasOwnProperty("x"),g=s.hasOwnProperty("y"),w=bn,y=_n,_=window;if(c){var b=ku(n),M="clientHeight",N="clientWidth";if(b===In(n)&&(b=bo(n),Mr(b).position!=="static"&&a==="absolute"&&(M="scrollHeight",N="scrollWidth")),b=b,r===_n||(r===bn||r===ri)&&o===pu){y=ii;var S=f&&b===_&&_.visualViewport?_.visualViewport.height:b[M];v-=S-i.height,v*=l?1:-1}if(r===bn||(r===_n||r===ii)&&o===pu){w=ri;var U=f&&b===_&&_.visualViewport?_.visualViewport.width:b[N];d-=U-i.width,d*=l?1:-1}}var R=Object.assign({position:a},c&&kB),F=u===!0?FB({x:d,y:v},In(n)):{x:d,y:v};if(d=F.x,v=F.y,l){var k;return Object.assign({},R,(k={},k[y]=g?"0":"",k[w]=p?"0":"",k.transform=(_.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",k))}return Object.assign({},R,(t={},t[y]=g?v+"px":"",t[w]=p?d+"px":"",t.transform="",t))}function BB(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Vi(t.placement),variation:Ya(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Ob(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Ob(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const zB={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:BB,data:{}};var Qf={passive:!0};function UB(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=In(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,Qf)}),a&&l.addEventListener("resize",n.update,Qf),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,Qf)}),a&&l.removeEventListener("resize",n.update,Qf)}}const HB={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:UB,data:{}};var GB={left:"right",right:"left",bottom:"top",top:"bottom"};function Th(e){return e.replace(/left|right|bottom|top/g,function(t){return GB[t]})}var VB={start:"end",end:"start"};function Db(e){return e.replace(/start|end/g,function(t){return VB[t]})}function Y0(e){var t=In(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function J0(e){return Xa(bo(e)).left+Y0(e).scrollLeft}function WB(e,t){var n=In(e),i=bo(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=vT();(c||!c&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+J0(e),y:l}}function jB(e){var t,n=bo(e),i=Y0(e),r=(t=e.ownerDocument)==null?void 0:t.body,o=Xo(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Xo(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+J0(e),l=-i.scrollTop;return Mr(r||n).direction==="rtl"&&(a+=Xo(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Z0(e){var t=Mr(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function MT(e){return["html","body","#document"].indexOf(Yi(e))>=0?e.ownerDocument.body:Zn(e)&&Z0(e)?e:MT(Op(e))}function ic(e,t){var n;t===void 0&&(t=[]);var i=MT(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),o=In(i),s=r?[o].concat(o.visualViewport||[],Z0(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(ic(Op(s)))}function hv(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function qB(e,t){var n=Xa(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Nb(e,t,n){return t===mT?hv(WB(e,n)):cs(t)?qB(t,n):hv(jB(bo(e)))}function $B(e){var t=ic(Op(e)),n=["absolute","fixed"].indexOf(Mr(e).position)>=0,i=n&&Zn(e)?ku(e):e;return cs(i)?t.filter(function(r){return cs(r)&&xT(r,i)&&Yi(r)!=="body"}):[]}function XB(e,t,n,i){var r=t==="clippingParents"?$B(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce(function(l,c){var u=Nb(e,c,i);return l.top=Xo(u.top,l.top),l.right=qd(u.right,l.right),l.bottom=qd(u.bottom,l.bottom),l.left=Xo(u.left,l.left),l},Nb(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function ET(e){var t=e.reference,n=e.element,i=e.placement,r=i?Vi(i):null,o=i?Ya(i):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(r){case _n:l={x:s,y:t.y-n.height};break;case ii:l={x:s,y:t.y+t.height};break;case ri:l={x:t.x+t.width,y:a};break;case bn:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?X0(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case qa:l[c]=l[c]-(t[u]/2-n[u]/2);break;case pu:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function mu(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=i===void 0?e.placement:i,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?mB:a,c=n.rootBoundary,u=c===void 0?mT:c,f=n.elementContext,h=f===void 0?Ll:f,d=n.altBoundary,m=d===void 0?!1:d,v=n.padding,x=v===void 0?0:v,p=_T(typeof x!="number"?x:bT(x,Iu)),g=h===Ll?gB:Ll,w=e.rects.popper,y=e.elements[m?g:h],_=XB(cs(y)?y:y.contextElement||bo(e.elements.popper),l,u,s),b=Xa(e.elements.reference),M=ET({reference:b,element:w,strategy:"absolute",placement:r}),N=hv(Object.assign({},w,M)),S=h===Ll?N:b,U={top:_.top-S.top+p.top,bottom:S.bottom-_.bottom+p.bottom,left:_.left-S.left+p.left,right:S.right-_.right+p.right},R=e.modifiersData.offset;if(h===Ll&&R){var F=R[r];Object.keys(U).forEach(function(k){var P=[ri,ii].indexOf(k)>=0?1:-1,C=[_n,ii].indexOf(k)>=0?"y":"x";U[k]+=F[C]*P})}return U}function YB(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?gT:l,u=Ya(i),f=u?a?Lb:Lb.filter(function(m){return Ya(m)===u}):Iu,h=f.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=f);var d=h.reduce(function(m,v){return m[v]=mu(e,{placement:v,boundary:r,rootBoundary:o,padding:s})[Vi(v)],m},{});return Object.keys(d).sort(function(m,v){return d[m]-d[v]})}function JB(e){if(Vi(e)===j0)return[];var t=Th(e);return[Db(e),t,Db(t)]}function ZB(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,m=d===void 0?!0:d,v=n.allowedAutoPlacements,x=t.options.placement,p=Vi(x),g=p===x,w=l||(g||!m?[Th(x)]:JB(x)),y=[x].concat(w).reduce(function(Re,Se){return Re.concat(Vi(Se)===j0?YB(t,{placement:Se,boundary:u,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:v}):Se)},[]),_=t.rects.reference,b=t.rects.popper,M=new Map,N=!0,S=y[0],U=0;U<y.length;U++){var R=y[U],F=Vi(R),k=Ya(R)===qa,P=[_n,ii].indexOf(F)>=0,C=P?"width":"height",B=mu(t,{placement:R,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),L=P?k?ri:bn:k?ii:_n;_[C]>b[C]&&(L=Th(L));var I=Th(L),H=[];if(o&&H.push(B[F]<=0),a&&H.push(B[L]<=0,B[I]<=0),H.every(function(Re){return Re})){S=R,N=!1;break}M.set(R,H)}if(N)for(var W=m?3:1,ee=function(Se){var Y=y.find(function(We){var Pe=M.get(We);if(Pe)return Pe.slice(0,Se).every(function(De){return De})});if(Y)return S=Y,"break"},ce=W;ce>0;ce--){var ge=ee(ce);if(ge==="break")break}t.placement!==S&&(t.modifiersData[i]._skip=!0,t.placement=S,t.reset=!0)}}const KB={name:"flip",enabled:!0,phase:"main",fn:ZB,requiresIfExists:["offset"],data:{_skip:!1}};function Ib(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function kb(e){return[_n,ri,ii,bn].some(function(t){return e[t]>=0})}function QB(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=mu(t,{elementContext:"reference"}),a=mu(t,{altBoundary:!0}),l=Ib(s,i),c=Ib(a,r,o),u=kb(l),f=kb(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const e4={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:QB};function t4(e,t,n){var i=Vi(e),r=[bn,_n].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[bn,ri].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function n4(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=r===void 0?[0,0]:r,s=gT.reduce(function(u,f){return u[f]=t4(f,t.rects,o),u},{}),a=s[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}const i4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:n4};function r4(e){var t=e.state,n=e.name;t.modifiersData[n]=ET({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const o4={name:"popperOffsets",enabled:!0,phase:"read",fn:r4,data:{}};function s4(e){return e==="x"?"y":"x"}function a4(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,f=n.padding,h=n.tether,d=h===void 0?!0:h,m=n.tetherOffset,v=m===void 0?0:m,x=mu(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),p=Vi(t.placement),g=Ya(t.placement),w=!g,y=X0(p),_=s4(y),b=t.modifiersData.popperOffsets,M=t.rects.reference,N=t.rects.popper,S=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,U=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,F={x:0,y:0};if(b){if(o){var k,P=y==="y"?_n:bn,C=y==="y"?ii:ri,B=y==="y"?"height":"width",L=b[y],I=L+x[P],H=L-x[C],W=d?-N[B]/2:0,ee=g===qa?M[B]:N[B],ce=g===qa?-N[B]:-M[B],ge=t.elements.arrow,Re=d&&ge?$0(ge):{width:0,height:0},Se=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:wT(),Y=Se[P],We=Se[C],Pe=nc(0,M[B],Re[B]),De=w?M[B]/2-W-Pe-Y-U.mainAxis:ee-Pe-Y-U.mainAxis,Me=w?-M[B]/2+W+Pe+We+U.mainAxis:ce+Pe+We+U.mainAxis,te=t.elements.arrow&&ku(t.elements.arrow),ne=te?y==="y"?te.clientTop||0:te.clientLeft||0:0,se=(k=R==null?void 0:R[y])!=null?k:0,xe=L+De-se-ne,fe=L+Me-se,Ce=nc(d?qd(I,xe):I,L,d?Xo(H,fe):H);b[y]=Ce,F[y]=Ce-L}if(a){var T,O=y==="x"?_n:bn,re=y==="x"?ii:ri,K=b[_],z=_==="y"?"height":"width",ae=K+x[O],D=K-x[re],oe=[_n,bn].indexOf(p)!==-1,Q=(T=R==null?void 0:R[_])!=null?T:0,le=oe?ae:K-M[z]-N[z]-Q+U.altAxis,Te=oe?K+M[z]+N[z]-Q-U.altAxis:D,be=d&&oe?RB(le,K,Te):nc(d?le:ae,K,d?Te:D);b[_]=be,F[_]=be-K}t.modifiersData[i]=F}}const l4={name:"preventOverflow",enabled:!0,phase:"main",fn:a4,requiresIfExists:["offset"]};function c4(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function u4(e){return e===In(e)||!Zn(e)?Y0(e):c4(e)}function f4(e){var t=e.getBoundingClientRect(),n=$a(t.width)/e.offsetWidth||1,i=$a(t.height)/e.offsetHeight||1;return n!==1||i!==1}function h4(e,t,n){n===void 0&&(n=!1);var i=Zn(t),r=Zn(t)&&f4(t),o=bo(t),s=Xa(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((Yi(t)!=="body"||Z0(o))&&(a=u4(t)),Zn(t)?(l=Xa(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=J0(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function d4(e){var t=new Map,n=new Set,i=[];e.forEach(function(o){t.set(o.name,o)});function r(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&r(l)}}),i.push(o)}return e.forEach(function(o){n.has(o.name)||r(o)}),i}function p4(e){var t=d4(e);return TB.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function m4(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function g4(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var Fb={placement:"bottom",modifiers:[],strategy:"absolute"};function Bb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function y4(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,o=r===void 0?Fb:r;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fb,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],h=!1,d={state:u,setOptions:function(p){var g=typeof p=="function"?p(u.options):p;v(),u.options=Object.assign({},o,u.options,g),u.scrollParents={reference:cs(a)?ic(a):a.contextElement?ic(a.contextElement):[],popper:ic(l)};var w=p4(g4([].concat(i,u.options.modifiers)));return u.orderedModifiers=w.filter(function(y){return y.enabled}),m(),d.update()},forceUpdate:function(){if(!h){var p=u.elements,g=p.reference,w=p.popper;if(Bb(g,w)){u.rects={reference:h4(g,ku(w),u.options.strategy==="fixed"),popper:$0(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(U){return u.modifiersData[U.name]=Object.assign({},U.data)});for(var y=0;y<u.orderedModifiers.length;y++){if(u.reset===!0){u.reset=!1,y=-1;continue}var _=u.orderedModifiers[y],b=_.fn,M=_.options,N=M===void 0?{}:M,S=_.name;typeof b=="function"&&(u=b({state:u,options:N,name:S,instance:d})||u)}}}},update:m4(function(){return new Promise(function(x){d.forceUpdate(),x(u)})}),destroy:function(){v(),h=!0}};if(!Bb(a,l))return d;d.setOptions(c).then(function(x){!h&&c.onFirstUpdate&&c.onFirstUpdate(x)});function m(){u.orderedModifiers.forEach(function(x){var p=x.name,g=x.options,w=g===void 0?{}:g,y=x.effect;if(typeof y=="function"){var _=y({state:u,name:p,instance:d,options:w}),b=function(){};f.push(_||b)}})}function v(){f.forEach(function(x){return x()}),f=[]}return d}}var v4=[HB,o4,zB,yT,i4,KB,l4,IB,e4],x4=y4({defaultModifiers:v4}),w4="tippy-box",ST="tippy-content",_4="tippy-backdrop",TT="tippy-arrow",AT="tippy-svg-arrow",Io={passive:!0,capture:!0},PT=function(){return document.body};function Qm(e,t,n){if(Array.isArray(e)){var i=e[t];return i??(Array.isArray(n)?n[t]:n)}return e}function K0(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function CT(e,t){return typeof e=="function"?e.apply(void 0,t):e}function zb(e,t){if(t===0)return e;var n;return function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}}function b4(e){return e.split(/\s+/).filter(Boolean)}function Fs(e){return[].concat(e)}function Ub(e,t){e.indexOf(t)===-1&&e.push(t)}function M4(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function E4(e){return e.split("-")[0]}function $d(e){return[].slice.call(e)}function Hb(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function rc(){return document.createElement("div")}function Dp(e){return["Element","Fragment"].some(function(t){return K0(e,t)})}function S4(e){return K0(e,"NodeList")}function T4(e){return K0(e,"MouseEvent")}function A4(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function P4(e){return Dp(e)?[e]:S4(e)?$d(e):Array.isArray(e)?e:$d(document.querySelectorAll(e))}function eg(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function Gb(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function C4(e){var t,n=Fs(e),i=n[0];return i!=null&&(t=i.ownerDocument)!=null&&t.body?i.ownerDocument:document}function L4(e,t){var n=t.clientX,i=t.clientY;return e.every(function(r){var o=r.popperRect,s=r.popperState,a=r.props,l=a.interactiveBorder,c=E4(s.placement),u=s.modifiersData.offset;if(!u)return!0;var f=c==="bottom"?u.top.y:0,h=c==="top"?u.bottom.y:0,d=c==="right"?u.left.x:0,m=c==="left"?u.right.x:0,v=o.top-i+f>l,x=i-o.bottom-h>l,p=o.left-n+d>l,g=n-o.right-m>l;return v||x||p||g})}function tg(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){e[i](r,n)})}function Vb(e,t){for(var n=t;n;){var i;if(e.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var Di={isTouch:!1},Wb=0;function R4(){Di.isTouch||(Di.isTouch=!0,window.performance&&document.addEventListener("mousemove",LT))}function LT(){var e=performance.now();e-Wb<20&&(Di.isTouch=!1,document.removeEventListener("mousemove",LT)),Wb=e}function O4(){var e=document.activeElement;if(A4(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function D4(){document.addEventListener("touchstart",R4,Io),window.addEventListener("blur",O4)}var N4=typeof window<"u"&&typeof document<"u",I4=N4?!!window.msCrypto:!1,k4={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},F4={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},yi=Object.assign({appendTo:PT,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},k4,F4),B4=Object.keys(yi),z4=function(t){var n=Object.keys(t);n.forEach(function(i){yi[i]=t[i]})};function RT(e){var t=e.plugins||[],n=t.reduce(function(i,r){var o=r.name,s=r.defaultValue;if(o){var a;i[o]=e[o]!==void 0?e[o]:(a=yi[o])!=null?a:s}return i},{});return Object.assign({},e,n)}function U4(e,t){var n=t?Object.keys(RT(Object.assign({},yi,{plugins:t}))):B4,i=n.reduce(function(r,o){var s=(e.getAttribute("data-tippy-"+o)||"").trim();if(!s)return r;if(o==="content")r[o]=s;else try{r[o]=JSON.parse(s)}catch{r[o]=s}return r},{});return i}function jb(e,t){var n=Object.assign({},t,{content:CT(t.content,[e])},t.ignoreAttributes?{}:U4(e,t.plugins));return n.aria=Object.assign({},yi.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var H4=function(){return"innerHTML"};function dv(e,t){e[H4()]=t}function qb(e){var t=rc();return e===!0?t.className=TT:(t.className=AT,Dp(e)?t.appendChild(e):dv(t,e)),t}function $b(e,t){Dp(t.content)?(dv(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?dv(e,t.content):e.textContent=t.content)}function pv(e){var t=e.firstElementChild,n=$d(t.children);return{box:t,content:n.find(function(i){return i.classList.contains(ST)}),arrow:n.find(function(i){return i.classList.contains(TT)||i.classList.contains(AT)}),backdrop:n.find(function(i){return i.classList.contains(_4)})}}function OT(e){var t=rc(),n=rc();n.className=w4,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=rc();i.className=ST,i.setAttribute("data-state","hidden"),$b(i,e.props),t.appendChild(n),n.appendChild(i),r(e.props,e.props);function r(o,s){var a=pv(t),l=a.box,c=a.content,u=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),typeof s.animation=="string"?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&$b(c,e.props),s.arrow?u?o.arrow!==s.arrow&&(l.removeChild(u),l.appendChild(qb(s.arrow))):l.appendChild(qb(s.arrow)):u&&l.removeChild(u)}return{popper:t,onUpdate:r}}OT.$$tippy=!0;var G4=1,eh=[],ng=[];function V4(e,t){var n=jb(e,Object.assign({},yi,RT(Hb(t)))),i,r,o,s=!1,a=!1,l=!1,c=!1,u,f,h,d=[],m=zb(xe,n.interactiveDebounce),v,x=G4++,p=null,g=M4(n.plugins),w={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},y={id:x,reference:e,popper:rc(),popperInstance:p,props:n,state:w,plugins:g,clearDelayTimeouts:le,setProps:Te,setContent:be,show:_e,hide:Ae,hideWithInteractivity:Ye,enable:oe,disable:Q,unmount:it,destroy:Fp};if(!n.render)return y;var _=n.render(y),b=_.popper,M=_.onUpdate;b.setAttribute("data-tippy-root",""),b.id="tippy-"+y.id,y.popper=b,e._tippy=y,b._tippy=y;var N=g.map(function($){return $.fn(y)}),S=e.hasAttribute("aria-expanded");return te(),W(),L(),I("onCreate",[y]),n.showOnCreate&&ae(),b.addEventListener("mouseenter",function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()}),b.addEventListener("mouseleave",function(){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&P().addEventListener("mousemove",m)}),y;function U(){var $=y.props.touch;return Array.isArray($)?$:[$,0]}function R(){return U()[0]==="hold"}function F(){var $;return!!(($=y.props.render)!=null&&$.$$tippy)}function k(){return v||e}function P(){var $=k().parentNode;return $?C4($):document}function C(){return pv(b)}function B($){return y.state.isMounted&&!y.state.isVisible||Di.isTouch||u&&u.type==="focus"?0:Qm(y.props.delay,$?0:1,yi.delay)}function L($){$===void 0&&($=!1),b.style.pointerEvents=y.props.interactive&&!$?"":"none",b.style.zIndex=""+y.props.zIndex}function I($,we,Oe){if(Oe===void 0&&(Oe=!0),N.forEach(function(He){He[$]&&He[$].apply(He,we)}),Oe){var Ze;(Ze=y.props)[$].apply(Ze,we)}}function H(){var $=y.props.aria;if($.content){var we="aria-"+$.content,Oe=b.id,Ze=Fs(y.props.triggerTarget||e);Ze.forEach(function(He){var Ft=He.getAttribute(we);if(y.state.isVisible)He.setAttribute(we,Ft?Ft+" "+Oe:Oe);else{var nn=Ft&&Ft.replace(Oe,"").trim();nn?He.setAttribute(we,nn):He.removeAttribute(we)}})}}function W(){if(!(S||!y.props.aria.expanded)){var $=Fs(y.props.triggerTarget||e);$.forEach(function(we){y.props.interactive?we.setAttribute("aria-expanded",y.state.isVisible&&we===k()?"true":"false"):we.removeAttribute("aria-expanded")})}}function ee(){P().removeEventListener("mousemove",m),eh=eh.filter(function($){return $!==m})}function ce($){if(!(Di.isTouch&&(l||$.type==="mousedown"))){var we=$.composedPath&&$.composedPath()[0]||$.target;if(!(y.props.interactive&&Vb(b,we))){if(Fs(y.props.triggerTarget||e).some(function(Oe){return Vb(Oe,we)})){if(Di.isTouch||y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else I("onClickOutside",[y,$]);y.props.hideOnClick===!0&&(y.clearDelayTimeouts(),y.hide(),a=!0,setTimeout(function(){a=!1}),y.state.isMounted||Y())}}}function ge(){l=!0}function Re(){l=!1}function Se(){var $=P();$.addEventListener("mousedown",ce,!0),$.addEventListener("touchend",ce,Io),$.addEventListener("touchstart",Re,Io),$.addEventListener("touchmove",ge,Io)}function Y(){var $=P();$.removeEventListener("mousedown",ce,!0),$.removeEventListener("touchend",ce,Io),$.removeEventListener("touchstart",Re,Io),$.removeEventListener("touchmove",ge,Io)}function We($,we){De($,function(){!y.state.isVisible&&b.parentNode&&b.parentNode.contains(b)&&we()})}function Pe($,we){De($,we)}function De($,we){var Oe=C().box;function Ze(He){He.target===Oe&&(tg(Oe,"remove",Ze),we())}if($===0)return we();tg(Oe,"remove",f),tg(Oe,"add",Ze),f=Ze}function Me($,we,Oe){Oe===void 0&&(Oe=!1);var Ze=Fs(y.props.triggerTarget||e);Ze.forEach(function(He){He.addEventListener($,we,Oe),d.push({node:He,eventType:$,handler:we,options:Oe})})}function te(){R()&&(Me("touchstart",se,{passive:!0}),Me("touchend",fe,{passive:!0})),b4(y.props.trigger).forEach(function($){if($!=="manual")switch(Me($,se),$){case"mouseenter":Me("mouseleave",fe);break;case"focus":Me(I4?"focusout":"blur",Ce);break;case"focusin":Me("focusout",Ce);break}})}function ne(){d.forEach(function($){var we=$.node,Oe=$.eventType,Ze=$.handler,He=$.options;we.removeEventListener(Oe,Ze,He)}),d=[]}function se($){var we,Oe=!1;if(!(!y.state.isEnabled||T($)||a)){var Ze=((we=u)==null?void 0:we.type)==="focus";u=$,v=$.currentTarget,W(),!y.state.isVisible&&T4($)&&eh.forEach(function(He){return He($)}),$.type==="click"&&(y.props.trigger.indexOf("mouseenter")<0||s)&&y.props.hideOnClick!==!1&&y.state.isVisible?Oe=!0:ae($),$.type==="click"&&(s=!Oe),Oe&&!Ze&&D($)}}function xe($){var we=$.target,Oe=k().contains(we)||b.contains(we);if(!($.type==="mousemove"&&Oe)){var Ze=z().concat(b).map(function(He){var Ft,nn=He._tippy,Ki=(Ft=nn.popperInstance)==null?void 0:Ft.state;return Ki?{popperRect:He.getBoundingClientRect(),popperState:Ki,props:n}:null}).filter(Boolean);L4(Ze,$)&&(ee(),D($))}}function fe($){var we=T($)||y.props.trigger.indexOf("click")>=0&&s;if(!we){if(y.props.interactive){y.hideWithInteractivity($);return}D($)}}function Ce($){y.props.trigger.indexOf("focusin")<0&&$.target!==k()||y.props.interactive&&$.relatedTarget&&b.contains($.relatedTarget)||D($)}function T($){return Di.isTouch?R()!==$.type.indexOf("touch")>=0:!1}function O(){re();var $=y.props,we=$.popperOptions,Oe=$.placement,Ze=$.offset,He=$.getReferenceClientRect,Ft=$.moveTransition,nn=F()?pv(b).arrow:null,Ki=He?{getBoundingClientRect:He,contextElement:He.contextElement||k()}:e,Bn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(gs){var A=gs.state;if(F()){var q=C(),G=q.box;["placement","reference-hidden","escaped"].forEach(function(Z){Z==="placement"?G.setAttribute("data-placement",A.placement):A.attributes.popper["data-popper-"+Z]?G.setAttribute("data-"+Z,""):G.removeAttribute("data-"+Z)}),A.attributes.popper={}}}},Ti=[{name:"offset",options:{offset:Ze}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ft}},Bn];F()&&nn&&Ti.push({name:"arrow",options:{element:nn,padding:3}}),Ti.push.apply(Ti,(we==null?void 0:we.modifiers)||[]),y.popperInstance=x4(Ki,b,Object.assign({},we,{placement:Oe,onFirstUpdate:h,modifiers:Ti}))}function re(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function K(){var $=y.props.appendTo,we,Oe=k();y.props.interactive&&$===PT||$==="parent"?we=Oe.parentNode:we=CT($,[Oe]),we.contains(b)||we.appendChild(b),y.state.isMounted=!0,O()}function z(){return $d(b.querySelectorAll("[data-tippy-root]"))}function ae($){y.clearDelayTimeouts(),$&&I("onTrigger",[y,$]),Se();var we=B(!0),Oe=U(),Ze=Oe[0],He=Oe[1];Di.isTouch&&Ze==="hold"&&He&&(we=He),we?i=setTimeout(function(){y.show()},we):y.show()}function D($){if(y.clearDelayTimeouts(),I("onUntrigger",[y,$]),!y.state.isVisible){Y();return}if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf($.type)>=0&&s)){var we=B(!1);we?r=setTimeout(function(){y.state.isVisible&&y.hide()},we):o=requestAnimationFrame(function(){y.hide()})}}function oe(){y.state.isEnabled=!0}function Q(){y.hide(),y.state.isEnabled=!1}function le(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function Te($){if(!y.state.isDestroyed){I("onBeforeUpdate",[y,$]),ne();var we=y.props,Oe=jb(e,Object.assign({},we,Hb($),{ignoreAttributes:!0}));y.props=Oe,te(),we.interactiveDebounce!==Oe.interactiveDebounce&&(ee(),m=zb(xe,Oe.interactiveDebounce)),we.triggerTarget&&!Oe.triggerTarget?Fs(we.triggerTarget).forEach(function(Ze){Ze.removeAttribute("aria-expanded")}):Oe.triggerTarget&&e.removeAttribute("aria-expanded"),W(),L(),M&&M(we,Oe),y.popperInstance&&(O(),z().forEach(function(Ze){requestAnimationFrame(Ze._tippy.popperInstance.forceUpdate)})),I("onAfterUpdate",[y,$])}}function be($){y.setProps({content:$})}function _e(){var $=y.state.isVisible,we=y.state.isDestroyed,Oe=!y.state.isEnabled,Ze=Di.isTouch&&!y.props.touch,He=Qm(y.props.duration,0,yi.duration);if(!($||we||Oe||Ze)&&!k().hasAttribute("disabled")&&(I("onShow",[y],!1),y.props.onShow(y)!==!1)){if(y.state.isVisible=!0,F()&&(b.style.visibility="visible"),L(),Se(),y.state.isMounted||(b.style.transition="none"),F()){var Ft=C(),nn=Ft.box,Ki=Ft.content;eg([nn,Ki],0)}h=function(){var Ti;if(!(!y.state.isVisible||c)){if(c=!0,b.offsetHeight,b.style.transition=y.props.moveTransition,F()&&y.props.animation){var cl=C(),gs=cl.box,A=cl.content;eg([gs,A],He),Gb([gs,A],"visible")}H(),W(),Ub(ng,y),(Ti=y.popperInstance)==null||Ti.forceUpdate(),I("onMount",[y]),y.props.animation&&F()&&Pe(He,function(){y.state.isShown=!0,I("onShown",[y])})}},K()}}function Ae(){var $=!y.state.isVisible,we=y.state.isDestroyed,Oe=!y.state.isEnabled,Ze=Qm(y.props.duration,1,yi.duration);if(!($||we||Oe)&&(I("onHide",[y],!1),y.props.onHide(y)!==!1)){if(y.state.isVisible=!1,y.state.isShown=!1,c=!1,s=!1,F()&&(b.style.visibility="hidden"),ee(),Y(),L(!0),F()){var He=C(),Ft=He.box,nn=He.content;y.props.animation&&(eg([Ft,nn],Ze),Gb([Ft,nn],"hidden"))}H(),W(),y.props.animation?F()&&We(Ze,y.unmount):y.unmount()}}function Ye($){P().addEventListener("mousemove",m),Ub(eh,m),m($)}function it(){y.state.isVisible&&y.hide(),y.state.isMounted&&(re(),z().forEach(function($){$._tippy.unmount()}),b.parentNode&&b.parentNode.removeChild(b),ng=ng.filter(function($){return $!==y}),y.state.isMounted=!1,I("onHidden",[y]))}function Fp(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),ne(),delete e._tippy,y.state.isDestroyed=!0,I("onDestroy",[y]))}}function Fu(e,t){t===void 0&&(t={});var n=yi.plugins.concat(t.plugins||[]);D4();var i=Object.assign({},t,{plugins:n}),r=P4(e),o=r.reduce(function(s,a){var l=a&&V4(a,i);return l&&s.push(l),s},[]);return Dp(e)?o[0]:o}Fu.defaultProps=yi;Fu.setDefaultProps=z4;Fu.currentInput=Di;Object.assign({},yT,{effect:function(t){var n=t.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});Fu.setDefaultProps({render:OT});var Xb={onClickMarker:function(e,t,n){},onDefocus:function(e){},onGlobeBackgroundTextureLoaded:function(){},onGlobeCloudsTextureLoaded:function(){},onGlobeTextureLoaded:function(){},onMouseOutMarker:function(e,t,n){},onMouseOverMarker:function(e,t,n){}},W4="https://raw.githubusercontent.com/chrisrzhou/react-globe/main/textures/clouds.png",j4="https://raw.githubusercontent.com/chrisrzhou/react-globe/main/textures/globe.jpg",q4=[1.29027,103.851959],Ah={ambientLightColor:"white",ambientLightIntensity:.8,cameraAutoRotateSpeed:.1,cameraDistanceRadiusScale:3,cameraMaxDistanceRadiusScale:100,cameraMaxPolarAngle:Math.PI,cameraMinPolarAngle:0,cameraRotateSpeed:.2,cameraZoomSpeed:1,enableCameraAutoRotate:!0,enableCameraRotate:!0,enableCameraZoom:!0,enableDefocus:!0,enableGlobeGlow:!0,enableMarkerGlow:!0,enableMarkerTooltip:!0,focusAnimationDuration:1e3,focusDistanceRadiusScale:1.5,focusEasingFunction:["Cubic","Out"],globeCloudsOpacity:.3,globeGlowCoefficient:.1,globeGlowColor:"#d1d1d1",globeGlowPower:3,globeGlowRadiusScale:.2,markerEnterAnimationDuration:1e3,markerEnterEasingFunction:["Linear","None"],markerExitAnimationDuration:500,markerExitEasingFunction:["Cubic","Out"],markerGlowCoefficient:0,markerGlowPower:3,markerGlowRadiusScale:2,markerOffsetRadiusScale:0,markerRadiusScaleRange:[.005,.02],markerRenderer:null,markerTooltipRenderer:function(e){return JSON.stringify(e.coordinates)},markerType:"dot",pointLightColor:"white",pointLightIntensity:1,pointLightPositionRadiusScales:[-2,1,-1]};function DT(){return(DT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function th(e,t){var n=e[0]*Math.PI/180,i=(e[1]-180)*Math.PI/180;return[-t*Math.cos(n)*Math.cos(i),t*Math.sin(n),t*Math.cos(n)*Math.sin(i)]}function ig(e,t){var n=DT({},t);return Object.keys(n).forEach(function(i){var r=e[i];n[i]=r===void 0?n[i]:r}),n}function nh(e){var t=e.to,n=e.animationDuration,i=e.easingFunction,r=e.onUpdate,o=e.onEnd,s=o===void 0?null:o,a=e.delay,l=a===void 0?0:a,c=i[0],u=i[1];new zn(e.from).to(t,n).easing(ua[c][u]).on("update",r).on("complete",s).delay(l).start()}var $4=function(){function e(n){this.element=n,this.instance=Fu([n],{animation:"scale",arrow:!1})[0]}var t=e.prototype;return t.destroy=function(){this.instance.destroy()},t.hide=function(){document.body.style.cursor="inherit",this.element.style.position="fixed",this.element.style.left="0",this.element.style.top="0",this.instance.hide()},t.show=function(n,i,r){document.body.style.cursor="pointer",this.element.style.position="fixed",this.element.style.left=n+10+"px",this.element.style.top=i+10+"px",this.instance.setContent(r),this.instance.show()},e}(),X4=function(){function e(n){var i,r,o,s=n.canvasElement,a=n.initialCameraDistanceRadiusScale,l=a===void 0?Ah.cameraDistanceRadiusScale:a,c=n.initialCoordinates,u=c===void 0?q4:c,f=n.textures,h=f===void 0?{}:f,d=n.tooltipElement;this.callbacks=Xb,this.focus=null,this.isLocked=!1,this.markers=[],this.options=Ah,this.textures=h,this.previousFocus=null,this.tooltip=new $4(d),this.renderer=new Du({alpha:!0,antialias:!0,canvas:s}),this.camera=function(m,v){var x=new Pt;x.name="camera",x.far=3e5,x.fov=45,x.near=1;var p=th(m,300*v);return x.position.set(p[0],p[1],p[2]),x}(u,l),this.earth=function(){var m=new Je;m.geometry=new Bi(300,50,50),m.name="earth";var v=new Je;v.geometry=new Bi(301,50,50),v.name="clouds";var x=new Je;return x.name="background",x.geometry=new Bi(3e4,50,50),{clouds:v,globe:m,background:x}}(),this.lights=(i=new Dd("white"),r=new iu("white"),i.name="ambientLight",r.name="pointLight",{ambient:i,point:r}),this.markerObjects=((o=new Pa).name="markers",o),this.orbitControls=new du(this.camera,this.renderer.domElement),this.scene=function(m){var v=m.camera,x=m.earth,p=m.lights,g=m.markerObjects,w=m.renderer,y=m.defocus,_=new Rc;return v.add(p.ambient),v.add(p.point),_.add(v),_.add(x.globe),_.add(g),new pB(w,_,v),_.on("click",y),_}({camera:this.camera,earth:this.earth,lights:this.lights,markerObjects:this.markerObjects,renderer:this.renderer,defocus:this.defocus.bind(this)}),this.updateOptions(),this.updateCallbacks(),this.updateMarkers()}var t=e.prototype;return t.animate=function(){this.render(),this.animationFrameId=requestAnimationFrame(this.animate.bind(this))},t.animateClouds=function(){var n=this;["x","y","z"].forEach(function(i){n.earth.clouds.rotation[i]+=Math.random()/1e4})},t.applyAnimations=function(n){var i=this,r=0,o=[];return n.forEach(function(s,a){var l=s.coordinates,c=s.focusAnimationDuration,u={focusAnimationDuration:c,focusDistanceRadiusScale:s.focusDistanceRadiusScale,focusEasingFunction:s.focusEasingFunction},f=a===n.length-1,h=setTimeout(function(){i.unlock(),i.updateFocus(l,u,f)},r);o.push(h),r+=c}),function(){o.forEach(function(s){clearTimeout(s)})}},t.defocus=function(){!this.isLocked&&this.previousFocus&&this.options.enableDefocus&&(this.updateFocus(null),this.callbacks.onDefocus(this.previousFocus))},t.destroy=function(){cancelAnimationFrame(this.animationFrameId),this.tooltip.destroy(),this.renderer.domElement.remove()},t.lock=function(){this.isLocked=!0,this.orbitControls.enabled=!1,this.orbitControls.autoRotate=!1},t.render=function(){this.renderer.sortObjects=!1,this.renderer.render(this.scene,this.camera),this.orbitControls.update(),this.animateClouds(),HL()},t.resize=function(n){var i=n.height,r=n.width;this.renderer.setSize(r,i),this.camera.aspect=r/i,this.camera.updateProjectionMatrix(),this.render()},t.saveFocus=function(n){this.previousFocus=n},t.unlock=function(){this.isLocked=!1,this.orbitControls.enabled=!0,this.orbitControls.autoRotate=!0},t.updateCallbacks=function(n){n===void 0&&(n={}),this.callbacks=ig(n,Xb)},t.updateFocus=function(n,i,r){i===void 0&&(i={}),r===void 0&&(r=!0),this.isLocked||(this.focus=n,function(o,s,a){var l=a.options,c=a.previousFocus,u=a.shouldUnlockAfterFocus,f=a.lock,h=a.unlock,d=a.saveFocus,m=l.cameraDistanceRadiusScale,v=l.focusAnimationDuration,x=l.focusEasingFunction;if(o){var p=[s.position.x,s.position.y,s.position.z],g=th(o,300*l.focusDistanceRadiusScale);d(o),f(),nh({from:p,to:g,animationDuration:v,easingFunction:x,onUpdate:function(){s.position.set(p[0],p[1],p[2])},onEnd:function(){u&&h()}})}else if(c){var w=[s.position.x,s.position.y,s.position.z],y=th(c,300*m);f(),nh({from:w,to:y,animationDuration:v,easingFunction:x,onUpdate:function(){s.position.set(w[0],w[1],w[2])},onEnd:function(){d(null),h()}})}}(this.focus,this.camera,{shouldUnlockAfterFocus:r,options:ig(i,this.options),previousFocus:this.previousFocus,lock:this.lock.bind(this),unlock:this.unlock.bind(this),saveFocus:this.saveFocus.bind(this)}))},t.updateMarkers=function(n){var i=this;n===void 0&&(n=[]),this.markers=n,function(r,o){var s=o.callbacks,a=o.markers,l=o.options,c=l.markerExitAnimationDuration,u=l.markerExitEasingFunction,f=l.markerRadiusScaleRange,h=a.map(function(p){return p.value}),d=new Set(a.map(function(p){return p.id})),m=f[0],v=f[1],x=hT().domain([Math.min.apply(null,h),Math.max.apply(null,h)]).range([300*m,300*v]);a.forEach(function(p){var g=p.id,w=x(p.value),y=r.children.find(function(_){return _.marker.id===p.id});y||((y=function(_,b,M){var N,S,U=b.enableMarkerGlow,R=b.markerEnterAnimationDuration,F=b.markerEnterEasingFunction,k=b.markerGlowCoefficient,P=b.markerGlowPower,C=b.markerGlowRadiusScale,B=b.markerOffsetRadiusScale,L=b.markerRenderer,I=b.markerType;if(L)S=L(_);else{var H=_.color||"gold",W={size:0},ee={size:M},ce=new Je;nh({from:W,to:ee,animationDuration:R,easingFunction:F,onUpdate:function(){switch(I){case"bar":ce.geometry=new xS(3,3,W.size),ce.material=new hr({color:H});break;case"dot":default:if(ce.geometry=new Bi(W.size,10,10),ce.material=new cn({color:H}),U){var Re=pb(ce.geometry,{backside:!1,coefficient:k,color:H,power:P,size:W.size*C});ce.children=[],ce.add(Re)}}}}),S=ce}var ge=th(_.coordinates,300+(B?300*B:I==="dot"?M*(1+C)/2:0));return(N=S.position).set.apply(N,ge),S.lookAt(new E(0,0,0)),S.name=_.id,S}(p,l,w)).name=g,r.add(y)),y.marker=p}),r.children.forEach(function(p){if(!d.has(p.marker.id)){var g=p.scale.toArray();nh({from:g,to:[0,0,0],animationDuration:c,easingFunction:u,onUpdate:function(){var w;p&&(w=p.scale).set.apply(w,g)},onEnd:function(){r.remove(p)}})}(function(w,y){var _=w.marker;w._listeners={},w.on("click",function(b){y.onClickMarker(_,w,b.data.originalEvent)}),w.on("mousemove",function(b){y.onMouseOverMarker(_,w,b.data.originalEvent)}),w.on("mouseout",function(b){y.onMouseOutMarker(_,w,b.data.originalEvent)})})(p,s)})}(this.markerObjects,{options:this.options,markers:n,callbacks:{onClickMarker:function(r,o,s){i.updateFocus(r.coordinates),i.callbacks.onClickMarker(r,o,s)},onMouseOutMarker:function(r,o,s){i.tooltip.hide(),i.callbacks.onMouseOutMarker(r,o,s)},onMouseOverMarker:function(r,o,s){i.options.enableMarkerTooltip&&i.tooltip.show(s.clientX,s.clientY,i.options.markerTooltipRenderer(o.marker)),i.callbacks.onMouseOverMarker(r,o,s)}}})},t.updateOptions=function(n){n===void 0&&(n={}),this.options=ig(n,Ah),function(i,r){var o=r.callbacks,s=r.options,a=r.textures,l=s.globeCloudsOpacity,c=o.onGlobeBackgroundTextureLoaded,u=o.onGlobeCloudsTextureLoaded,f=o.onGlobeTextureLoaded,h=a.globeBackgroundTexture,d=h===void 0?"https://raw.githubusercontent.com/chrisrzhou/react-globe/main/textures/background.png":h,m=a.globeCloudsTexture,v=m===void 0?W4:m,x=a.globeTexture,p=x===void 0?j4:x,g=i.clouds,w=i.globe,y=i.glow,_=i.background;s.enableGlobeGlow&&((y=pb(w.geometry,{backside:!0,coefficient:s.globeGlowCoefficient,color:s.globeGlowColor,power:s.globeGlowPower,size:300*s.globeGlowRadiusScale})).name="glow"),p&&new da().load(p,function(b){w.material=new hr({map:b}),w.remove(w.getObjectByName("glow")),w.add(y),f()},function(){},f),d&&(new da().load(d,function(b){_.material=new cn({map:b,side:At}),c()},function(){},c),w.remove(w.getObjectByName("background")),w.add(_)),v&&(new da().load(v,function(b){g.material=new hr({map:b,transparent:!0}),g.material.opacity=l,u()},function(){},u),w.remove(w.getObjectByName("clouds")),w.add(g))}(this.earth,{callbacks:this.callbacks,options:this.options,textures:this.textures}),function(i,r){var o=r.ambientLightIntensity,s=r.pointLightColor,a=r.pointLightIntensity,l=r.pointLightPositionRadiusScales,c=i.ambient,u=i.point,f=l[0],h=l[1],d=l[2];c.color=new me(r.ambientLightColor),c.intensity=o,u.color=new me(s),u.intensity=a,u.position.set(300*f,300*h,300*d)}(this.lights,this.options),function(i,r){var o=r.cameraAutoRotateSpeed,s=r.cameraMaxDistanceRadiusScale,a=r.cameraMaxPolarAngle,l=r.cameraMinPolarAngle,c=r.cameraRotateSpeed,u=r.cameraZoomSpeed,f=r.enableCameraRotate,h=r.enableCameraZoom;i.autoRotate=r.enableCameraAutoRotate,i.autoRotateSpeed=o,i.dampingFactor=.1,i.enableDamping=!0,i.enablePan=!1,i.enableRotate=f,i.enableZoom=h,i.maxDistance=300*s,i.maxPolarAngle=a,i.minDistance=330,i.minPolarAngle=l,i.rotateSpeed=c,i.zoomSpeed=u}(this.orbitControls,this.options),this.updateFocus.bind(this,this.focus),this.updateMarkers.bind(this,this.markers)},e}();function Y4(e){var t=e.animations,n=t===void 0?[]:t,i=e.focus,r=e.height,o=r===void 0?"100%":r,s=e.globeBackgroundTexture,a=e.globeCloudsTexture,l=e.globeTexture,c=e.initialCameraDistanceRadiusScale,u=e.initialCoordinates,f=e.markers,h=e.options,d=h===void 0?Ah:h,m=e.width,v=m===void 0?"100%":m,x=e.onClickMarker,p=e.onDefocus,g=e.onGetGlobe,w=e.onGlobeBackgroundTextureLoaded,y=e.onGlobeCloudsTextureLoaded,_=e.onGlobeTextureLoaded,b=e.onMouseOutMarker,M=e.onMouseOverMarker,N=j.useRef(null),S=j.useRef(null),U=j.useRef(null),R=j.useRef(null);return j.useEffect(function(){var F=new X4({canvasElement:N.current,initialCameraDistanceRadiusScale:c||d.cameraDistanceRadiusScale,initialCoordinates:u,textures:{globeBackgroundTexture:s,globeCloudsTexture:a,globeTexture:l},tooltipElement:U.current});return F.animate(),R.current=F,g&&g(F),function(){return F.destroy()}},[s,a,l,c,d.cameraDistanceRadiusScale,u,g]),j.useEffect(function(){var F,k,P,C=R.current;return F=S.current,k=C.resize.bind(C),(P=new fF(function(B){if(B&&B.length!==0){var L=B[0].contentRect;k({height:L.height,width:L.width})}})).observe(F),function(){return P.unobserve(F)}},[]),j.useEffect(function(){R.current.updateCallbacks({onClickMarker:x,onDefocus:p,onGlobeBackgroundTextureLoaded:w,onGlobeCloudsTextureLoaded:y,onGlobeTextureLoaded:_,onMouseOutMarker:b,onMouseOverMarker:M})},[x,p,w,y,_,b,M]),j.useEffect(function(){R.current.updateOptions(d)},[d]),j.useEffect(function(){R.current.updateMarkers(f)},[f]),j.useEffect(function(){R.current.updateFocus(i)},[i]),j.useEffect(function(){return R.current.applyAnimations(n)},[n]),tt.createElement("div",{ref:S,style:{height:o,width:v}},tt.createElement("canvas",{ref:N}),tt.createElement("div",{ref:U}))}const J4="/holifun/assets/background-2-6610c365.png",gu=[{country:"Thailand",cities:[{name:"Bangkok",picture:{image1:"https://images.pexels.com/photos/7060081/pexels-photo-7060081.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image2:"https://images.pexels.com/photos/1929611/pexels-photo-1929611.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image3:"https://images.pexels.com/photos/1682748/pexels-photo-1682748.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image4:"https://images.pexels.com/photos/1374377/pexels-photo-1374377.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},visit:{place1:"Wat Arun",place2:"Jim Thompson's House",place3:"Grand Palace"},restaurant:{restaurant1:"The Sixth - 6 Soi Tha Tien, Maharaj Road. Khet Phra Nakhon area",restaurant2:"Prachak - 1415, Charoen Krung Road, Silom, opposite Robinson's department store",restaurant3:"Charoen Saeng Silom - 492/6 Soi Charoen Krung 49"},flag:"https://images.pexels.com/photos/11262194/pexels-photo-11262194.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",description:"Thailand is a country located in Southeast Asia, known for its beautiful beaches, temples, delicious cuisine, and friendly people. The capital city is Bangkok, which is a bustling metropolis with a rich history and culture. </br> </br>  The official currency of Thailand is the Thai Baht (THB). As of May 2023, 1 US dollar is equivalent to approximately 31 THB. ATMs are widely available throughout the country, and credit cards are widely accepted in major cities and tourist areas. </br> </br> However, it's always a good idea to have some cash on hand for smaller purchases and markets. Thailand has a tropical climate, with high temperatures and humidity throughout the year. </br> </br> The best time to visit is between November and February, when the weather is dry and cool. March to May is the hottest period, while June to October is the rainy season, with occasional typhoons. </br> </br> Food is a major part of Thai culture, and the country is famous for its delicious cuisine. Some must-try dishes include Pad Thai, Tom Yum Goong, Green Curry, Massaman Curry, and Mango Sticky Rice. ",weather:"November and February"}]},{country:"Japan",cities:[{name:"Tokyo",picture:{image1:"https://www.lyonaeroports.com/sites/default/files/2022-07/Tokyo_header.jpg",image2:"https://www.civitatis.com/blog/wp-content/uploads/2022/11/calle-akihabara-tokio.jpg",image3:"https://media.cntraveler.com/photos/62ab85a86df361f5801fd45b/16:9/w_2580,c_limit/Tokyo_GettyImages-1319747119.jpg",image4:"https://lepetitjournal.com/sites/default/files/2020-05/tour-tokyo-coronavirus-japon.jpg"},visit:{place1:"Tsukiji Honganji Temple",place2:"Nightlife in Shinjuku",place3:"Nezu Shrine"},restaurant:{restaurant1:"Uoriki Kaisen Sushi - 2-24-1 Shibuya, Shibuya City, Tokyo 150-0002",restaurant2:"Shin Udon - 2-20-16 1F Soma Bldg., Yoyogi, Shibuya, Tokyo 151-0053",restaurant3:"Yakitori Ton Ton - 2 Chome-1-10 Yurakucho, Chiyoda City, Tokyo 100-0006,"},flag:"https://cdn.shopify.com/s/files/1/0273/3346/0067/files/drapeau-du-japon_1f990ca4-ff6f-47e2-9ce6-70c423273834.jpg?v=1642330819",description:"Japan is a country located in East Asia, known for its unique blend of ancient traditions and modern technology. </br> </br> The capital city is Tokyo, which is one of the world's most populous cities and a center for business, culture, and entertainment.The official currency of Japan is the Japanese Yen (JPY). As of May 2023, 1 US dollar is equivalent to approximately 105 JPY. </br> </br> ATMs are widely available throughout the country, and credit cards are widely accepted in major cities and tourist areas. </br> </br> However, it's always a good idea to have some cash on hand for smaller purchases and markets.Japan has a temperate climate, with four distinct seasons.</br> </br> The best time to visit is in the spring (March to May) or autumn (September to November), when the weather is mild and the scenery is beautiful. Summers can be hot and humid, while winters can be cold and snowy, particularly in the northern regions of the country.",weather:"March and April"}]},{country:"France",cities:[{name:"Paris",picture:{image1:"https://res.klook.com/image/upload/Mobile/City/swox6wjsl5ndvkv5jvum.jpg",image2:"https://images.pexels.com/photos/2363/france-landmark-lights-night.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image3:"https://media.timeout.com/images/105983530/image.jpg",image4:"https://a.cdn-hotels.com/gdcs/production107/d625/d22d2448-0238-4573-b055-6b079e972dbb.jpg?impolicy=fcrop&w=800&h=533&q=medium"},visit:{place1:"Eiffel Tower",place2:"Louvre Museum",place3:"Versailles Palace"},restaurant:{restaurant1:"La Poule Au Pot - 9 rue Vauvilliers, 75001 Paris",restaurant2:"Le Cadoret - 1 Rue Pradier, 75019 Paris",restaurant3:"Le Saint Sebastien - 42 rue Saint Sebastien, 75011 Paris"},flag:"https://images.pexels.com/photos/5781917/pexels-photo-5781917.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",description:"France is a Western European country known for its rich history, culture, cuisine, and stunning landscapes. The official currency used in France is the Euro (EUR). </br> </br> As a tourist destination, France offers a diverse range of experiences, from exploring the cosmopolitan city of Paris, to touring the vineyards of Bordeaux, to lounging on the beaches of the French Riviera. </br> </br> The country is also famous for its art museums, historic landmarks, and world-renowned cuisine. </br> </br> The best time to visit France depends on your interests and preferences. Summer (June to August) is the most popular time to visit, particularly for beach holidays and outdoor activities. However, this is also peak tourist season, so expect crowds and higher prices. Spring (March to May) and autumn (September to November) offer milder weather, fewer crowds, and lower prices. Winter (December to February) can be cold and rainy, but it's also a great time to experience the holiday festivities and winter sports. </br> </br> Overall, France is a must-visit destination for any traveler looking for a mix of culture, history, and stunning scenery.",weather:"June and August"}]},{country:"United Kingdom",cities:[{name:"London",picture:{image1:"https://images.pexels.com/photos/672532/pexels-photo-672532.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image2:"https://images.pexels.com/photos/230794/pexels-photo-230794.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image3:"https://images.pexels.com/photos/813362/pexels-photo-813362.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image4:"https://images.pexels.com/photos/2214035/pexels-photo-2214035.jpeg?auto=compress&cs=tinysrgb&w=1600"},visit:{place1:"Buckingham Palace",place2:"The London Eye",place3:"Westminster Abbey"},restaurant:{restaurant1:"Café Cecilia - 32 Andrews Rd, London E8 4RL",restaurant2:"Quo Vadis - 26-29 Dean Street, London W1D 3LL",restaurant3:"St John Marylebone - 98 Marylebone Ln, London W1U 2QA"},description:"The United Kingdom, commonly referred to as the UK, is a country located in Western Europe. It is composed of four nations: England, Scotland, Wales, and Northern Ireland. </br> </br> The official currency used in the UK is the pound sterling (GBP). </br> </br> As a tourist destination, the UK offers a wealth of cultural and historical attractions, as well as natural wonders. Visitors can explore iconic landmarks such as Buckingham Palace and Big Ben in London, the stunning Scottish Highlands, or the charming countryside villages of the Cotswolds. </br> </br> The best time to visit the UK depends on what you want to see and do. Summer (June to August) is the most popular time to visit, with warmer weather and longer days. </br> </br> However, this is also peak tourist season, so expect larger crowds and higher prices. Spring (March to May) and autumn (September to November) offer milder temperatures, colorful foliage, and fewer crowds. Winter (December to February) can be cold and rainy, but it's also a great time to experience the holiday festivities and winter sports.",flag:"https://cdn.shopify.com/s/files/1/0364/7792/7564/files/drapeau_anglais_angleterre_gratuit_600x600.jpg?v=1663680041",weather:"September and November"}]},{country:"Italy",cities:[{name:"Rome",picture:{image1:"https://images.pexels.com/photos/532263/pexels-photo-532263.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image2:"https://images.pexels.com/photos/753639/pexels-photo-753639.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image3:"https://a.cdn-hotels.com/gdcs/production122/d319/f4b58730-9bea-11e8-a1b5-0242ac110053.jpg",image4:"https://images.pexels.com/photos/2225442/pexels-photo-2225442.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},visit:{place1:"Colosseum",place2:"Roman Forum",place3:"Trevi Fountain"},restaurant:{restaurant1:"Ristorante Dillà - Via Mario de' Fiori, 41, 00187 Roma",restaurant2:"Roscioli Salumeria con Cucina - Via dei Giubbonari, 21, 00186 Roma",restaurant3:"Tonnarello - Via della Paglia, 1/2/3, 00153 Roma"},flag:"https://images.pexels.com/photos/7522/pexels-photo.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",description:"Italy is a country located in Southern Europe known for its rich history, culture, art, and cuisine. The official currency used in Italy is the Euro (EUR). </br> </br> As a tourist destination, Italy offers a diverse range of experiences, from exploring the historic landmarks of Rome, to touring the vineyards of Tuscany, to lounging on the beaches of the Amalfi Coast. </br> </br> The country is also famous for its art museums, ancient ruins, and world-renowned cuisine. The best time to visit Italy depends on your interests and preferences. Summer (June to August) is the most popular time to visit, particularly for beach holidays and outdoor activities. </br> </br> However, this is also peak tourist season, so expect larger crowds and higher prices. Spring (March to May) and autumn (September to November) offer milder weather, fewer crowds, and lower prices. Winter (December to February) can be cold and rainy, but it's also a great time to experience the holiday festivities and winter sports in the mountainous regions.",weather:"March and May"}]},{country:"Australia",cities:[{name:"Canberra",picture:{image1:"https://www.australia-australie.com/wp-content/uploads/2017/01/canberra_06.jpg",image2:"https://cms.canberra.com.au/app/uploads/2022/03/Adam-McGrath-aerial-featured.jpg",image3:"https://www.momondo.fr/rimg/dimg/56/9d/9b34ca4c-city-1417-1643db6d9ad.jpg?width=1366&height=768&xhint=1491&yhint=1160&crop=true",image4:"https://cdn.shopify.com/s/files/1/1223/0772/products/pool-of-reflection-australian-war-memorial-canberra_614afca6-ebbd-4568-b204-97c79d49b255_1200x.jpg?v=1566908262"},visit:{place1:"The Parliament House",place2:"Beijing Garden",place3:"The Australian War Memorial"},restaurant:{restaurant1:"Rebel Rebel - 23 Marcus Clarke St, Acton",restaurant2:"Lilotang - 1 Burbury Cl, Barton",restaurant3:"The Boat House - Grevillea Park, Menindee Dr, Barton"},description:"Australia is a country located in the Southern Hemisphere, famous for its stunning natural landscapes, unique wildlife, and laid-back culture. </br> </br> The official currency used in Australia is the Australian dollar (AUD). As a tourist destination, Australia offers a diverse range of experiences, from exploring the iconic landmarks of Sydney, to snorkeling in the Great Barrier Reef, to hiking in the rugged outback. </br> </br> The country is also famous for its beaches, national parks, and wildlife, including kangaroos, koalas, and wallabies. The best time to visit Australia depends on where you plan to go. The summer months (December to February) are the most popular time to visit, particularly for beach holidays and outdoor activities.</br> </br> However, this is also peak tourist season, so expect larger crowds and higher prices. Autumn (March to May) and spring (September to November) offer milder temperatures and fewer crowds. Winter (June to August) can be cold in some areas, but it's also a great time to experience winter sports in the mountainous regions.",flag:"https://images.pexels.com/photos/1766215/pexels-photo-1766215.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",weather:"September and November"}]},{country:"Egypt",cities:[{name:"Cairo",picture:{image1:"https://images.pexels.com/photos/3873681/pexels-photo-3873681.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image2:"https://images.pexels.com/photos/3243027/pexels-photo-3243027.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image3:"https://images.pexels.com/photos/5609738/pexels-photo-5609738.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image4:"https://images.pexels.com/photos/13420332/pexels-photo-13420332.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},visit:{place1:"The Great Pyramids of Giza",place2:"Al-Azhar Mosque",place3:"Egyptian Museum of Antiquities"},restaurant:{restaurant1:"Fayruz Lebanese Restaurant - InterContinental Cairo Citystars Omar Ibn El Khattab St., Cairo 11511",restaurant2:"Nişantaşi - City Stars Mall Phase 1, Level 5, Cairo 11511",restaurant3:"Al Khal Egyptian Restaurant - InterContinental Cairo Citystars Omar Bin Khattab Street, Cairo 11511"},description:"Egypt is a country located in North Africa and is famous for its rich history and cultural heritage. The official language spoken in Egypt is Arabic, but English is widely spoken in tourist areas. </br> </br> The official currency of Egypt is the Egyptian Pound (EGP). It is advised that tourists exchange their currency at authorized exchange bureaus or banks to avoid counterfeit notes. </br> </br> The best time to visit Egypt is from October to April, as the weather is mild and comfortable. Summers are scorching hot, so it is recommended to avoid visiting during this time. </br> </br> Egypt is home to some of the world's most famous attractions, including the Great Pyramids of Giza, the Sphinx, the Valley of the Kings, and the temples of Luxor and Karnak. </br> </br> The country also has many museums and cultural sites to explore, such as the Egyptian Museum in Cairo, which houses a vast collection of ancient artifacts and treasures.",flag:"https://node01.flagstat.net/media/image/1519r.jpg",weather:"March and April"}]},{country:"Morocco",cities:[{name:"Rabat",picture:{image1:"https://images.pexels.com/photos/12504063/pexels-photo-12504063.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image2:"https://images.pexels.com/photos/2945595/pexels-photo-2945595.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image3:"https://images.pexels.com/photos/9208234/pexels-photo-9208234.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image4:"https://images.pexels.com/photos/10203423/pexels-photo-10203423.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1"},visit:{place1:"Oudaias Kasbah",place2:"Hassan Tower",place3:"Mausoleum of Mohamed V"},restaurant:{restaurant1:"Restaurant Golden Fish - Avenue Imam Malek Impasse, BP 450 Souissi Sofitel Rabat Jardin Des Roses, Rabat 10000",restaurant2:"Cosmopolitan Restaurant - Avenue Ibn Tourmet Angle rue Abbou Abbas El Guerraoui, Rabat 10000",restaurant3:"Ty Potes - 11 Rue Ghafsa, Rabat 10000"},description:"Morocco is a country located in North Africa and is known for its vibrant culture, beautiful landscapes, and delicious cuisine. </br> </br> The official languages spoken in Morocco are Arabic and Berber, but French and English are widely spoken in tourist areas. </br> </br> The official currency of Morocco is the Moroccan Dirham (MAD). It is advised that tourists exchange their currency at authorized exchange bureaus or banks to avoid counterfeit notes. </br> </br> The best time to visit Morocco is from March to May or from September to November when the weather is mild and comfortable. Summers can be extremely hot, so it is recommended to avoid visiting during this time. </br> </br> Morocco is a popular tourist destination with many attractions to explore, including the vibrant city of Marrakesh, the blue-washed town of Chefchaouen, the ancient Roman ruins of Volubilis, and the beautiful beaches of Essaouira. </br> </br> The country also has many souks and markets where tourists can find unique souvenirs and local handicrafts.",flag:"https://media.istockphoto.com/id/1290578898/fr/photo/drapeau-marocain-dans-la-cour-de-la-mosqu%C3%A9e-hassan-ii-%C3%A0-casablanca-maroc.jpg?s=612x612&w=0&k=20&c=2tyqU8c2uXSYlgbMag6QlURG5o5SLmiXyDQXC2U2N4Y=",weather:"June and August"}]},{country:"Chile",cities:[{name:"Santiago",picture:{image1:"https://images.pexels.com/photos/15269467/pexels-photo-15269467.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",image2:"https://images.pexels.com/photos/2017747/pexels-photo-2017747.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",image3:"https://images.pexels.com/photos/14530671/pexels-photo-14530671.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",image4:"https://images.pexels.com/photos/1684166/pexels-photo-1684166.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},visit:{place1:"Spend a morning at one of Santiago's beautiful parks",place2:"Climb Santa Lucia Hill",place3:"Take in Santiago's Plaza de Armas and adjacent Metropolitan Cathedral"},restaurant:{restaurant1:"Boragó - Av. San José María Escrivá de Balaguer 5970, Vitacura, Santiago, 7640804",restaurant2:"99 Restaurante - Andrés de Fuenzalida 99, Providencia, Santiago, 7500000",restaurant3:"Bar La Providencia - Isabel la Católica 4208 , Las Condes, Santiago,"},description:"Chile is a long and narrow country located in South America, known for its natural beauty, diverse landscapes, and vibrant culture. </br> </br> The official language spoken in Chile is Spanish, but English is widely spoken in tourist areas. </br> </br> The official currency of Chile is the Chilean Peso (CLP). It is advised that tourists exchange their currency at authorized exchange bureaus or banks to avoid counterfeit notes. </br> </br> The best time to visit Chile depends on the region. In general, the best time to visit is during the summer months of December to February when the weather is warm and dry. </br> </br> However, the Atacama Desert is a year-round destination, while the ski resorts in the Andes are best visited from June to August.",flag:"https://node01.flagstat.net/media/image/2820r.jpg",weather:"September and February"}]},{country:"Canada",cities:[{name:"Ottawa",picture:{image1:"https://images.pexels.com/photos/7328/building-architecture-historical-tower.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",image2:"https://images.pexels.com/photos/3656756/pexels-photo-3656756.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",image3:"https://images.pexels.com/photos/11412885/pexels-photo-11412885.jpeg",image4:"https://images.pexels.com/photos/208749/pexels-photo-208749.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"},visit:{place1:"Parliament Hill and Parliament Buildings",place2:"Rideau Canal National Historic Site",place3:"Notre-Dame Cathedral Basilica"},restaurant:{restaurant1:"Perch - 300 Preston St 1, Ottawa, ON K1R 7R6",restaurant2:"Restaurant e18hteen - 18 York St, Ottawa, ON K1N 5T5",restaurant3:"Stolen Goods Cocktail Bar - 106 Sparks St., Ottawa, ON K1P 5C7"},description:"Canada is a country located in North America, known for its diverse landscapes, multicultural cities, and friendly people. The official languages spoken in Canada are English and French. </br> </br> The official currency of Canada is the Canadian Dollar (CAD). It is advised that tourists exchange their currency at authorized exchange bureaus or banks to avoid counterfeit notes. </br> </br> The best time to visit Canada depends on the region. In general, the best time to visit is during the summer months of June to August when the weather is warm and pleasant. </br> </br> However, the ski resorts in the Rocky Mountains are best visited from December to March. Canada has many attractions to explore, including the stunning natural landscapes of Banff National Park, the multicultural city of Toronto, the historic city of Quebec, and the charming fishing villages of the East Coast. </br> </br> The country also has many museums and cultural sites to explore, such as the Canadian Museum of History in Ottawa, which showcases the country's rich history and heritage.",flag:"https://images.pexels.com/photos/3744699/pexels-photo-3744699.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",weather:"March and May, September and November"}]}];function NT(e=[],t=[],n=""){let i=[];if(e){const r=t.map(o=>o[n].toLowerCase());i=e.filter(o=>r.includes(o.name.common.toLowerCase()))}return i}function IT(e=[],t=[],n="cities"){let i=[];return e&&(i=e.map((r,o)=>{const s=o+1,[a]=t.filter(l=>l.country.toLowerCase()===r.name.common.toLowerCase());return{...r,id:s,[n]:a[n]}})),i}function Z4(e=[]){let t=[];return e.length>=0&&(t=e.map(n=>({id:n.id,city:n.cities[0].name,color:"red",coordinates:n.capitalInfo.latlng,value:100}))),t}var mv={exports:{}},us={},kT={exports:{}},K4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Q4=K4,ez=Q4;function FT(){}function BT(){}BT.resetWarningCache=FT;var tz=function(){function e(i,r,o,s,a,l){if(l!==ez){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:BT,resetWarningCache:FT};return n.PropTypes=n,n};kT.exports=tz();var zT=kT.exports,gv={exports:{}},Ei={},yv={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",i="contents",r=/input|select|textarea|button|object|iframe/;function o(f,h){return h.getPropertyValue("overflow")!=="visible"||f.scrollWidth<=0&&f.scrollHeight<=0}function s(f){var h=f.offsetWidth<=0&&f.offsetHeight<=0;if(h&&!f.innerHTML)return!0;try{var d=window.getComputedStyle(f),m=d.getPropertyValue("display");return h?m!==i&&o(f,d):m===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(f){for(var h=f,d=f.getRootNode&&f.getRootNode();h&&h!==document.body;){if(d&&h===d&&(h=d.host.parentNode),s(h))return!1;h=h.parentNode}return!0}function l(f,h){var d=f.nodeName.toLowerCase(),m=r.test(d)&&!f.disabled||d==="a"&&f.href||h;return m&&a(f)}function c(f){var h=f.getAttribute("tabindex");h===null&&(h=void 0);var d=isNaN(h);return(d||h>=0)&&l(f,!d)}function u(f){var h=[].slice.call(f.querySelectorAll("*"),0).reduce(function(d,m){return d.concat(m.shadowRoot?u(m.shadowRoot):[m])},[]);return h.filter(c)}e.exports=t.default})(yv,yv.exports);var UT=yv.exports;Object.defineProperty(Ei,"__esModule",{value:!0});Ei.resetState=oz;Ei.log=sz;Ei.handleBlur=yu;Ei.handleFocus=vu;Ei.markForFocusLater=az;Ei.returnFocus=lz;Ei.popWithoutFocus=cz;Ei.setupScopedFocus=uz;Ei.teardownScopedFocus=fz;var nz=UT,iz=rz(nz);function rz(e){return e&&e.__esModule?e:{default:e}}var Ja=[],ia=null,vv=!1;function oz(){Ja=[]}function sz(){}function yu(){vv=!0}function vu(){if(vv){if(vv=!1,!ia)return;setTimeout(function(){if(!ia.contains(document.activeElement)){var e=(0,iz.default)(ia)[0]||ia;e.focus()}},0)}}function az(){Ja.push(document.activeElement)}function lz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=null;try{Ja.length!==0&&(t=Ja.pop(),t.focus({preventScroll:e}));return}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}}function cz(){Ja.length>0&&Ja.pop()}function uz(e){ia=e,window.addEventListener?(window.addEventListener("blur",yu,!1),document.addEventListener("focus",vu,!0)):(window.attachEvent("onBlur",yu),document.attachEvent("onFocus",vu))}function fz(){ia=null,window.addEventListener?(window.removeEventListener("blur",yu),document.removeEventListener("focus",vu)):(window.detachEvent("onBlur",yu),document.detachEvent("onFocus",vu))}var xv={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=UT,i=r(n);function r(a){return a&&a.__esModule?a:{default:a}}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?o(a.activeElement.shadowRoot):a.activeElement}function s(a,l){var c=(0,i.default)(a);if(!c.length){l.preventDefault();return}var u=void 0,f=l.shiftKey,h=c[0],d=c[c.length-1],m=o();if(a===m){if(!f)return;u=d}if(d===m&&!f&&(u=h),h===m&&f&&(u=d),u){l.preventDefault(),u.focus();return}var v=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),x=v!=null&&v[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(x){var p=c.indexOf(m);if(p>-1&&(p+=f?-1:1),u=c[p],typeof u>"u"){l.preventDefault(),u=f?d:h,u.focus();return}l.preventDefault(),u.focus()}}e.exports=t.default})(xv,xv.exports);var hz=xv.exports,Si={},dz=function(){},pz=dz,bi={},HT={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(e){(function(){var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen};e.exports?e.exports=n:window.ExecutionEnvironment=n})()})(HT);var mz=HT.exports;Object.defineProperty(bi,"__esModule",{value:!0});bi.canUseDOM=bi.SafeNodeList=bi.SafeHTMLCollection=void 0;var gz=mz,yz=vz(gz);function vz(e){return e&&e.__esModule?e:{default:e}}var Np=yz.default,xz=Np.canUseDOM?window.HTMLElement:{};bi.SafeHTMLCollection=Np.canUseDOM?window.HTMLCollection:{};bi.SafeNodeList=Np.canUseDOM?window.NodeList:{};bi.canUseDOM=Np.canUseDOM;bi.default=xz;Object.defineProperty(Si,"__esModule",{value:!0});Si.resetState=Ez;Si.log=Sz;Si.assertNodeList=GT;Si.setElement=Tz;Si.validateElement=Q0;Si.hide=Az;Si.show=Pz;Si.documentNotReadyOrSSRTesting=Cz;var wz=pz,_z=Mz(wz),bz=bi;function Mz(e){return e&&e.__esModule?e:{default:e}}var Hn=null;function Ez(){Hn&&(Hn.removeAttribute?Hn.removeAttribute("aria-hidden"):Hn.length!=null?Hn.forEach(function(e){return e.removeAttribute("aria-hidden")}):document.querySelectorAll(Hn).forEach(function(e){return e.removeAttribute("aria-hidden")})),Hn=null}function Sz(){}function GT(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function Tz(e){var t=e;if(typeof t=="string"&&bz.canUseDOM){var n=document.querySelectorAll(t);GT(n,t),t=n}return Hn=t||Hn,Hn}function Q0(e){var t=e||Hn;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,_z.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function Az(e){var t=!0,n=!1,i=void 0;try{for(var r=Q0(e)[Symbol.iterator](),o;!(t=(o=r.next()).done);t=!0){var s=o.value;s.setAttribute("aria-hidden","true")}}catch(a){n=!0,i=a}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}function Pz(e){var t=!0,n=!1,i=void 0;try{for(var r=Q0(e)[Symbol.iterator](),o;!(t=(o=r.next()).done);t=!0){var s=o.value;s.removeAttribute("aria-hidden")}}catch(a){n=!0,i=a}finally{try{!t&&r.return&&r.return()}finally{if(n)throw i}}}function Cz(){Hn=null}var al={};Object.defineProperty(al,"__esModule",{value:!0});al.resetState=Lz;al.log=Rz;var oc={},sc={};function Yb(e,t){e.classList.remove(t)}function Lz(){var e=document.getElementsByTagName("html")[0];for(var t in oc)Yb(e,oc[t]);var n=document.body;for(var i in sc)Yb(n,sc[i]);oc={},sc={}}function Rz(){}var Oz=function(t,n){return t[n]||(t[n]=0),t[n]+=1,n},Dz=function(t,n){return t[n]&&(t[n]-=1),n},Nz=function(t,n,i){i.forEach(function(r){Oz(n,r),t.add(r)})},Iz=function(t,n,i){i.forEach(function(r){Dz(n,r),n[r]===0&&t.remove(r)})};al.add=function(t,n){return Nz(t.classList,t.nodeName.toLowerCase()=="html"?oc:sc,n.split(" "))};al.remove=function(t,n){return Iz(t.classList,t.nodeName.toLowerCase()=="html"?oc:sc,n.split(" "))};var ll={};Object.defineProperty(ll,"__esModule",{value:!0});ll.log=Fz;ll.resetState=Bz;function kz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var VT=function e(){var t=this;kz(this,e),this.register=function(n){t.openInstances.indexOf(n)===-1&&(t.openInstances.push(n),t.emit("register"))},this.deregister=function(n){var i=t.openInstances.indexOf(n);i!==-1&&(t.openInstances.splice(i,1),t.emit("deregister"))},this.subscribe=function(n){t.subscribers.push(n)},this.emit=function(n){t.subscribers.forEach(function(i){return i(n,t.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Xd=new VT;function Fz(){console.log("portalOpenInstances ----------"),console.log(Xd.openInstances.length),Xd.openInstances.forEach(function(e){return console.log(e)}),console.log("end portalOpenInstances ----------")}function Bz(){Xd=new VT}ll.default=Xd;var ex={};Object.defineProperty(ex,"__esModule",{value:!0});ex.resetState=Gz;ex.log=Vz;var zz=ll,Uz=Hz(zz);function Hz(e){return e&&e.__esModule?e:{default:e}}var Zt=void 0,hi=void 0,Yo=[];function Gz(){for(var e=[Zt,hi],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}Zt=hi=null,Yo=[]}function Vz(){console.log("bodyTrap ----------"),console.log(Yo.length);for(var e=[Zt,hi],t=0;t<e.length;t++){var n=e[t],i=n||{};console.log(i.nodeName,i.className,i.id)}console.log("edn bodyTrap ----------")}function Jb(){Yo.length!==0&&Yo[Yo.length-1].focusContent()}function Wz(e,t){!Zt&&!hi&&(Zt=document.createElement("div"),Zt.setAttribute("data-react-modal-body-trap",""),Zt.style.position="absolute",Zt.style.opacity="0",Zt.setAttribute("tabindex","0"),Zt.addEventListener("focus",Jb),hi=Zt.cloneNode(),hi.addEventListener("focus",Jb)),Yo=t,Yo.length>0?(document.body.firstChild!==Zt&&document.body.insertBefore(Zt,document.body.firstChild),document.body.lastChild!==hi&&document.body.appendChild(hi)):(Zt.parentElement&&Zt.parentElement.removeChild(Zt),hi.parentElement&&hi.parentElement.removeChild(hi))}Uz.default.subscribe(Wz);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(P){for(var C=1;C<arguments.length;C++){var B=arguments[C];for(var L in B)Object.prototype.hasOwnProperty.call(B,L)&&(P[L]=B[L])}return P},i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},r=function(){function P(C,B){for(var L=0;L<B.length;L++){var I=B[L];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(C,I.key,I)}}return function(C,B,L){return B&&P(C.prototype,B),L&&P(C,L),C}}(),o=j,s=zT,a=_(s),l=Ei,c=y(l),u=hz,f=_(u),h=Si,d=y(h),m=al,v=y(m),x=bi,p=_(x),g=ll,w=_(g);function y(P){if(P&&P.__esModule)return P;var C={};if(P!=null)for(var B in P)Object.prototype.hasOwnProperty.call(P,B)&&(C[B]=P[B]);return C.default=P,C}function _(P){return P&&P.__esModule?P:{default:P}}function b(P,C){if(!(P instanceof C))throw new TypeError("Cannot call a class as a function")}function M(P,C){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:P}function N(P,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);P.prototype=Object.create(C&&C.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(P,C):P.__proto__=C)}var S={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},U=function(C){return C.code==="Tab"||C.keyCode===9},R=function(C){return C.code==="Escape"||C.keyCode===27},F=0,k=function(P){N(C,P);function C(B){b(this,C);var L=M(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,B));return L.setOverlayRef=function(I){L.overlay=I,L.props.overlayRef&&L.props.overlayRef(I)},L.setContentRef=function(I){L.content=I,L.props.contentRef&&L.props.contentRef(I)},L.afterClose=function(){var I=L.props,H=I.appElement,W=I.ariaHideApp,ee=I.htmlOpenClassName,ce=I.bodyOpenClassName,ge=I.parentSelector,Re=ge&&ge().ownerDocument||document;ce&&v.remove(Re.body,ce),ee&&v.remove(Re.getElementsByTagName("html")[0],ee),W&&F>0&&(F-=1,F===0&&d.show(H)),L.props.shouldFocusAfterRender&&(L.props.shouldReturnFocusAfterClose?(c.returnFocus(L.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),L.props.onAfterClose&&L.props.onAfterClose(),w.default.deregister(L)},L.open=function(){L.beforeOpen(),L.state.afterOpen&&L.state.beforeClose?(clearTimeout(L.closeTimer),L.setState({beforeClose:!1})):(L.props.shouldFocusAfterRender&&(c.setupScopedFocus(L.node),c.markForFocusLater()),L.setState({isOpen:!0},function(){L.openAnimationFrame=requestAnimationFrame(function(){L.setState({afterOpen:!0}),L.props.isOpen&&L.props.onAfterOpen&&L.props.onAfterOpen({overlayEl:L.overlay,contentEl:L.content})})}))},L.close=function(){L.props.closeTimeoutMS>0?L.closeWithTimeout():L.closeWithoutTimeout()},L.focusContent=function(){return L.content&&!L.contentHasFocus()&&L.content.focus({preventScroll:!0})},L.closeWithTimeout=function(){var I=Date.now()+L.props.closeTimeoutMS;L.setState({beforeClose:!0,closesAt:I},function(){L.closeTimer=setTimeout(L.closeWithoutTimeout,L.state.closesAt-Date.now())})},L.closeWithoutTimeout=function(){L.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},L.afterClose)},L.handleKeyDown=function(I){U(I)&&(0,f.default)(L.content,I),L.props.shouldCloseOnEsc&&R(I)&&(I.stopPropagation(),L.requestClose(I))},L.handleOverlayOnClick=function(I){L.shouldClose===null&&(L.shouldClose=!0),L.shouldClose&&L.props.shouldCloseOnOverlayClick&&(L.ownerHandlesClose()?L.requestClose(I):L.focusContent()),L.shouldClose=null},L.handleContentOnMouseUp=function(){L.shouldClose=!1},L.handleOverlayOnMouseDown=function(I){!L.props.shouldCloseOnOverlayClick&&I.target==L.overlay&&I.preventDefault()},L.handleContentOnClick=function(){L.shouldClose=!1},L.handleContentOnMouseDown=function(){L.shouldClose=!1},L.requestClose=function(I){return L.ownerHandlesClose()&&L.props.onRequestClose(I)},L.ownerHandlesClose=function(){return L.props.onRequestClose},L.shouldBeClosed=function(){return!L.state.isOpen&&!L.state.beforeClose},L.contentHasFocus=function(){return document.activeElement===L.content||L.content.contains(document.activeElement)},L.buildClassName=function(I,H){var W=(typeof H>"u"?"undefined":i(H))==="object"?H:{base:S[I],afterOpen:S[I]+"--after-open",beforeClose:S[I]+"--before-close"},ee=W.base;return L.state.afterOpen&&(ee=ee+" "+W.afterOpen),L.state.beforeClose&&(ee=ee+" "+W.beforeClose),typeof H=="string"&&H?ee+" "+H:ee},L.attributesFromObject=function(I,H){return Object.keys(H).reduce(function(W,ee){return W[I+"-"+ee]=H[ee],W},{})},L.state={afterOpen:!1,beforeClose:!1},L.shouldClose=null,L.moveFromContentToOverlay=null,L}return r(C,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(L,I){this.props.isOpen&&!L.isOpen?this.open():!this.props.isOpen&&L.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!I.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var L=this.props,I=L.appElement,H=L.ariaHideApp,W=L.htmlOpenClassName,ee=L.bodyOpenClassName,ce=L.parentSelector,ge=ce&&ce().ownerDocument||document;ee&&v.add(ge.body,ee),W&&v.add(ge.getElementsByTagName("html")[0],W),H&&(F+=1,d.hide(I)),w.default.register(this)}},{key:"render",value:function(){var L=this.props,I=L.id,H=L.className,W=L.overlayClassName,ee=L.defaultStyles,ce=L.children,ge=H?{}:ee.content,Re=W?{}:ee.overlay;if(this.shouldBeClosed())return null;var Se={ref:this.setOverlayRef,className:this.buildClassName("overlay",W),style:n({},Re,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Y=n({id:I,ref:this.setContentRef,style:n({},ge,this.props.style.content),className:this.buildClassName("content",H),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),We=this.props.contentElement(Y,ce);return this.props.overlayElement(Se,We)}}]),C}(o.Component);k.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},k.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(p.default),a.default.instanceOf(x.SafeHTMLCollection),a.default.instanceOf(x.SafeNodeList),a.default.arrayOf(a.default.instanceOf(p.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=k,e.exports=t.default})(gv,gv.exports);var jz=gv.exports;function WT(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function jT(e){function t(n){var i=this.constructor.getDerivedStateFromProps(e,n);return i??null}this.setState(t.bind(this))}function qT(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}WT.__suppressDeprecationWarning=!0;jT.__suppressDeprecationWarning=!0;qT.__suppressDeprecationWarning=!0;function qz(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var n=null,i=null,r=null;if(typeof t.componentWillMount=="function"?n="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?i="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(i="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?r="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(r="UNSAFE_componentWillUpdate"),n!==null||i!==null||r!==null){var o=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+(r!==null?`
  `+r:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=WT,t.componentWillReceiveProps=jT),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=qT;var a=t.componentDidUpdate;t.componentDidUpdate=function(c,u,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;a.call(this,c,u,h)}}return e}const $z=Object.freeze(Object.defineProperty({__proto__:null,polyfill:qz},Symbol.toStringTag,{value:"Module"})),Xz=t2($z);Object.defineProperty(us,"__esModule",{value:!0});us.bodyOpenClassName=us.portalClassName=void 0;var Zb=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yz=function(){function e(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),$T=j,Yd=Bu($T),Jz=bE,Jd=Bu(Jz),Zz=zT,Fe=Bu(Zz),Kz=jz,Kb=Bu(Kz),Qz=Si,eU=nU(Qz),Yr=bi,Qb=Bu(Yr),tU=Xz;function nU(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function Bu(e){return e&&e.__esModule?e:{default:e}}function iU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e1(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function rU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var oU=us.portalClassName="ReactModalPortal",sU=us.bodyOpenClassName="ReactModal__Body--open",ko=Yr.canUseDOM&&Jd.default.createPortal!==void 0,t1=function(t){return document.createElement(t)},n1=function(){return ko?Jd.default.createPortal:Jd.default.unstable_renderSubtreeIntoContainer};function ih(e){return e()}var zu=function(e){rU(t,e);function t(){var n,i,r,o;iU(this,t);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(i=(r=e1(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this].concat(a))),r),r.removePortal=function(){!ko&&Jd.default.unmountComponentAtNode(r.node);var c=ih(r.props.parentSelector);c&&c.contains(r.node)?c.removeChild(r.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},r.portalRef=function(c){r.portal=c},r.renderPortal=function(c){var u=n1(),f=u(r,Yd.default.createElement(Kb.default,Zb({defaultStyles:t.defaultStyles},c)),r.node);r.portalRef(f)},i),e1(r,o)}return Yz(t,[{key:"componentDidMount",value:function(){if(Yr.canUseDOM){ko||(this.node=t1("div")),this.node.className=this.props.portalClassName;var i=ih(this.props.parentSelector);i.appendChild(this.node),!ko&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(i){var r=ih(i.parentSelector),o=ih(this.props.parentSelector);return{prevParent:r,nextParent:o}}},{key:"componentDidUpdate",value:function(i,r,o){if(Yr.canUseDOM){var s=this.props,a=s.isOpen,l=s.portalClassName;i.portalClassName!==l&&(this.node.className=l);var c=o.prevParent,u=o.nextParent;u!==c&&(c.removeChild(this.node),u.appendChild(this.node)),!(!i.isOpen&&!a)&&!ko&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Yr.canUseDOM||!this.node||!this.portal)){var i=this.portal.state,r=Date.now(),o=i.isOpen&&this.props.closeTimeoutMS&&(i.closesAt||r+this.props.closeTimeoutMS);o?(i.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-r)):this.removePortal()}}},{key:"render",value:function(){if(!Yr.canUseDOM||!ko)return null;!this.node&&ko&&(this.node=t1("div"));var i=n1();return i(Yd.default.createElement(Kb.default,Zb({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(i){eU.setElement(i)}}]),t}($T.Component);zu.propTypes={isOpen:Fe.default.bool.isRequired,style:Fe.default.shape({content:Fe.default.object,overlay:Fe.default.object}),portalClassName:Fe.default.string,bodyOpenClassName:Fe.default.string,htmlOpenClassName:Fe.default.string,className:Fe.default.oneOfType([Fe.default.string,Fe.default.shape({base:Fe.default.string.isRequired,afterOpen:Fe.default.string.isRequired,beforeClose:Fe.default.string.isRequired})]),overlayClassName:Fe.default.oneOfType([Fe.default.string,Fe.default.shape({base:Fe.default.string.isRequired,afterOpen:Fe.default.string.isRequired,beforeClose:Fe.default.string.isRequired})]),appElement:Fe.default.oneOfType([Fe.default.instanceOf(Qb.default),Fe.default.instanceOf(Yr.SafeHTMLCollection),Fe.default.instanceOf(Yr.SafeNodeList),Fe.default.arrayOf(Fe.default.instanceOf(Qb.default))]),onAfterOpen:Fe.default.func,onRequestClose:Fe.default.func,closeTimeoutMS:Fe.default.number,ariaHideApp:Fe.default.bool,shouldFocusAfterRender:Fe.default.bool,shouldCloseOnOverlayClick:Fe.default.bool,shouldReturnFocusAfterClose:Fe.default.bool,preventScroll:Fe.default.bool,parentSelector:Fe.default.func,aria:Fe.default.object,data:Fe.default.object,role:Fe.default.string,contentLabel:Fe.default.string,shouldCloseOnEsc:Fe.default.bool,overlayRef:Fe.default.func,contentRef:Fe.default.func,id:Fe.default.string,overlayElement:Fe.default.func,contentElement:Fe.default.func};zu.defaultProps={isOpen:!1,portalClassName:oU,bodyOpenClassName:sU,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(t,n){return Yd.default.createElement("div",t,n)},contentElement:function(t,n){return Yd.default.createElement("div",t,n)}};zu.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,tU.polyfill)(zu);us.default=zu;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=us,i=r(n);function r(o){return o&&o.__esModule?o:{default:o}}t.default=i.default,e.exports=t.default})(mv,mv.exports);var aU=mv.exports;const XT=l1(aU);XT.setAppElement("#root");function lU({open:e,label:t,overlayCSS:n,contentCSS:i,closeModal:r,children:o}){return V.jsx(XT,{isOpen:e,contentLabel:t,overlayClassName:n,className:i,onRequestClose:r,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0,children:o})}function rh(e){return Math.random()>.5?e*Math.random():-e*Math.random()}const i1="#b91c1c",cU="#f87171";function uU(e){const t=Math.max(e.value/20,1),n=new Bi(t,10,10),i=new cn({color:new me(i1)}),r=new Je(n,i),o=new iu(i1,2,0,0);r.children=[],r.add(o);const s=[];for(let a=0;a<10;a++){const l=new Bi(Math.min(t*Math.random()/2,1),10,10),c=new cn({color:new me(cU)}),u=new Je(l,c);u.lookAt(new E(0,0,0)),s.push(u),r.add(u)}return s.forEach((a,l)=>{function c(){const u={opacity:.1,position:a.position.clone().toArray(),scale:Math.max(.5,Math.random())},f={opacity:.5,position:[rh(t*3),rh(t*3),rh(t)],scale:.01};new zn(u).to(f,4e3).easing(ua.Quadratic.InOut).delay(l*200).on("update",()=>{const[d,m,v]=u.position,x=a.material,p=rh(.05);o.intensity+p>0&&o.intensity+p<1.5&&(o.intensity+=p),x.opacity=u.opacity,a.scale.x=u.scale,a.scale.y=u.scale,a.scale.z=u.scale,a.position.set(d,m,v)}).on("complete",c).start()}c()}),r}function fU(){const e="https://restcountries.com/v3.1",t=OE(),n={markerRenderer:uU,markerTooltipRenderer:p=>`${p.city}`},[i,r]=j.useState(!1),[o,s]=j.useState(!1),[a,l]=j.useState([]),[c,u]=j.useState([]),[f,h]=j.useState({});j.useEffect(()=>{const p=new AbortController,{signal:g}=p;let w=[],y=[];return eS.get(e+"/all",{signal:g}).then(_=>{w=NT(_.data,gu,"country"),y=IT(w,gu,"cities"),l(y)}).catch(_=>{console.error(`Error when retrieving data from API: ${_.message}`)}).finally(()=>r(!1)),function(){p.abort()}},[]),j.useEffect(()=>{a.length>0&&localStorage.setItem("destinations",JSON.stringify(a)),u(Z4(a))},[a]);const d=()=>s(!0),m=()=>s(!1),v=()=>{t(`/destinations/${f.id}`),m()},x=p=>{a&&h(a.find(g=>g.id===p.id))};return V.jsxs("section",{className:"grid h-full grid-cols-1 grid-rows-[auto_1fr_auto] bg-cover bg-no-repeat px-4 md:grid-cols-2 md:grid-rows-[auto_1fr]",style:{backgroundImage:`url(${J4})`},children:[V.jsx("h1",{className:"text-center md:col-span-2",children:"Find your next holidays destination!"}),i?V.jsx("p",{children:" Loading..."}):null,!i&&a?V.jsxs("div",{className:"grid h-full grid-cols-1 grid-rows-[2fr_1fr] md:col-span-2 md:flex md:grid-rows-[auto] md:flex-wrap",children:[V.jsx("span",{className:"flex items-center justify-center md:h-4/5 xl:h-full",children:V.jsx(Y4,{globeBackgroundTexture:null,cameraAutoRotateSpeed:"0.01",height:"85%",width:"100vw",markers:c,onClickMarker:p=>{x(p),d(),dispatch({type:"FOCUS",payload:p})},options:n,className:"globe"})}),f.name?V.jsx("div",{className:"relative flex grow items-center justify-center md:basis-1/3",children:V.jsxs(lU,{open:o,label:"Modal",overlayCSS:"modal__overlay",contentCSS:"modal__content",closeModal:m,children:[V.jsx("h2",{children:f.capital}),V.jsxs("p",{children:[f.flag,f.name.common," (",f.cioc,")"]}),V.jsxs("p",{children:[f.region," | ",f.subregion]}),V.jsx("button",{type:"button",className:"button mt-2 rounded-full border px-4 py-2 text-sm",onClick:v,children:"See More"}),V.jsx("button",{type:"button",className:"absolute right-2 top-2",onClick:m,children:"❌"})]})}):null]}):null]})}const hU="/holifun/assets/background-404-7bad3fd0.jpg";function dU(){return V.jsxs("section",{className:"flex h-full flex-col items-center justify-center gap-6 bg-cover bg-no-repeat text-center",style:{backgroundImage:`url(${hU})`},children:[V.jsxs("div",{className:"flex items-center gap-4",children:[V.jsx("p",{className:"text-9xl",children:"4"}),V.jsx("div",{className:"wrapper max-h-[150px] max-w-[150px]",children:V.jsx("img",{src:"/assets/images/cocktail.png",alt:"cocktail",className:"inline-block max-w-full object-cover"})}),V.jsx("p",{className:"text-9xl",children:"4"})]}),V.jsx("p",{className:"text-xl md:text-2xl",children:"Oops... Already on vacations ⛱️ "}),V.jsx("p",{className:"text-xl md:text-2xl",children:"What about you?"}),V.jsx(Bo,{className:"mx-auto flex w-fit rounded-full border-2 border-none bg-cyan-500 px-12 py-3 text-lg text-neutral-50",to:"/",children:"Find A Destination"})]})}function YT(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=YT(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function Jr(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=YT(e))&&(i&&(i+=" "),i+=t);return i}const ac=e=>typeof e=="number"&&!isNaN(e),fs=e=>typeof e=="string",yn=e=>typeof e=="function",Ph=e=>fs(e)||yn(e)?e:null,rg=e=>j.isValidElement(e)||fs(e)||yn(e)||ac(e);function pU(e,t,n){n===void 0&&(n=300);const{scrollHeight:i,style:r}=e;requestAnimationFrame(()=>{r.minHeight="initial",r.height=i+"px",r.transition=`all ${n}ms`,requestAnimationFrame(()=>{r.height="0",r.padding="0",r.margin="0",setTimeout(t,n)})})}function Ip(e){let{enter:t,exit:n,appendPosition:i=!1,collapse:r=!0,collapseDuration:o=300}=e;return function(s){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:f,isIn:h}=s;const d=i?`${t}--${l}`:t,m=i?`${n}--${l}`:n,v=j.useRef(0);return j.useLayoutEffect(()=>{const x=f.current,p=d.split(" "),g=w=>{w.target===f.current&&(x.dispatchEvent(new Event("d")),x.removeEventListener("animationend",g),x.removeEventListener("animationcancel",g),v.current===0&&w.type!=="animationcancel"&&x.classList.remove(...p))};x.classList.add(...p),x.addEventListener("animationend",g),x.addEventListener("animationcancel",g)},[]),j.useEffect(()=>{const x=f.current,p=()=>{x.removeEventListener("animationend",p),r?pU(x,u,o):u()};h||(c?p():(v.current=1,x.className+=` ${m}`,x.addEventListener("animationend",p)))},[h]),tt.createElement(tt.Fragment,null,a)}}function r1(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}const Gn={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter(i=>i!==t);return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const n=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)})}},oh=e=>{let{theme:t,type:n,...i}=e;return tt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},og={info:function(e){return tt.createElement(oh,{...e},tt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return tt.createElement(oh,{...e},tt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return tt.createElement(oh,{...e},tt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return tt.createElement(oh,{...e},tt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return tt.createElement("div",{className:"Toastify__spinner"})}};function mU(e){const[,t]=j.useReducer(d=>d+1,0),[n,i]=j.useState([]),r=j.useRef(null),o=j.useRef(new Map).current,s=d=>n.indexOf(d)!==-1,a=j.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:s,getToast:d=>o.get(d)}).current;function l(d){let{containerId:m}=d;const{limit:v}=a.props;!v||m&&a.containerId!==m||(a.count-=a.queue.length,a.queue=[])}function c(d){i(m=>d==null?[]:m.filter(v=>v!==d))}function u(){const{toastContent:d,toastProps:m,staleId:v}=a.queue.shift();h(d,m,v)}function f(d,m){let{delay:v,staleId:x,...p}=m;if(!rg(d)||function(F){return!r.current||a.props.enableMultiContainer&&F.containerId!==a.props.containerId||o.has(F.toastId)&&F.updateId==null}(p))return;const{toastId:g,updateId:w,data:y}=p,{props:_}=a,b=()=>c(g),M=w==null;M&&a.count++;const N={..._,style:_.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(p).filter(F=>{let[k,P]=F;return P!=null})),toastId:g,updateId:w,data:y,closeToast:b,isIn:!1,className:Ph(p.className||_.toastClassName),bodyClassName:Ph(p.bodyClassName||_.bodyClassName),progressClassName:Ph(p.progressClassName||_.progressClassName),autoClose:!p.isLoading&&(S=p.autoClose,U=_.autoClose,S===!1||ac(S)&&S>0?S:U),deleteToast(){const F=r1(o.get(g),"removed");o.delete(g),Gn.emit(4,F);const k=a.queue.length;if(a.count=g==null?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),k>0){const P=g==null?a.props.limit:1;if(k===1||P===1)a.displayedToast++,u();else{const C=P>k?k:P;a.displayedToast=C;for(let B=0;B<C;B++)u()}}else t()}};var S,U;N.iconOut=function(F){let{theme:k,type:P,isLoading:C,icon:B}=F,L=null;const I={theme:k,type:P};return B===!1||(yn(B)?L=B(I):j.isValidElement(B)?L=j.cloneElement(B,I):fs(B)||ac(B)?L=B:C?L=og.spinner():(H=>H in og)(P)&&(L=og[P](I))),L}(N),yn(p.onOpen)&&(N.onOpen=p.onOpen),yn(p.onClose)&&(N.onClose=p.onClose),N.closeButton=_.closeButton,p.closeButton===!1||rg(p.closeButton)?N.closeButton=p.closeButton:p.closeButton===!0&&(N.closeButton=!rg(_.closeButton)||_.closeButton);let R=d;j.isValidElement(d)&&!fs(d.type)?R=j.cloneElement(d,{closeToast:b,toastProps:N,data:y}):yn(d)&&(R=d({closeToast:b,toastProps:N,data:y})),_.limit&&_.limit>0&&a.count>_.limit&&M?a.queue.push({toastContent:R,toastProps:N,staleId:x}):ac(v)?setTimeout(()=>{h(R,N,x)},v):h(R,N,x)}function h(d,m,v){const{toastId:x}=m;v&&o.delete(v);const p={content:d,props:m};o.set(x,p),i(g=>[...g,x].filter(w=>w!==v)),Gn.emit(4,r1(p,p.props.updateId==null?"added":"updated"))}return j.useEffect(()=>(a.containerId=e.containerId,Gn.cancelEmit(3).on(0,f).on(1,d=>r.current&&c(d)).on(5,l).emit(2,a),()=>{o.clear(),Gn.emit(3,a)}),[]),j.useEffect(()=>{a.props=e,a.isToastActive=s,a.displayedToast=n.length}),{getToastToRender:function(d){const m=new Map,v=Array.from(o.values());return e.newestOnTop&&v.reverse(),v.forEach(x=>{const{position:p}=x.props;m.has(p)||m.set(p,[]),m.get(p).push(x)}),Array.from(m,x=>d(x[0],x[1]))},containerRef:r,isToastActive:s}}function o1(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function s1(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function gU(e){const[t,n]=j.useState(!1),[i,r]=j.useState(!1),o=j.useRef(null),s=j.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=j.useRef(e),{autoClose:l,pauseOnHover:c,closeToast:u,onClick:f,closeOnClick:h}=e;function d(y){if(e.draggable){y.nativeEvent.type==="touchstart"&&y.nativeEvent.preventDefault(),s.didMove=!1,document.addEventListener("mousemove",p),document.addEventListener("mouseup",g),document.addEventListener("touchmove",p),document.addEventListener("touchend",g);const _=o.current;s.canCloseOnClick=!0,s.canDrag=!0,s.boundingRect=_.getBoundingClientRect(),_.style.transition="",s.x=o1(y.nativeEvent),s.y=s1(y.nativeEvent),e.draggableDirection==="x"?(s.start=s.x,s.removalDistance=_.offsetWidth*(e.draggablePercent/100)):(s.start=s.y,s.removalDistance=_.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(y){if(s.boundingRect){const{top:_,bottom:b,left:M,right:N}=s.boundingRect;y.nativeEvent.type!=="touchend"&&e.pauseOnHover&&s.x>=M&&s.x<=N&&s.y>=_&&s.y<=b?x():v()}}function v(){n(!0)}function x(){n(!1)}function p(y){const _=o.current;s.canDrag&&_&&(s.didMove=!0,t&&x(),s.x=o1(y),s.y=s1(y),s.delta=e.draggableDirection==="x"?s.x-s.start:s.y-s.start,s.start!==s.x&&(s.canCloseOnClick=!1),_.style.transform=`translate${e.draggableDirection}(${s.delta}px)`,_.style.opacity=""+(1-Math.abs(s.delta/s.removalDistance)))}function g(){document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",p),document.removeEventListener("touchend",g);const y=o.current;if(s.canDrag&&s.didMove&&y){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return r(!0),void e.closeToast();y.style.transition="transform 0.2s, opacity 0.2s",y.style.transform=`translate${e.draggableDirection}(0)`,y.style.opacity="1"}}j.useEffect(()=>{a.current=e}),j.useEffect(()=>(o.current&&o.current.addEventListener("d",v,{once:!0}),yn(e.onOpen)&&e.onOpen(j.isValidElement(e.children)&&e.children.props),()=>{const y=a.current;yn(y.onClose)&&y.onClose(j.isValidElement(y.children)&&y.children.props)}),[]),j.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||x(),window.addEventListener("focus",v),window.addEventListener("blur",x)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",v),window.removeEventListener("blur",x))}),[e.pauseOnFocusLoss]);const w={onMouseDown:d,onTouchStart:d,onMouseUp:m,onTouchEnd:m};return l&&c&&(w.onMouseEnter=x,w.onMouseLeave=v),h&&(w.onClick=y=>{f&&f(y),s.canCloseOnClick&&u()}),{playToast:v,pauseToast:x,isRunning:t,preventExitTransition:i,toastRef:o,eventHandlers:w}}function JT(e){let{closeToast:t,theme:n,ariaLabel:i="close"}=e;return tt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:r=>{r.stopPropagation(),t(r)},"aria-label":i},tt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},tt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function yU(e){let{delay:t,isRunning:n,closeToast:i,type:r="default",hide:o,className:s,style:a,controlledProgress:l,progress:c,rtl:u,isIn:f,theme:h}=e;const d=o||l&&c===0,m={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:d?0:1};l&&(m.transform=`scaleX(${c})`);const v=Jr("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":u}),x=yn(s)?s({rtl:u,type:r,defaultClassName:v}):Jr(v,s);return tt.createElement("div",{role:"progressbar","aria-hidden":d?"true":"false","aria-label":"notification timer",className:x,style:m,[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{f&&i()}})}const vU=e=>{const{isRunning:t,preventExitTransition:n,toastRef:i,eventHandlers:r}=gU(e),{closeButton:o,children:s,autoClose:a,onClick:l,type:c,hideProgressBar:u,closeToast:f,transition:h,position:d,className:m,style:v,bodyClassName:x,bodyStyle:p,progressClassName:g,progressStyle:w,updateId:y,role:_,progress:b,rtl:M,toastId:N,deleteToast:S,isIn:U,isLoading:R,iconOut:F,closeOnClick:k,theme:P}=e,C=Jr("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":M},{"Toastify__toast--close-on-click":k}),B=yn(m)?m({rtl:M,position:d,type:c,defaultClassName:C}):Jr(C,m),L=!!b||!a,I={closeToast:f,type:c,theme:P};let H=null;return o===!1||(H=yn(o)?o(I):j.isValidElement(o)?j.cloneElement(o,I):JT(I)),tt.createElement(h,{isIn:U,done:S,position:d,preventExitTransition:n,nodeRef:i},tt.createElement("div",{id:N,onClick:l,className:B,...r,style:v,ref:i},tt.createElement("div",{...U&&{role:_},className:yn(x)?x({type:c}):Jr("Toastify__toast-body",x),style:p},F!=null&&tt.createElement("div",{className:Jr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!R})},F),tt.createElement("div",null,s)),H,tt.createElement(yU,{...y&&!L?{key:`pb-${y}`}:{},rtl:M,theme:P,delay:a,isRunning:t,isIn:U,closeToast:f,hide:u,type:c,style:w,className:g,controlledProgress:L,progress:b||0})))},kp=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},xU=Ip(kp("bounce",!0));Ip(kp("slide",!0));Ip(kp("zoom"));Ip(kp("flip"));const wv=j.forwardRef((e,t)=>{const{getToastToRender:n,containerRef:i,isToastActive:r}=mU(e),{className:o,style:s,rtl:a,containerId:l}=e;function c(u){const f=Jr("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":a});return yn(o)?o({position:u,rtl:a,defaultClassName:f}):Jr(f,Ph(o))}return j.useEffect(()=>{t&&(t.current=i.current)},[]),tt.createElement("div",{ref:i,className:"Toastify",id:l},n((u,f)=>{const h=f.length?{...s}:{...s,pointerEvents:"none"};return tt.createElement("div",{className:c(u),style:h,key:`container-${u}`},f.map((d,m)=>{let{content:v,props:x}=d;return tt.createElement(vU,{...x,isIn:r(x.toastId),style:{...x.style,"--nth":m+1,"--len":f.length},key:`toast-${x.key}`},v)}))}))});wv.displayName="ToastContainer",wv.defaultProps={position:"top-right",transition:xU,autoClose:5e3,closeButton:JT,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let sg,Fo=new Map,zl=[],wU=1;function ZT(){return""+wU++}function _U(e){return e&&(fs(e.toastId)||ac(e.toastId))?e.toastId:ZT()}function lc(e,t){return Fo.size>0?Gn.emit(0,e,t):zl.push({content:e,options:t}),t.toastId}function Zd(e,t){return{...t,type:t&&t.type||e,toastId:_U(t)}}function sh(e){return(t,n)=>lc(t,Zd(e,n))}function lt(e,t){return lc(e,Zd("default",t))}lt.loading=(e,t)=>lc(e,Zd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),lt.promise=function(e,t,n){let i,{pending:r,error:o,success:s}=t;r&&(i=fs(r)?lt.loading(r,n):lt.loading(r.render,{...n,...r}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(u,f,h)=>{if(f==null)return void lt.dismiss(i);const d={type:u,...a,...n,data:h},m=fs(f)?{render:f}:f;return i?lt.update(i,{...d,...m}):lt(m.render,{...d,...m}),h},c=yn(e)?e():e;return c.then(u=>l("success",s,u)).catch(u=>l("error",o,u)),c},lt.success=sh("success"),lt.info=sh("info"),lt.error=sh("error"),lt.warning=sh("warning"),lt.warn=lt.warning,lt.dark=(e,t)=>lc(e,Zd("default",{theme:"dark",...t})),lt.dismiss=e=>{Fo.size>0?Gn.emit(1,e):zl=zl.filter(t=>e!=null&&t.options.toastId!==e)},lt.clearWaitingQueue=function(e){return e===void 0&&(e={}),Gn.emit(5,e)},lt.isActive=e=>{let t=!1;return Fo.forEach(n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)}),t},lt.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const n=function(i,r){let{containerId:o}=r;const s=Fo.get(o||sg);return s&&s.getToast(i)}(e,t);if(n){const{props:i,content:r}=n,o={delay:100,...i,...t,toastId:t.toastId||e,updateId:ZT()};o.toastId!==e&&(o.staleId=e);const s=o.render||r;delete o.render,lc(s,o)}},0)},lt.done=e=>{lt.update(e,{progress:1})},lt.onChange=e=>(Gn.on(4,e),()=>{Gn.off(4,e)}),lt.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},lt.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Gn.on(2,e=>{sg=e.containerId||e,Fo.set(sg,e),zl.forEach(t=>{Gn.emit(0,t.content,t.options)}),zl=[]}).on(3,e=>{Fo.delete(e.containerId||e),Fo.size===0&&Gn.off(0).off(1).off(5)});const xu={_origin:"https://api.emailjs.com"},bU=(e,t="https://api.emailjs.com")=>{xu._userID=e,xu._origin=t},KT=(e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class a1{constructor(t){this.status=t.status,this.text=t.responseText}}const QT=(e,t,n={})=>new Promise((i,r)=>{const o=new XMLHttpRequest;o.addEventListener("load",({target:s})=>{const a=new a1(s);a.status===200||a.text==="OK"?i(a):r(a)}),o.addEventListener("error",({target:s})=>{r(new a1(s))}),o.open("POST",xu._origin+e,!0),Object.keys(n).forEach(s=>{o.setRequestHeader(s,n[s])}),o.send(t)}),MU=(e,t,n,i)=>{const r=i||xu._userID;return KT(r,e,t),QT("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:r,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"})},EU=e=>{let t;if(typeof e=="string"?t=document.querySelector(e):t=e,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},SU=(e,t,n,i)=>{const r=i||xu._userID,o=EU(n);KT(r,e,t);const s=new FormData(o);return s.append("lib_version","3.2.0"),s.append("service_id",e),s.append("template_id",t),s.append("user_id",r),QT("/api/v1.0/email/send-form",s)},TU={init:bU,send:MU,sendForm:SU},AU="/holifun/assets/background-about-798b1a60.png";function PU(){const e=j.useRef(null),t=i=>{lt[i]("Success, your message was sent!",{position:"bottom-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0,theme:"dark"})},n=i=>{i.preventDefault();const r=i.target.name.value.trim(),o=i.target.user_email.value.trim(),s=i.target.message.value.trim();if(!r||!o||!s){lt.error("Please fill in all required fields",{position:"bottom-right",autoClose:3e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!1,progress:void 0,theme:"dark"});return}TU.sendForm("service_lwojhle","template_1kgkty5",i.target,"AsJ3rbV5H9oTVu7ox").then(a=>{console.info(a.text),t("success"),e.current.reset()},a=>{console.error(a.text),t("error")})};return V.jsxs("section",{className:"mb-10 grid h-full grid-cols-1 grid-rows-[auto_1fr] bg-cover bg-no-repeat px-4",style:{backgroundImage:`url(${AU})`},children:[V.jsx("h1",{className:"text-center",children:"Contact us"}),V.jsxs("form",{className:"flex flex-col items-center justify-center place-self-center ",ref:e,onSubmit:n,children:[V.jsx("div",{children:V.jsx("input",{className:"form__input w-[80vw] items-start rounded px-5 py-1.5 outline-none placeholder:text-neutral-900 md:w-[600px]",type:"text",placeholder:"username",id:"text",name:"name"})}),V.jsx("div",{children:V.jsx("input",{className:"form__input w-[80vw] items-start rounded px-5 py-1.5 outline-none placeholder:text-neutral-900  md:w-[600px]",type:"email",placeholder:"email@example.com",id:"email",name:"user_email"})}),V.jsx("div",{children:V.jsx("textarea",{className:"textarea w-[80vw] items-start rounded px-5 py-1.5 outline-none placeholder:text-neutral-900  md:w-[600px]",placeholder:"Type your text here",name:"message"})}),V.jsx("input",{className:"form__input submit w-[80vw] md:w-[600px] ",type:"submit",value:"Send",onClick:t})]}),V.jsx(wv,{})]})}const CU="/holifun/assets/linkedIn-9dc73ce4.svg",LU="/holifun/assets/github-41c60d0b.svg";function RU({firstname:e,img:t,linkedIn:n,github:i}){const r=()=>{n&&(window.location.href=n)},o=()=>{i&&(window.location.href=i)};return V.jsxs(V.Fragment,{children:[V.jsx("img",{src:t,alt:e.toLowerCase(),className:"h-[224px] w-full object-cover md:h-[280px]"}),V.jsx("h2",{children:e}),V.jsxs("div",{className:"flex gap-4",children:[V.jsx("button",{type:"button",onClick:r,children:V.jsx("img",{src:CU,alt:"linkedIn",width:"32",height:"32"})}),V.jsx("button",{type:"button",onClick:o,children:V.jsx("img",{src:LU,alt:"github",width:"32",height:"32"})})]})]})}const OU=[{id:"1",firstname:"Hafsa 🏝️",lastname:"Aït Ouarraou",img:"../public/assets/images/profile-hafsa.jpg",linkedIn:"https://www.linkedin.com/in/hafsa-a%C3%AFt-ouarraou-49a5ab269/",github:"https://github.com/hxfsa"},{id:"2",firstname:"Denis ⛱️",lastname:"Dezest",img:"../../public/assets/images/profile-denis.jpg",linkedIn:"https://www.linkedin.com/in/denis-dezest-20880387/",github:"https://github.com/ddZ6ii"},{id:"3",firstname:"Jeremy 🍹",lastname:"Dohin",img:"../public/assets/images/profile-jeremy.jpg",linkedIn:"https://www.linkedin.com/in/jeremy-dohin/",github:"https://github.com/Arkantik"},{id:"4",firstname:"Badis ⛵️",lastname:"Beloucif",img:"../public/assets/images/profile-badis.jpeg",linkedIn:"https://www.linkedin.com/in/badis-beloucif-a6b2b2164/",github:"https://github.com/Badis69"}],DU="/holifun/assets/background-1-7ce2e1ed.png";function NU(){const e=OU;return V.jsx("section",{className:"h-full bg-cover bg-no-repeat px-4",style:{backgroundImage:`url(${DU})`},children:V.jsxs("div",{className:"grid h-full grid-cols-1 grid-rows-[auto_1fr] overflow-y-auto",children:[V.jsx("h1",{className:"text-center",children:"The Reactors Team 🚀 "}),V.jsx("ul",{className:"mb- flex flex-wrap justify-center gap-[3vw] self-center",children:e.map(t=>V.jsx("li",{className:"flex h-fit w-[200px] max-w-[250px] flex-col items-center gap-4 overflow-hidden rounded-lg bg-neutral-50/30 pb-4 drop-shadow-xl backdrop-blur-md md:w-[250px]",children:V.jsx(RU,{...t})},t.id))})]})})}function IU({destination:e}){return V.jsxs("div",{className:"group max-w-sm h-[250px] w-[20rem] md:h-[300px] md:w-[24rem] bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700 hover:shadow-xl hover:drop-shadow-lg transition-all ease-in",children:[V.jsx("div",{className:" card-image h-[166px] md:h-[200px] overflow-hidden",children:V.jsx("img",{src:e.cities[0].picture.image1,alt:"big ben",className:"rounded-t-lg group-hover:scale-105 transition-all ease-in"})}),V.jsxs("div",{className:"p-2.5 md:p-5 h-[125px] md:h-[150px]",children:[V.jsx("h5",{className:"text-xl mb-1 md:mb-2 md:text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:e.cities[0].name}),V.jsx("p",{className:"mb-1 md:mb-3 text-sm md:text-base font-normal text-gray-700 dark:text-gray-400",children:e.name.common})]})]})}function kU({region:e,handleFilterChange:t}){const[n,i]=j.useState(!1),r=o=>{i(!n),t(o.target.value,o.target.checked)};return V.jsxs("label",{className:"inline-flex items-center",children:[V.jsx("input",{type:"checkbox",className:"form-checkbox",value:e,checked:n,onChange:r}),V.jsx("span",{className:"ml-2",children:e})]})}const FU="/holifun/assets/filter-a8911fbb.svg";function BU({filterDestinations:e}){const[t,n]=j.useState(!1),[i,r]=j.useState([]),o=["Africa","Americas","Asia","Europe","Oceania"];j.useEffect(()=>{r(Array(o.length).fill(!1))},[]),j.useEffect(()=>{e(i,o)},[i]);const s=()=>{n(!t)},a=(l,c)=>{const f=[...i].map((h,d)=>d===o.indexOf(l)?c:h);r(f)};return V.jsxs("div",{className:"relative flex justify-end",children:[V.jsx("button",{type:"button",className:"z-1 items-center rounded py-1 font-semibold text-gray-800",onClick:s,children:V.jsx("img",{src:FU,alt:"filter button"})}),V.jsx("ul",{className:`${t?"block md:flex md:items-center":"hidden"} absolute right-0 top-0 z-10 translate-y-12 rounded-md bg-neutral-500/60 py-2 text-neutral-50 shadow-md backdrop-blur-md md:bottom-0 md:left-0 md:right-full md:w-fit md:translate-x-12 md:translate-y-0 md:text-neutral-900`,children:o.map((l,c)=>V.jsx("li",{className:"px-4 py-2",children:V.jsx(kU,{region:l,handleFilterChange:a})},c))})]})}const zU="/holifun/assets/Glass-7dce86ef.svg";function UU({handleSearch:e}){return V.jsxs("div",{className:"relative flex items-center",children:[V.jsx("input",{onChange:e,type:"search",placeholder:"Enter your destination...",className:"min-w-[300px] rounded-md border border-neutral-400 bg-neutral-200 px-4 py-2 pl-9 pr-4 outline-none"}),V.jsx("img",{src:zU,className:"absolute pl-2",alt:"loupe"})]})}function HU(){const[e,t]=j.useState([]),[n,i]=j.useState([]),[r,o]=j.useState([]);j.useEffect(()=>{if(localStorage.getItem("destinations")){const l=JSON.parse(localStorage.getItem("destinations"));t(l),o(l)}else{const l="https://restcountries.com/v3.1",c=new AbortController,{signal:u}=c;let f=[],h=[];return eS.get(l+"/all",{signal:u}).then(d=>{f=NT(d.data,gu,"country"),h=IT(f,gu,"cities"),t(h),o(h)}).catch(d=>{console.error(`Error when retrieving data from API: ${d.message}`)}),function(){c.abort()}}},[]),j.useEffect(()=>{e.length>0&&(localStorage.setItem("destinations",JSON.stringify(e)),i(e))},[e]);const s=(l,c)=>{const u=c.filter((f,h)=>l[h]);if(u.length>0){const h=[...e].filter(d=>u.includes(d.region));i(h)}else i(e)},a=l=>{const c=l.target.value.toLowerCase(),u=r.filter(f=>f.cities[0].name.toLowerCase().includes(c));t(u)};return V.jsxs("section",{className:"mb-10 grid h-full grid-cols-1 grid-rows-[auto_1fr] px-4",children:[V.jsx("h1",{className:"flex justify-center",children:"Destinations"}),V.jsxs("div",{className:"mb-4 flex items-center justify-center gap-4",children:[V.jsx(UU,{handleSearch:a}),V.jsx(BU,{filterDestinations:s})]}),V.jsx("ul",{className:"flex flex-wrap justify-center gap-16 overflow-y-auto",children:n.map((l,c)=>V.jsx("li",{children:V.jsx(Bo,{to:`/holifun/destinations/${l.id}`,children:V.jsx(IU,{destination:l})})},c))})]})}function GU(){const[e,t]=j.useState({}),{id:n}=QP();return j.useEffect(()=>{const r=JSON.parse(localStorage.getItem("destinations")).filter(o=>o.id==n);console.log(r),t(r[0])},[]),V.jsxs("section",{className:"grid h-full auto-rows-min grid-cols-1 overflow-y-auto px-4 md:grid-cols-3 md:gap-4",children:[V.jsx("h1",{className:"text-center md:col-span-3",children:e.cities?e.cities[0].name:null}),V.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[V.jsx("img",{src:e.cities?e.cities[0].picture.image1:null,alt:e.cities?e.cities[0].name+" 1":null,className:"h-40 max-h-[360px] w-full rounded-lg object-cover md:h-[30vw]"}),V.jsx("img",{src:e.cities?e.cities[0].picture.image2:null,alt:e.cities?e.cities[0].name+" 2":null,className:"h-40 max-h-[360px] w-full rounded-lg object-cover md:h-[30vw]"}),V.jsx("img",{src:e.cities?e.cities[0].picture.image3:null,alt:e.cities?e.cities[0].name+" 3":null,className:"h-40 max-h-[360px] w-full rounded-lg object-cover md:h-[30vw]"}),V.jsx("img",{src:e.cities?e.cities[0].picture.image4:null,alt:e.cities?e.cities[0].name+" 4":null,className:"h-40 max-h-[360px] w-full rounded-lg object-cover md:h-[30vw]"})]}),V.jsxs("article",{className:"mt-4 md:row-span-4 md:mt-0 md:rounded-lg md:border md:border-neutral-300 md:p-4 md:shadow-lg",children:[V.jsx("h2",{className:"mb-2 font-bold",children:e.name?e.name.common:null}),V.jsx("img",{src:e.cities?e.cities[0].flag:null,alt:"flag",className:"mb-8"}),V.jsx("p",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:e.cities?e.cities[0].description:null}})]}),V.jsxs("article",{className:"mt-4 md:col-span-2",children:[V.jsxs("h2",{className:"mb-2 font-bold",children:["🎭 Things To Do In"," ",e.cities?e.cities[0].name:null]}),V.jsxs("ul",{className:"list-disc pl-4",children:[V.jsx("li",{children:e.cities?e.cities[0].visit.place1:null}),V.jsx("li",{children:e.cities?e.cities[0].visit.place2:null}),V.jsx("li",{children:e.cities?e.cities[0].visit.place3:null})]})]}),V.jsxs("article",{className:"my-4 md:col-span-2",children:[V.jsx("h2",{className:"mb-2 font-bold",children:"🛎️ Restaurants"}),V.jsxs("ul",{className:"list-disc pl-4",children:[V.jsx("li",{children:e.cities?e.cities[0].restaurant.restaurant1:null}),V.jsx("li",{children:e.cities?e.cities[0].restaurant.restaurant2:null}),V.jsx("li",{children:e.cities?e.cities[0].restaurant.restaurant3:null})]})]})]})}const VU="/holifun/assets/logo-2-deef219b.png",WU="/holifun/assets/menu-hamburger-umbrella-5b6e2002.svg";function jU(){const[e,t]=j.useState(!1),n=()=>t(!1),i=()=>t(r=>!r);return V.jsx("header",{children:V.jsxs("nav",{className:"relative flex items-center justify-between px-4",children:[V.jsxs("div",{className:"z-50 flex items-center gap-4",children:[V.jsx(Bo,{to:"/holifun",children:V.jsx("img",{src:VU,alt:"logo HoliFun",width:"48",height:"48",className:"block",onClick:n})}),V.jsx("h1",{className:"text-[#84e7eb]",children:"HoliFun"})]}),V.jsxs("ul",{className:`gap-16 font-bold no-underline ${e?"absolute left-0 top-0 z-20 flex h-[100vh] w-full flex-col items-center justify-center bg-cyan-600/95 text-neutral-50 backdrop-blur-lg":"hidden pr-4 md:flex"}`,children:[V.jsx("li",{className:"no-underline",children:V.jsx(Bo,{to:"/holifun/",onClick:n,className:({isActive:r})=>`navlink ${r&&!e?"is-active":""}`,children:"Home"})}),V.jsx("li",{children:V.jsx(Bo,{to:"/holifun/destinations",onClick:n,className:({isActive:r})=>`navlink ${r&&!e?"is-active":""}`,children:"Destinations"})}),V.jsx("li",{children:V.jsx(Bo,{to:"/holifun/contact",onClick:n,className:({isActive:r})=>`navlink ${r&&!e?"is-active":""}`,children:"Contact"})}),V.jsx("li",{children:V.jsx(Bo,{to:"/holifun/about",onClick:n,className:({isActive:r})=>`navlink ${r&&!e?"is-active":""}`,children:"About"})})]}),V.jsx("button",{type:"button",className:"z-50 md:hidden",onClick:i,children:V.jsx("img",{src:WU,alt:"menu hamburger",width:"32",height:"32"})})]})})}function qU(){return V.jsx("footer",{className:"flex justify-center py-2 bg-neutral-900 text-neutral-50 md:text-sm text-xs",children:V.jsx("p",{children:"© The Reactors 🚀 | WCS 02-23"})})}function $U(){return V.jsxs("div",{className:"wrapper grid min-h-screen grid-cols-1 grid-rows-[auto_1fr_auto]",children:[V.jsx("header",{className:"bg-neutral-900 py-2 text-neutral-50",children:V.jsx(jU,{})}),V.jsx("main",{className:"max-h-[calc(100vh-98px)] overflow-hidden",children:V.jsxs(dC,{children:[V.jsx(Do,{path:"/holifun",element:V.jsx(fU,{})}),V.jsx(Do,{path:"/holifun/destinations",element:V.jsx(HU,{})}),V.jsx(Do,{path:"/holifun/destinations/:id",element:V.jsx(GU,{})}),V.jsx(Do,{path:"/holifun/contact",element:V.jsx(PU,{})}),V.jsx(Do,{path:"/holifun/about",element:V.jsx(NU,{})}),V.jsx(Do,{path:"*",element:V.jsx(dU,{})})]})}),V.jsx(qU,{})]})}const XU={globeBackgroundTexture:"https://raw.githubusercontent.com/chrisrzhou/react-globe/main/textures/background.png",globeCloudsTexture:"https://raw.githubusercontent.com/chrisrzhou/react-globe/main/textures/clouds.png",options:{ambientLightIntensity:1,cameraAutoRotateSpeed:.01,cameraRotateSpeed:.2,enableCameraZoom:!1,focusAnimationDuration:1e3,globeCloudsOpacity:.3,globeGlowCoefficient:.1,globeGlowPower:5,globeGlowRadiusScale:.2,pointLightIntensity:3,pointLightPositionRadiusScales:[-1,1.5,-2.5]}},{lastUpdated:YU,relatedTopics:JU,trends:ZU}=gu,KU={config:XU,focusedMarker:null,hasLoaded:!1,lastUpdated:YU,markers:ZU,relatedTopics:JU,start:!1};function QU(e,t){const{payload:n,type:i}=t;switch(i){case"LOADED":return{...e,hasLoaded:!0};case"START":return{...e,start:!0};case"FOCUS":return{...e,focusedMarker:n};default:return e}}const e5=j.createContext(null);function t5({children:e,initialState:t,reducer:n}){return V.jsx(e5.Provider,{value:j.useReducer(n,t),children:e})}ag.createRoot(document.getElementById("root")).render(V.jsx(t5,{initialState:KU,reducer:QU,children:V.jsx(vC,{children:V.jsx($U,{})})}))});export default n5();
